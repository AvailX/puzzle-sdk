(function(ie,ps){typeof exports=="object"&&typeof module<"u"?ps(exports):typeof define=="function"&&define.amd?define(["exports"],ps):(ie=typeof globalThis<"u"?globalThis:ie||self,ps(ie["@puzzlehq/sdk"]={}))})(this,function(ie){"use strict";const ps=Symbol(),Ju=Object.getPrototypeOf,rc=new WeakMap,Eg=t=>t&&(rc.has(t)?rc.get(t):Ju(t)===Object.prototype||Ju(t)===Array.prototype),Sg=t=>Eg(t)&&t[ps]||null,Xu=(t,e=!0)=>{rc.set(t,e)};var Eo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const nc=t=>typeof t=="object"&&t!==null,vn=new WeakMap,So=new WeakSet,xg=(t=Object.is,e=(l,d)=>new Proxy(l,d),r=l=>nc(l)&&!So.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,d,f=n)=>{const g=i.get(l);if((g==null?void 0:g[0])===d)return g[1];const y=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Xu(y,!0),i.set(l,[d,y]),Reflect.ownKeys(l).forEach(b=>{if(Object.getOwnPropertyDescriptor(y,b))return;const E=Reflect.get(l,b),C={value:E,enumerable:!0,configurable:!0};if(So.has(E))Xu(E,!1);else if(E instanceof Promise)delete C.value,C.get=()=>f(E);else if(vn.has(E)){const[I,_]=vn.get(E);C.value=s(I,_(),f)}Object.defineProperty(y,b,C)}),Object.preventExtensions(y)},o=new WeakMap,a=[1,1],c=l=>{if(!nc(l))throw new Error("object required");const d=o.get(l);if(d)return d;let f=a[0];const g=new Set,y=(L,P=++a[0])=>{f!==P&&(f=P,g.forEach(q=>q(L,P)))};let b=a[1];const E=(L=++a[1])=>(b!==L&&!g.size&&(b=L,I.forEach(([P])=>{const q=P[1](L);q>f&&(f=q)})),f),C=L=>(P,q)=>{const Z=[...P];Z[1]=[L,...Z[1]],y(Z,q)},I=new Map,_=(L,P)=>{if((Eo?"production":void 0)!=="production"&&I.has(L))throw new Error("prop listener already exists");if(g.size){const q=P[3](C(L));I.set(L,[P,q])}else I.set(L,[P])},x=L=>{var P;const q=I.get(L);q&&(I.delete(L),(P=q[1])==null||P.call(q))},w=L=>(g.add(L),g.size===1&&I.forEach(([q,Z],Q)=>{if((Eo?"production":void 0)!=="production"&&Z)throw new Error("remove already exists");const $=q[3](C(Q));I.set(Q,[q,$])}),()=>{g.delete(L),g.size===0&&I.forEach(([q,Z],Q)=>{Z&&(Z(),I.set(Q,[q]))})}),S=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),u=e(S,{deleteProperty(L,P){const q=Reflect.get(L,P);x(P);const Z=Reflect.deleteProperty(L,P);return Z&&y(["delete",[P],q]),Z},set(L,P,q,Z){const Q=Reflect.has(L,P),$=Reflect.get(L,P,Z);if(Q&&(t($,q)||o.has(q)&&t($,o.get(q))))return!0;x(P),nc(q)&&(q=Sg(q)||q);let U=q;if(q instanceof Promise)q.then(X=>{q.status="fulfilled",q.value=X,y(["resolve",[P],X])}).catch(X=>{q.status="rejected",q.reason=X,y(["reject",[P],X])});else{!vn.has(q)&&r(q)&&(U=c(q));const X=!So.has(U)&&vn.get(U);X&&_(P,X)}return Reflect.set(L,P,U,Z),y(["set",[P],q,$]),!0}});o.set(l,u);const v=[S,E,s,w];return vn.set(u,v),Reflect.ownKeys(l).forEach(L=>{const P=Object.getOwnPropertyDescriptor(l,L);"value"in P&&(u[L]=l[L],delete P.value,delete P.writable),Object.defineProperty(S,L,P)}),u})=>[c,vn,So,t,e,r,n,i,s,o,a],[Cg]=xg();function wn(t={}){return Cg(t)}function jn(t,e,r){const n=vn.get(t);(Eo?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const l=o(d=>{if(s.push(d),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Og(t,e){const r=vn.get(t);(Eo?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}const Zt=wn({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),Rt={state:Zt,subscribe(t){return jn(Zt,()=>t(Zt))},push(t,e){t!==Zt.view&&(Zt.view=t,e&&(Zt.data=e),Zt.history.push(t))},reset(t){Zt.view=t,Zt.history=[t]},replace(t){Zt.history.length>1&&(Zt.history[Zt.history.length-1]=t,Zt.view=t)},goBack(){if(Zt.history.length>1){Zt.history.pop();const[t]=Zt.history.slice(-1);Zt.view=t}},setData(t){Zt.data=t}},ve={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return ve.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const t=navigator.userAgent.toLowerCase();return ve.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},isArray(t){return Array.isArray(t)&&t.length>0},formatNativeUrl(t,e,r){if(ve.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!ve.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(ve.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(ve.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(ve.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(ve.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=(t=Rt.state.data)==null?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},Dg=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),tr=wn({enabled:Dg,userSessionId:"",events:[],connectedWalletId:void 0}),ed={state:tr,subscribe(t){return jn(tr.events,()=>t(Og(tr.events[tr.events.length-1])))},initialize(){tr.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(tr.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){tr.connectedWalletId=t},click(t){if(tr.enabled){const e={type:"CLICK",name:t.name,userSessionId:tr.userSessionId,timestamp:Date.now(),data:t};tr.events.push(e)}},track(t){if(tr.enabled){const e={type:"TRACK",name:t.name,userSessionId:tr.userSessionId,timestamp:Date.now(),data:t};tr.events.push(e)}},view(t){if(tr.enabled){const e={type:"VIEW",name:t.name,userSessionId:tr.userSessionId,timestamp:Date.now(),data:t};tr.events.push(e)}}},Kr=wn({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),jt={state:Kr,subscribe(t){return jn(Kr,()=>t(Kr))},setChains(t){Kr.chains=t},setWalletConnectUri(t){Kr.walletConnectUri=t},setIsCustomDesktop(t){Kr.isCustomDesktop=t},setIsCustomMobile(t){Kr.isCustomMobile=t},setIsDataLoaded(t){Kr.isDataLoaded=t},setIsUiLoaded(t){Kr.isUiLoaded=t},setIsAuth(t){Kr.isAuth=t}},xo=wn({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Cr={state:xo,subscribe(t){return jn(xo,()=>t(xo))},setConfig(t){var e,r;ed.initialize(),jt.setChains(t.chains),jt.setIsAuth(!!t.enableAuthMode),jt.setIsCustomMobile(!!((e=t.mobileWallets)!=null&&e.length)),jt.setIsCustomDesktop(!!((r=t.desktopWallets)!=null&&r.length)),ve.setModalVersionInStorage(),Object.assign(xo,t)}};var Ig=Object.defineProperty,td=Object.getOwnPropertySymbols,Tg=Object.prototype.hasOwnProperty,Ag=Object.prototype.propertyIsEnumerable,rd=(t,e,r)=>e in t?Ig(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rg=(t,e)=>{for(var r in e||(e={}))Tg.call(e,r)&&rd(t,r,e[r]);if(td)for(var r of td(e))Ag.call(e,r)&&rd(t,r,e[r]);return t};const ic="https://explorer-api.walletconnect.com",sc="wcm",oc="js-2.6.2";async function Co(t,e){const r=Rg({sdkType:sc,sdkVersion:oc},e),n=new URL(t,ic);return n.searchParams.append("projectId",Cr.state.projectId),Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,String(s))}),(await fetch(n)).json()}const Bn={async getDesktopListings(t){return Co("/w3m/v1/getDesktopListings",t)},async getMobileListings(t){return Co("/w3m/v1/getMobileListings",t)},async getInjectedListings(t){return Co("/w3m/v1/getInjectedListings",t)},async getAllListings(t){return Co("/w3m/v1/getAllListings",t)},getWalletImageUrl(t){return`${ic}/w3m/v1/getWalletImage/${t}?projectId=${Cr.state.projectId}&sdkType=${sc}&sdkVersion=${oc}`},getAssetImageUrl(t){return`${ic}/w3m/v1/getAssetImage/${t}?projectId=${Cr.state.projectId}&sdkType=${sc}&sdkVersion=${oc}`}};var Pg=Object.defineProperty,nd=Object.getOwnPropertySymbols,$g=Object.prototype.hasOwnProperty,Ng=Object.prototype.propertyIsEnumerable,id=(t,e,r)=>e in t?Pg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lg=(t,e)=>{for(var r in e||(e={}))$g.call(e,r)&&id(t,r,e[r]);if(nd)for(var r of nd(e))Ng.call(e,r)&&id(t,r,e[r]);return t};const sd=ve.isMobile(),Zr=wn({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),wr={state:Zr,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=Cr.state;if(t==="NONE"||e==="ALL"&&!t)return Zr.recomendedWallets;if(ve.isArray(t)){const r={recommendedIds:t.join(",")},{listings:n}=await Bn.getAllListings(r),i=Object.values(n);i.sort((s,o)=>{const a=t.indexOf(s.id),c=t.indexOf(o.id);return a-c}),Zr.recomendedWallets=i}else{const{chains:r,isAuth:n}=jt.state,i=r==null?void 0:r.join(","),s=ve.isArray(e),o={page:1,sdks:n?"auth_v1":void 0,entries:ve.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:s?e.join(","):void 0},{listings:a}=sd?await Bn.getMobileListings(o):await Bn.getDesktopListings(o);Zr.recomendedWallets=Object.values(a)}return Zr.recomendedWallets},async getWallets(t){const e=Lg({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=Cr.state,{recomendedWallets:i}=Zr;if(n==="ALL")return Zr.wallets;i.length?e.excludedIds=i.map(f=>f.id).join(","):ve.isArray(r)&&(e.excludedIds=r.join(",")),ve.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),jt.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:o}=t,{listings:a,total:c}=sd?await Bn.getMobileListings(e):await Bn.getDesktopListings(e),l=Object.values(a),d=o?"search":"wallets";return Zr[d]={listings:[...Zr[d].listings,...l],total:c,page:s??1},{listings:l,total:c}},getWalletImageUrl(t){return Bn.getWalletImageUrl(t)},getAssetImageUrl(t){return Bn.getAssetImageUrl(t)},resetSearch(){Zr.search={listings:[],total:0,page:1}}},Ei=wn({open:!1}),qn={state:Ei,subscribe(t){return jn(Ei,()=>t(Ei))},async open(t){return new Promise(e=>{const{isUiLoaded:r,isDataLoaded:n}=jt.state;if(ve.removeWalletConnectDeepLink(),jt.setWalletConnectUri(t==null?void 0:t.uri),jt.setChains(t==null?void 0:t.chains),Rt.reset("ConnectWallet"),r&&n)Ei.open=!0,e();else{const i=setInterval(()=>{const s=jt.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(i),Ei.open=!0,e())},200)}})},close(){Ei.open=!1}};var Mg=Object.defineProperty,od=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,Fg=Object.prototype.propertyIsEnumerable,ad=(t,e,r)=>e in t?Mg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ug=(t,e)=>{for(var r in e||(e={}))kg.call(e,r)&&ad(t,r,e[r]);if(od)for(var r of od(e))Fg.call(e,r)&&ad(t,r,e[r]);return t};function jg(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const gs=wn({themeMode:jg()?"dark":"light"}),bn={state:gs,subscribe(t){return jn(gs,()=>t(gs))},setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(gs.themeMode=e),r&&(gs.themeVariables=Ug({},r))}},zn=wn({open:!1,message:"",variant:"success"}),_n={state:zn,subscribe(t){return jn(zn,()=>t(zn))},openToast(t,e){zn.open=!0,zn.message=t,zn.variant=e},closeToast(){zn.open=!1}};let Bg=class{constructor(e){this.openModal=qn.open,this.closeModal=qn.close,this.subscribeModal=qn.subscribe,this.setTheme=bn.setThemeConfig,bn.setThemeConfig(e),Cr.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(()=>Wx);const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),jt.setIsUiLoaded(!0)}}};var Gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Si(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ac={exports:{}},xi=typeof Reflect=="object"?Reflect:null,cd=xi&&typeof xi.apply=="function"?xi.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Do;xi&&typeof xi.ownKeys=="function"?Do=xi.ownKeys:Object.getOwnPropertySymbols?Do=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Do=function(e){return Object.getOwnPropertyNames(e)};function qg(t){console&&console.warn&&console.warn(t)}var ld=Number.isNaN||function(e){return e!==e};function gt(){gt.init.call(this)}ac.exports=gt,ac.exports.once=Hg,gt.EventEmitter=gt,gt.prototype._events=void 0,gt.prototype._eventsCount=0,gt.prototype._maxListeners=void 0;var ud=10;function Io(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(gt,"defaultMaxListeners",{enumerable:!0,get:function(){return ud},set:function(t){if(typeof t!="number"||t<0||ld(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ud=t}}),gt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},gt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ld(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function dd(t){return t._maxListeners===void 0?gt.defaultMaxListeners:t._maxListeners}gt.prototype.getMaxListeners=function(){return dd(this)},gt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")cd(c,this,r);else for(var l=c.length,d=md(c,l),n=0;n<l;++n)cd(d[n],this,r);return!0};function hd(t,e,r,n){var i,s,o;if(Io(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=dd(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,qg(a)}return t}gt.prototype.addListener=function(e,r){return hd(this,e,r,!1)},gt.prototype.on=gt.prototype.addListener,gt.prototype.prependListener=function(e,r){return hd(this,e,r,!0)};function zg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fd(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=zg.bind(n);return i.listener=r,n.wrapFn=i,i}gt.prototype.once=function(e,r){return Io(r),this.on(e,fd(this,e,r)),this},gt.prototype.prependOnceListener=function(e,r){return Io(r),this.prependListener(e,fd(this,e,r)),this},gt.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Io(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Wg(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this},gt.prototype.off=gt.prototype.removeListener,gt.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function pd(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Vg(i):md(i,i.length)}gt.prototype.listeners=function(e){return pd(this,e,!0)},gt.prototype.rawListeners=function(e){return pd(this,e,!1)},gt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):gd.call(t,e)},gt.prototype.listenerCount=gd;function gd(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}gt.prototype.eventNames=function(){return this._eventsCount>0?Do(this._events):[]};function md(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Wg(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Vg(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Hg(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}yd(t,e,s,{once:!0}),e!=="error"&&Kg(t,i,{once:!0})})}function Kg(t,e,r){typeof t.on=="function"&&yd(t,"error",e,r)}function yd(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Pr=ac.exports;const To=Si(Pr),Zg=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Gg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Yg=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Qg(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Jg(t);return}return e}function Jg(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ao(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.at(-1)==='"'&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Yg.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Zg.test(t)||Gg.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Qg)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function Xg(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Gt(t,...e){try{return Xg(t(...e))}catch(r){return Promise.reject(r)}}function em(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function tm(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Ro(t){if(em(t))return String(t);if(tm(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Ro(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function vd(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const cc="base64:";function rm(t){if(typeof t=="string")return t;vd();const e=Buffer.from(t).toString("base64");return cc+e}function nm(t){return typeof t!="string"||!t.startsWith(cc)?t:(vd(),Buffer.from(t.slice(cc.length),"base64"))}function br(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function im(...t){return br(t.join(":"))}function Po(t){return t=br(t),t?t+":":""}function Zx(t){return t}const sm="memory",om=()=>{const t=new Map;return{name:sm,options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function am(t={}){const e={mounts:{"":t.driver||om()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const d of e.mountpoints)if(l.startsWith(d))return{base:d,relativeKey:l.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,d)=>e.mountpoints.filter(f=>f.startsWith(l)||d&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,d)=>{if(e.watching){d=br(d);for(const f of e.watchListeners)f(l,d)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await wd(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,d,f)=>{const g=new Map,y=b=>{let E=g.get(b.base);return E||(E={driver:b.driver,base:b.base,items:[]},g.set(b.base,E)),E};for(const b of l){const E=typeof b=="string",C=br(E?b:b.key),I=E?void 0:b.value,_=E||!b.options?d:{...d,...b.options},x=r(C);y(x).items.push({key:C,value:I,relativeKey:x.relativeKey,options:_})}return Promise.all([...g.values()].map(b=>f(b))).then(b=>b.flat())},c={hasItem(l,d={}){l=br(l);const{relativeKey:f,driver:g}=r(l);return Gt(g.hasItem,f,d)},getItem(l,d={}){l=br(l);const{relativeKey:f,driver:g}=r(l);return Gt(g.getItem,f,d).then(y=>Ao(y))},getItems(l,d){return a(l,d,f=>f.driver.getItems?Gt(f.driver.getItems,f.items.map(g=>({key:g.relativeKey,options:g.options})),d).then(g=>g.map(y=>({key:im(f.base,y.key),value:Ao(y.value)}))):Promise.all(f.items.map(g=>Gt(f.driver.getItem,g.relativeKey,g.options).then(y=>({key:g.key,value:Ao(y)})))))},getItemRaw(l,d={}){l=br(l);const{relativeKey:f,driver:g}=r(l);return g.getItemRaw?Gt(g.getItemRaw,f,d):Gt(g.getItem,f,d).then(y=>nm(y))},async setItem(l,d,f={}){if(d===void 0)return c.removeItem(l);l=br(l);const{relativeKey:g,driver:y}=r(l);y.setItem&&(await Gt(y.setItem,g,Ro(d),f),y.watch||i("update",l))},async setItems(l,d){await a(l,d,async f=>{f.driver.setItems&&await Gt(f.driver.setItems,f.items.map(g=>({key:g.relativeKey,value:Ro(g.value),options:g.options})),d),f.driver.setItem&&await Promise.all(f.items.map(g=>Gt(f.driver.setItem,g.relativeKey,Ro(g.value),g.options)))})},async setItemRaw(l,d,f={}){if(d===void 0)return c.removeItem(l,f);l=br(l);const{relativeKey:g,driver:y}=r(l);if(y.setItemRaw)await Gt(y.setItemRaw,g,d,f);else if(y.setItem)await Gt(y.setItem,g,rm(d),f);else return;y.watch||i("update",l)},async removeItem(l,d={}){typeof d=="boolean"&&(d={removeMeta:d}),l=br(l);const{relativeKey:f,driver:g}=r(l);g.removeItem&&(await Gt(g.removeItem,f,d),(d.removeMeta||d.removeMata)&&await Gt(g.removeItem,f+"$",d),g.watch||i("remove",l))},async getMeta(l,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),l=br(l);const{relativeKey:f,driver:g}=r(l),y=Object.create(null);if(g.getMeta&&Object.assign(y,await Gt(g.getMeta,f,d)),!d.nativeOnly){const b=await Gt(g.getItem,f+"$",d).then(E=>Ao(E));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(y,b))}return y},setMeta(l,d,f={}){return this.setItem(l+"$",d,f)},removeMeta(l,d={}){return this.removeItem(l+"$",d)},async getKeys(l,d={}){l=Po(l);const f=n(l,!0);let g=[];const y=[];for(const b of f){const C=(await Gt(b.driver.getKeys,b.relativeBase,d)).map(I=>b.mountpoint+br(I)).filter(I=>!g.some(_=>I.startsWith(_)));y.push(...C),g=[b.mountpoint,...g.filter(I=>!I.startsWith(b.mountpoint))]}return l?y.filter(b=>b.startsWith(l)&&!b.endsWith("$")):y.filter(b=>!b.endsWith("$"))},async clear(l,d={}){l=Po(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return Gt(f.driver.clear,f.relativeBase,d);if(f.driver.removeItem){const g=await f.driver.getKeys(f.relativeBase||"",d);return Promise.all(g.map(y=>f.driver.removeItem(y,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>bd(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,d){if(l=Po(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,g)=>g.length-f.length)),e.mounts[l]=d,e.watching&&Promise.resolve(wd(d,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,d=!0){l=Po(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l](),delete e.unwatch[l]),d&&await bd(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=br(l)+":";const d=r(l);return{driver:d.driver,base:d.base}},getMounts(l="",d={}){return l=br(l),n(l,d.parents).map(g=>({driver:g.driver,base:g.mountpoint}))}};return c}function wd(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function bd(t){typeof t.dispose=="function"&&await Gt(t.dispose)}function Wn(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function _d(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Wn(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let lc;function ms(){return lc||(lc=_d("keyval-store","keyval")),lc}function Ed(t,e=ms()){return e("readonly",r=>Wn(r.get(t)))}function cm(t,e,r=ms()){return r("readwrite",n=>(n.put(e,t),Wn(n.transaction)))}function lm(t,e=ms()){return e("readwrite",r=>(r.delete(t),Wn(r.transaction)))}function um(t=ms()){return t("readwrite",e=>(e.clear(),Wn(e.transaction)))}function dm(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Wn(t.transaction)}function hm(t=ms()){return t("readonly",e=>{if(e.getAllKeys)return Wn(e.getAllKeys());const r=[];return dm(e,n=>r.push(n.key)).then(()=>r)})}const fm=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),pm=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function $o(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return pm(t)}catch{return t}}function ys(t){return typeof t=="string"?t:fm(t)||""}const gm="idb-keyval";var mm=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=_d(t.dbName,t.storeName)),{name:gm,options:t,async hasItem(i){return!(typeof await Ed(r(i),n)>"u")},async getItem(i){return await Ed(r(i),n)??null},setItem(i,s){return cm(r(i),s,n)},removeItem(i){return lm(r(i),n)},getKeys(){return hm(n)},clear(){return um(n)}}};const ym="WALLET_CONNECT_V2_INDEXED_DB",vm="keyvaluestorage";let wm=class{constructor(){this.indexedDb=am({driver:mm({dbName:ym,storeName:vm})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,ys(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof uc<"u"&&uc.localStorage?No.exports=uc.localStorage:typeof window<"u"&&window.localStorage?No.exports=window.localStorage:No.exports=new e})();function bm(t){var e;return[t[0],$o((e=t[1])!=null?e:"")]}let _m=class{constructor(){this.localStorage=No.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(bm)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return $o(r)}async setItem(e,r){this.localStorage.setItem(e,ys(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Em="wc_storage_version",Sd=1,Sm=async(t,e,r)=>{const n=Em,i=await e.getItem(n);if(i&&i>=Sd){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,Sd),r(e),xm(t,o)},xm=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let Cm=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new _m;this.storage=e;try{const r=new wm;Sm(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var Ci={};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var dc=function(t,e){return dc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dc(t,e)};function Om(t,e){dc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hc=function(){return hc=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hc.apply(this,arguments)};function Dm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Im(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Tm(t,e){return function(r,n){e(r,n,t)}}function Am(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Rm(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Pm(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $m(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Nm(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function fc(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xd(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Lm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xd(arguments[e]));return t}function Mm(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function vs(t){return this instanceof vs?(this.v=t,this):new vs(t)}function km(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(y){return new Promise(function(b,E){s.push([g,y,b,E])>1||a(g,y)})})}function a(g,y){try{c(n[g](y))}catch(b){f(s[0][3],b)}}function c(g){g.value instanceof vs?Promise.resolve(g.value.v).then(l,d):f(s[0][2],g)}function l(g){a("next",g)}function d(g){a("throw",g)}function f(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Fm(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:vs(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Um(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fc=="function"?fc(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function jm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Bm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function qm(t){return t&&t.__esModule?t:{default:t}}function zm(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Wm(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Yr=Oo(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hc},__asyncDelegator:Fm,__asyncGenerator:km,__asyncValues:Um,__await:vs,__awaiter:Rm,__classPrivateFieldGet:zm,__classPrivateFieldSet:Wm,__createBinding:$m,__decorate:Im,__exportStar:Nm,__extends:Om,__generator:Pm,__importDefault:qm,__importStar:Bm,__makeTemplateObject:jm,__metadata:Am,__param:Tm,__read:xd,__rest:Dm,__spread:Lm,__spreadArrays:Mm,__values:fc},Symbol.toStringTag,{value:"Module"})));var ws={},ye={},pc={},bs={},Cd;function Vm(){if(Cd)return bs;Cd=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return bs.delay=t,bs}var Vn={},gc={},Hn={},Od;function Hm(){return Od||(Od=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.ONE_THOUSAND=Hn.ONE_HUNDRED=void 0,Hn.ONE_HUNDRED=100,Hn.ONE_THOUSAND=1e3),Hn}var mc={},Dd;function Km(){return Dd||(Dd=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(mc)),mc}var Id;function Td(){return Id||(Id=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yr;e.__exportStar(Hm(),t),e.__exportStar(Km(),t)}(gc)),gc}var Ad;function Zm(){if(Ad)return Vn;Ad=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.fromMiliseconds=Vn.toMiliseconds=void 0;const t=Td();function e(n){return n*t.ONE_THOUSAND}Vn.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Vn.fromMiliseconds=r,Vn}var Rd;function Gm(){return Rd||(Rd=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yr;e.__exportStar(Vm(),t),e.__exportStar(Zm(),t)}(pc)),pc}var Oi={},Pd;function Ym(){if(Pd)return Oi;Pd=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Oi.Watch=t,Oi.default=t,Oi}var yc={},_s={},$d;function Qm(){if($d)return _s;$d=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.IWatch=void 0;class t{}return _s.IWatch=t,_s}var Nd;function Jm(){return Nd||(Nd=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Yr.__exportStar(Qm(),t)}(yc)),yc}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yr;e.__exportStar(Gm(),t),e.__exportStar(Ym(),t),e.__exportStar(Jm(),t),e.__exportStar(Td(),t)})(ye);var vc={},Es={};let Kn=class{};const Xm=Oo(Object.freeze(Object.defineProperty({__proto__:null,IEvents:Kn},Symbol.toStringTag,{value:"Module"})));var Ld;function e1(){if(Ld)return Es;Ld=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.IHeartBeat=void 0;const t=Xm;class e extends t.IEvents{constructor(n){super()}}return Es.IHeartBeat=e,Es}var Md;function kd(){return Md||(Md=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Yr.__exportStar(e1(),t)}(vc)),vc}var wc={},Zn={},Fd;function t1(){if(Fd)return Zn;Fd=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.HEARTBEAT_EVENTS=Zn.HEARTBEAT_INTERVAL=void 0;const t=ye;return Zn.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,Zn.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Zn}var Ud;function jd(){return Ud||(Ud=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Yr.__exportStar(t1(),t)}(wc)),wc}var Bd;function r1(){if(Bd)return ws;Bd=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.HeartBeat=void 0;const t=Yr,e=Pr,r=ye,n=kd(),i=jd();class s extends n.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return t.__awaiter(this,void 0,void 0,function*(){const c=new s(a);return yield c.init(),c})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return ws.HeartBeat=s,ws}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yr;e.__exportStar(r1(),t),e.__exportStar(kd(),t),e.__exportStar(jd(),t)})(Ci);var tt={},bc,qd;function n1(){if(qd)return bc;qd=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}bc=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var d=n.length;if(d===0)return r;for(var f="",g=1-o,y=-1,b=r&&r.length||0,E=0;E<b;){if(r.charCodeAt(E)===37&&E+1<b){switch(y=y>-1?y:0,r.charCodeAt(E+1)){case 100:case 102:if(g>=d||n[g]==null)break;y<E&&(f+=r.slice(y,E)),f+=Number(n[g]),y=E+2,E++;break;case 105:if(g>=d||n[g]==null)break;y<E&&(f+=r.slice(y,E)),f+=Math.floor(Number(n[g])),y=E+2,E++;break;case 79:case 111:case 106:if(g>=d||n[g]===void 0)break;y<E&&(f+=r.slice(y,E));var C=typeof n[g];if(C==="string"){f+="'"+n[g]+"'",y=E+2,E++;break}if(C==="function"){f+=n[g].name||"<anonymous>",y=E+2,E++;break}f+=s(n[g]),y=E+2,E++;break;case 115:if(g>=d)break;y<E&&(f+=r.slice(y,E)),f+=String(n[g]),y=E+2,E++;break;case 37:y<E&&(f+=r.slice(y,E)),f+="%",y=E+2,E++,g--;break}++g}++E}return y===-1?r:(y<b&&(f+=r.slice(y)),f)}return bc}var _c,zd;function i1(){if(zd)return _c;zd=1;const t=n1();_c=i;const e=S().console||{},r={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:b,res:b,err:g};function n(m,u){return Array.isArray(m)?m.filter(function(L){return L!=="!stdSerializers.err"}):m===!0?Object.keys(u):!1}function i(m){m=m||{},m.browser=m.browser||{};const u=m.browser.transmit;if(u&&typeof u.send!="function")throw Error("pino: transmit option must have a send function");const v=m.browser.write||e;m.browser.write&&(m.browser.asObject=!0);const L=m.serializers||{},P=n(m.browser.serialize,L);let q=m.browser.serialize;Array.isArray(m.browser.serialize)&&m.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const Z=["error","fatal","warn","info","debug","trace"];typeof v=="function"&&(v.error=v.fatal=v.warn=v.info=v.debug=v.trace=v),m.enabled===!1&&(m.level="silent");const Q=m.level||"info",$=Object.create(v);$.log||($.log=C),Object.defineProperty($,"levelVal",{get:X}),Object.defineProperty($,"level",{get:z,set:H});const U={transmit:u,serialize:P,asObject:m.browser.asObject,levels:Z,timestamp:y(m)};$.levels=i.levels,$.level=Q,$.setMaxListeners=$.getMaxListeners=$.emit=$.addListener=$.on=$.prependListener=$.once=$.prependOnceListener=$.removeListener=$.removeAllListeners=$.listeners=$.listenerCount=$.eventNames=$.write=$.flush=C,$.serializers=L,$._serialize=P,$._stdErrSerialize=q,$.child=Y,u&&($._logEvent=f());function X(){return this.level==="silent"?1/0:this.levels.values[this.level]}function z(){return this._level}function H(D){if(D!=="silent"&&!this.levels.values[D])throw Error("unknown level "+D);this._level=D,s(U,$,"error","log"),s(U,$,"fatal","error"),s(U,$,"warn","error"),s(U,$,"info","log"),s(U,$,"debug","log"),s(U,$,"trace","log")}function Y(D,j){if(!D)throw new Error("missing bindings for child Pino");j=j||{},P&&D.serializers&&(j.serializers=D.serializers);const te=j.serializers;if(P&&te){var V=Object.assign({},L,te),se=m.browser.serialize===!0?Object.keys(V):P;delete D.serializers,c([D],se,V,this._stdErrSerialize)}function ee(ue){this._childLevel=(ue._childLevel|0)+1,this.error=l(ue,D,"error"),this.fatal=l(ue,D,"fatal"),this.warn=l(ue,D,"warn"),this.info=l(ue,D,"info"),this.debug=l(ue,D,"debug"),this.trace=l(ue,D,"trace"),V&&(this.serializers=V,this._serialize=se),u&&(this._logEvent=f([].concat(ue._logEvent.bindings,D)))}return ee.prototype=this,new ee(this)}return $}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:I,epochTime:_,unixTime:x,isoTime:w});function s(m,u,v,L){const P=Object.getPrototypeOf(u);u[v]=u.levelVal>u.levels.values[v]?C:P[v]?P[v]:e[v]||e[L]||C,o(m,u,v)}function o(m,u,v){!m.transmit&&u[v]===C||(u[v]=function(L){return function(){const q=m.timestamp(),Z=new Array(arguments.length),Q=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var $=0;$<Z.length;$++)Z[$]=arguments[$];if(m.serialize&&!m.asObject&&c(Z,this._serialize,this.serializers,this._stdErrSerialize),m.asObject?L.call(Q,a(this,v,Z,q)):L.apply(Q,Z),m.transmit){const U=m.transmit.level||u.level,X=i.levels.values[U],z=i.levels.values[v];if(z<X)return;d(this,{ts:q,methodLevel:v,methodValue:z,transmitLevel:U,transmitValue:i.levels.values[m.transmit.level||u.level],send:m.transmit.send,val:u.levelVal},Z)}}}(u[v]))}function a(m,u,v,L){m._serialize&&c(v,m._serialize,m.serializers,m._stdErrSerialize);const P=v.slice();let q=P[0];const Z={};L&&(Z.time=L),Z.level=i.levels.values[u];let Q=(m._childLevel|0)+1;if(Q<1&&(Q=1),q!==null&&typeof q=="object"){for(;Q--&&typeof P[0]=="object";)Object.assign(Z,P.shift());q=P.length?t(P.shift(),P):void 0}else typeof q=="string"&&(q=t(P.shift(),P));return q!==void 0&&(Z.msg=q),Z}function c(m,u,v,L){for(const P in m)if(L&&m[P]instanceof Error)m[P]=i.stdSerializers.err(m[P]);else if(typeof m[P]=="object"&&!Array.isArray(m[P]))for(const q in m[P])u&&u.indexOf(q)>-1&&q in v&&(m[P][q]=v[q](m[P][q]))}function l(m,u,v){return function(){const L=new Array(1+arguments.length);L[0]=u;for(var P=1;P<L.length;P++)L[P]=arguments[P-1];return m[v].apply(this,L)}}function d(m,u,v){const L=u.send,P=u.ts,q=u.methodLevel,Z=u.methodValue,Q=u.val,$=m._logEvent.bindings;c(v,m._serialize||Object.keys(m.serializers),m.serializers,m._stdErrSerialize===void 0?!0:m._stdErrSerialize),m._logEvent.ts=P,m._logEvent.messages=v.filter(function(U){return $.indexOf(U)===-1}),m._logEvent.level.label=q,m._logEvent.level.value=Z,L(q,m._logEvent,Q),m._logEvent=f($)}function f(m){return{ts:0,messages:[],bindings:m||[],level:{label:"",value:0}}}function g(m){const u={type:m.constructor.name,msg:m.message,stack:m.stack};for(const v in m)u[v]===void 0&&(u[v]=m[v]);return u}function y(m){return typeof m.timestamp=="function"?m.timestamp:m.timestamp===!1?I:_}function b(){return{}}function E(m){return m}function C(){}function I(){return!1}function _(){return Date.now()}function x(){return Math.round(Date.now()/1e3)}function w(){return new Date(Date.now()).toISOString()}function S(){function m(u){return typeof u<"u"&&u}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return m(self)||m(window)||m(this)||{}}}return _c}var Gn={},Wd;function Vd(){return Wd||(Wd=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.PINO_CUSTOM_CONTEXT_KEY=Gn.PINO_LOGGER_DEFAULTS=void 0,Gn.PINO_LOGGER_DEFAULTS={level:"info"},Gn.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Gn}var cr={},Hd;function s1(){if(Hd)return cr;Hd=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.generateChildLogger=cr.formatChildLoggerContext=cr.getLoggerContext=cr.setBrowserLoggerContext=cr.getBrowserLoggerContext=cr.getDefaultLoggerOptions=void 0;const t=Vd();function e(a){return Object.assign(Object.assign({},a),{level:(a==null?void 0:a.level)||t.PINO_LOGGER_DEFAULTS.level})}cr.getDefaultLoggerOptions=e;function r(a,c=t.PINO_CUSTOM_CONTEXT_KEY){return a[c]||""}cr.getBrowserLoggerContext=r;function n(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){return a[l]=c,a}cr.setBrowserLoggerContext=n;function i(a,c=t.PINO_CUSTOM_CONTEXT_KEY){let l="";return typeof a.bindings>"u"?l=r(a,c):l=a.bindings().context||"",l}cr.getLoggerContext=i;function s(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const d=i(a,l);return d.trim()?`${d}/${c}`:c}cr.formatChildLoggerContext=s;function o(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const d=s(a,c,l),f=a.child({context:d});return n(f,d,l)}return cr.generateChildLogger=o,cr}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=Yr,r=e.__importDefault(i1());Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(Vd(),t),e.__exportStar(s1(),t)})(tt);let Kd=class extends Kn{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},o1=class{constructor(e,r,n){this.core=e,this.logger=r}},Zd=class extends Kn{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},Gd=class{constructor(e,r){this.logger=e,this.core=r}},Yd=class extends Kn{constructor(e,r){super(),this.relayer=e,this.logger=r}},Qd=class extends Kn{constructor(e){super()}},Jd=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},a1=class{constructor(){this.map=new Map}},Xd=class extends Kn{constructor(e,r){super(),this.relayer=e,this.logger=r}},c1=class{constructor(e,r){this.core=e,this.logger=r}},eh=class extends Kn{constructor(e,r){super(),this.core=e,this.logger=r}},l1=class{constructor(e,r){this.logger=e,this.core=r}},th=class{constructor(e,r){this.projectId=e,this.logger=r}},rh=class{constructor(e,r){this.projectId=e,this.logger=r}},u1=class extends To{constructor(){super()}},nh=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},d1=class extends Pr.EventEmitter{constructor(){super()}},ih=class{constructor(e){this.client=e}};var Ec={},Di={},Lo={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.BrowserRandomSource=void 0;const sh=65536;class h1{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=sh)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,sh)));return r}}Mo.BrowserRandomSource=h1;function f1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ko={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});function p1(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Or.wipe=p1;const g1=Oo(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(ko,"__esModule",{value:!0}),ko.NodeRandomSource=void 0;const m1=Or;class y1{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof f1<"u"){const e=g1;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,m1.wipe)(r),n}}ko.NodeRandomSource=y1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.SystemRandomSource=void 0;const v1=Mo,w1=ko;class b1{constructor(){if(this.isAvailable=!1,this.name="",this._source=new v1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new w1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Lo.SystemRandomSource=b1;var Ne={},oh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,d=a&65535,f=c>>>16&65535,g=c&65535;return d*g+(l*g+d*f<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(oh),Object.defineProperty(Ne,"__esModule",{value:!0});var ah=oh;function _1(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ne.readInt16BE=_1;function E1(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ne.readUint16BE=E1;function S1(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ne.readInt16LE=S1;function x1(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ne.readUint16LE=x1;function ch(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ne.writeUint16BE=ch,Ne.writeInt16BE=ch;function lh(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ne.writeUint16LE=lh,Ne.writeInt16LE=lh;function Sc(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ne.readInt32BE=Sc;function xc(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ne.readUint32BE=xc;function Cc(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ne.readInt32LE=Cc;function Oc(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ne.readUint32LE=Oc;function Fo(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ne.writeUint32BE=Fo,Ne.writeInt32BE=Fo;function Uo(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ne.writeUint32LE=Uo,Ne.writeInt32LE=Uo;function C1(t,e){e===void 0&&(e=0);var r=Sc(t,e),n=Sc(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ne.readInt64BE=C1;function O1(t,e){e===void 0&&(e=0);var r=xc(t,e),n=xc(t,e+4);return r*4294967296+n}Ne.readUint64BE=O1;function D1(t,e){e===void 0&&(e=0);var r=Cc(t,e),n=Cc(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ne.readInt64LE=D1;function I1(t,e){e===void 0&&(e=0);var r=Oc(t,e),n=Oc(t,e+4);return n*4294967296+r}Ne.readUint64LE=I1;function uh(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Fo(t/4294967296>>>0,e,r),Fo(t>>>0,e,r+4),e}Ne.writeUint64BE=uh,Ne.writeInt64BE=uh;function dh(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Uo(t>>>0,e,r),Uo(t/4294967296>>>0,e,r+4),e}Ne.writeUint64LE=dh,Ne.writeInt64LE=dh;function T1(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Ne.readUintBE=T1;function A1(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Ne.readUintLE=A1;function R1(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!ah.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Ne.writeUintBE=R1;function P1(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!ah.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Ne.writeUintLE=P1;function $1(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ne.readFloat32BE=$1;function N1(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ne.readFloat32LE=N1;function L1(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ne.readFloat64BE=L1;function M1(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ne.readFloat64LE=M1;function k1(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ne.writeFloat32BE=k1;function F1(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ne.writeFloat32LE=F1;function U1(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ne.writeFloat64BE=U1;function j1(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ne.writeFloat64LE=j1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Lo,r=Ne,n=Or;t.defaultRandomSource=new e.SystemRandomSource;function i(l,d=t.defaultRandomSource){return d.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const d=i(4,l),f=(0,r.readUint32LE)(d);return(0,n.wipe)(d),f}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,d=o,f=t.defaultRandomSource){if(d.length<2)throw new Error("randomString charset is too short");if(d.length>256)throw new Error("randomString charset is too long");let g="";const y=d.length,b=256-256%y;for(;l>0;){const E=i(Math.ceil(l*256/b),f);for(let C=0;C<E.length&&l>0;C++){const I=E[C];I<b&&(g+=d.charAt(I%y),l--)}(0,n.wipe)(E)}return g}t.randomString=a;function c(l,d=o,f=t.defaultRandomSource){const g=Math.ceil(l/(Math.log(d.length)/Math.LN2));return a(g,d,f)}t.randomStringForEntropy=c}(Di);var hh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ne,r=Or;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var d=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[d++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(d=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,d,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[d++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,d=this._bufferLength,f=l/536870912|0,g=l<<3,y=l%128<112?128:256;this._buffer[d]=128;for(var b=d+1;b<y-8;b++)this._buffer[b]=0;e.writeUint32BE(f,this._buffer,y-8),e.writeUint32BE(g,this._buffer,y-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,y),this._finished=!0}for(var b=0;b<this.digestLength/8;b++)e.writeUint32BE(this._stateHi[b],c,b*8),e.writeUint32BE(this._stateLo[b],c,b*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,d,f,g,y){for(var b=l[0],E=l[1],C=l[2],I=l[3],_=l[4],x=l[5],w=l[6],S=l[7],m=d[0],u=d[1],v=d[2],L=d[3],P=d[4],q=d[5],Z=d[6],Q=d[7],$,U,X,z,H,Y,D,j;y>=128;){for(var te=0;te<16;te++){var V=8*te+g;a[te]=e.readUint32BE(f,V),c[te]=e.readUint32BE(f,V+4)}for(var te=0;te<80;te++){var se=b,ee=E,ue=C,k=I,M=_,N=x,h=w,R=S,ne=m,le=u,Be=v,qe=L,Te=P,Ke=q,wt=Z,ct=Q;if($=S,U=Q,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=(_>>>14|P<<18)^(_>>>18|P<<14)^(P>>>9|_<<23),U=(P>>>14|_<<18)^(P>>>18|_<<14)^(_>>>9|P<<23),H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,$=_&x^~_&w,U=P&q^~P&Z,H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,$=i[te*2],U=i[te*2+1],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,$=a[te%16],U=c[te%16],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,X=D&65535|j<<16,z=H&65535|Y<<16,$=X,U=z,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=(b>>>28|m<<4)^(m>>>2|b<<30)^(m>>>7|b<<25),U=(m>>>28|b<<4)^(b>>>2|m<<30)^(b>>>7|m<<25),H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,$=b&E^b&C^E&C,U=m&u^m&v^u&v,H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,R=D&65535|j<<16,ct=H&65535|Y<<16,$=k,U=qe,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=X,U=z,H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,k=D&65535|j<<16,qe=H&65535|Y<<16,E=se,C=ee,I=ue,_=k,x=M,w=N,S=h,b=R,u=ne,v=le,L=Be,P=qe,q=Te,Z=Ke,Q=wt,m=ct,te%16===15)for(var V=0;V<16;V++)$=a[V],U=c[V],H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=a[(V+9)%16],U=c[(V+9)%16],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,X=a[(V+1)%16],z=c[(V+1)%16],$=(X>>>1|z<<31)^(X>>>8|z<<24)^X>>>7,U=(z>>>1|X<<31)^(z>>>8|X<<24)^(z>>>7|X<<25),H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,X=a[(V+14)%16],z=c[(V+14)%16],$=(X>>>19|z<<13)^(z>>>29|X<<3)^X>>>6,U=(z>>>19|X<<13)^(X>>>29|z<<3)^(z>>>6|X<<26),H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,a[V]=D&65535|j<<16,c[V]=H&65535|Y<<16}$=b,U=m,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[0],U=d[0],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[0]=b=D&65535|j<<16,d[0]=m=H&65535|Y<<16,$=E,U=u,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[1],U=d[1],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[1]=E=D&65535|j<<16,d[1]=u=H&65535|Y<<16,$=C,U=v,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[2],U=d[2],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[2]=C=D&65535|j<<16,d[2]=v=H&65535|Y<<16,$=I,U=L,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[3],U=d[3],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[3]=I=D&65535|j<<16,d[3]=L=H&65535|Y<<16,$=_,U=P,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[4],U=d[4],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[4]=_=D&65535|j<<16,d[4]=P=H&65535|Y<<16,$=x,U=q,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[5],U=d[5],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[5]=x=D&65535|j<<16,d[5]=q=H&65535|Y<<16,$=w,U=Z,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[6],U=d[6],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[6]=w=D&65535|j<<16,d[6]=Z=H&65535|Y<<16,$=S,U=Q,H=U&65535,Y=U>>>16,D=$&65535,j=$>>>16,$=l[7],U=d[7],H+=U&65535,Y+=U>>>16,D+=$&65535,j+=$>>>16,Y+=H>>>16,D+=Y>>>16,j+=D>>>16,l[7]=S=D&65535|j<<16,d[7]=Q=H&65535|Y<<16,g+=128,y-=128}return g}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(hh),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Di,r=hh,n=Or;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(k){const M=new Float64Array(16);if(k)for(let N=0;N<k.length;N++)M[N]=k[N];return M}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(k,M){for(let N=0;N<16;N++)k[N]=M[N]|0}function b(k){let M=1;for(let N=0;N<16;N++){let h=k[N]+M+65535;M=Math.floor(h/65536),k[N]=h-M*65536}k[0]+=M-1+37*(M-1)}function E(k,M,N){const h=~(N-1);for(let R=0;R<16;R++){const ne=h&(k[R]^M[R]);k[R]^=ne,M[R]^=ne}}function C(k,M){const N=i(),h=i();for(let R=0;R<16;R++)h[R]=M[R];b(h),b(h),b(h);for(let R=0;R<2;R++){N[0]=h[0]-65517;for(let le=1;le<15;le++)N[le]=h[le]-65535-(N[le-1]>>16&1),N[le-1]&=65535;N[15]=h[15]-32767-(N[14]>>16&1);const ne=N[15]>>16&1;N[14]&=65535,E(h,N,1-ne)}for(let R=0;R<16;R++)k[2*R]=h[R]&255,k[2*R+1]=h[R]>>8}function I(k,M){let N=0;for(let h=0;h<32;h++)N|=k[h]^M[h];return(1&N-1>>>8)-1}function _(k,M){const N=new Uint8Array(32),h=new Uint8Array(32);return C(N,k),C(h,M),I(N,h)}function x(k){const M=new Uint8Array(32);return C(M,k),M[0]&1}function w(k,M){for(let N=0;N<16;N++)k[N]=M[2*N]+(M[2*N+1]<<8);k[15]&=32767}function S(k,M,N){for(let h=0;h<16;h++)k[h]=M[h]+N[h]}function m(k,M,N){for(let h=0;h<16;h++)k[h]=M[h]-N[h]}function u(k,M,N){let h,R,ne=0,le=0,Be=0,qe=0,Te=0,Ke=0,wt=0,ct=0,Oe=0,Ae=0,Re=0,Le=0,Pe=0,xe=0,Ce=0,_e=0,Ue=0,ze=0,Se=0,je=0,Je=0,nt=0,it=0,We=0,ar=0,xr=0,Lr=0,qt=0,Mr=0,yr=0,kr=0,dt=N[0],lt=N[1],xt=N[2],_t=N[3],Ct=N[4],yt=N[5],$t=N[6],bt=N[7],Ot=N[8],Dt=N[9],Ft=N[10],Nt=N[11],It=N[12],mt=N[13],T=N[14],K=N[15];h=M[0],ne+=h*dt,le+=h*lt,Be+=h*xt,qe+=h*_t,Te+=h*Ct,Ke+=h*yt,wt+=h*$t,ct+=h*bt,Oe+=h*Ot,Ae+=h*Dt,Re+=h*Ft,Le+=h*Nt,Pe+=h*It,xe+=h*mt,Ce+=h*T,_e+=h*K,h=M[1],le+=h*dt,Be+=h*lt,qe+=h*xt,Te+=h*_t,Ke+=h*Ct,wt+=h*yt,ct+=h*$t,Oe+=h*bt,Ae+=h*Ot,Re+=h*Dt,Le+=h*Ft,Pe+=h*Nt,xe+=h*It,Ce+=h*mt,_e+=h*T,Ue+=h*K,h=M[2],Be+=h*dt,qe+=h*lt,Te+=h*xt,Ke+=h*_t,wt+=h*Ct,ct+=h*yt,Oe+=h*$t,Ae+=h*bt,Re+=h*Ot,Le+=h*Dt,Pe+=h*Ft,xe+=h*Nt,Ce+=h*It,_e+=h*mt,Ue+=h*T,ze+=h*K,h=M[3],qe+=h*dt,Te+=h*lt,Ke+=h*xt,wt+=h*_t,ct+=h*Ct,Oe+=h*yt,Ae+=h*$t,Re+=h*bt,Le+=h*Ot,Pe+=h*Dt,xe+=h*Ft,Ce+=h*Nt,_e+=h*It,Ue+=h*mt,ze+=h*T,Se+=h*K,h=M[4],Te+=h*dt,Ke+=h*lt,wt+=h*xt,ct+=h*_t,Oe+=h*Ct,Ae+=h*yt,Re+=h*$t,Le+=h*bt,Pe+=h*Ot,xe+=h*Dt,Ce+=h*Ft,_e+=h*Nt,Ue+=h*It,ze+=h*mt,Se+=h*T,je+=h*K,h=M[5],Ke+=h*dt,wt+=h*lt,ct+=h*xt,Oe+=h*_t,Ae+=h*Ct,Re+=h*yt,Le+=h*$t,Pe+=h*bt,xe+=h*Ot,Ce+=h*Dt,_e+=h*Ft,Ue+=h*Nt,ze+=h*It,Se+=h*mt,je+=h*T,Je+=h*K,h=M[6],wt+=h*dt,ct+=h*lt,Oe+=h*xt,Ae+=h*_t,Re+=h*Ct,Le+=h*yt,Pe+=h*$t,xe+=h*bt,Ce+=h*Ot,_e+=h*Dt,Ue+=h*Ft,ze+=h*Nt,Se+=h*It,je+=h*mt,Je+=h*T,nt+=h*K,h=M[7],ct+=h*dt,Oe+=h*lt,Ae+=h*xt,Re+=h*_t,Le+=h*Ct,Pe+=h*yt,xe+=h*$t,Ce+=h*bt,_e+=h*Ot,Ue+=h*Dt,ze+=h*Ft,Se+=h*Nt,je+=h*It,Je+=h*mt,nt+=h*T,it+=h*K,h=M[8],Oe+=h*dt,Ae+=h*lt,Re+=h*xt,Le+=h*_t,Pe+=h*Ct,xe+=h*yt,Ce+=h*$t,_e+=h*bt,Ue+=h*Ot,ze+=h*Dt,Se+=h*Ft,je+=h*Nt,Je+=h*It,nt+=h*mt,it+=h*T,We+=h*K,h=M[9],Ae+=h*dt,Re+=h*lt,Le+=h*xt,Pe+=h*_t,xe+=h*Ct,Ce+=h*yt,_e+=h*$t,Ue+=h*bt,ze+=h*Ot,Se+=h*Dt,je+=h*Ft,Je+=h*Nt,nt+=h*It,it+=h*mt,We+=h*T,ar+=h*K,h=M[10],Re+=h*dt,Le+=h*lt,Pe+=h*xt,xe+=h*_t,Ce+=h*Ct,_e+=h*yt,Ue+=h*$t,ze+=h*bt,Se+=h*Ot,je+=h*Dt,Je+=h*Ft,nt+=h*Nt,it+=h*It,We+=h*mt,ar+=h*T,xr+=h*K,h=M[11],Le+=h*dt,Pe+=h*lt,xe+=h*xt,Ce+=h*_t,_e+=h*Ct,Ue+=h*yt,ze+=h*$t,Se+=h*bt,je+=h*Ot,Je+=h*Dt,nt+=h*Ft,it+=h*Nt,We+=h*It,ar+=h*mt,xr+=h*T,Lr+=h*K,h=M[12],Pe+=h*dt,xe+=h*lt,Ce+=h*xt,_e+=h*_t,Ue+=h*Ct,ze+=h*yt,Se+=h*$t,je+=h*bt,Je+=h*Ot,nt+=h*Dt,it+=h*Ft,We+=h*Nt,ar+=h*It,xr+=h*mt,Lr+=h*T,qt+=h*K,h=M[13],xe+=h*dt,Ce+=h*lt,_e+=h*xt,Ue+=h*_t,ze+=h*Ct,Se+=h*yt,je+=h*$t,Je+=h*bt,nt+=h*Ot,it+=h*Dt,We+=h*Ft,ar+=h*Nt,xr+=h*It,Lr+=h*mt,qt+=h*T,Mr+=h*K,h=M[14],Ce+=h*dt,_e+=h*lt,Ue+=h*xt,ze+=h*_t,Se+=h*Ct,je+=h*yt,Je+=h*$t,nt+=h*bt,it+=h*Ot,We+=h*Dt,ar+=h*Ft,xr+=h*Nt,Lr+=h*It,qt+=h*mt,Mr+=h*T,yr+=h*K,h=M[15],_e+=h*dt,Ue+=h*lt,ze+=h*xt,Se+=h*_t,je+=h*Ct,Je+=h*yt,nt+=h*$t,it+=h*bt,We+=h*Ot,ar+=h*Dt,xr+=h*Ft,Lr+=h*Nt,qt+=h*It,Mr+=h*mt,yr+=h*T,kr+=h*K,ne+=38*Ue,le+=38*ze,Be+=38*Se,qe+=38*je,Te+=38*Je,Ke+=38*nt,wt+=38*it,ct+=38*We,Oe+=38*ar,Ae+=38*xr,Re+=38*Lr,Le+=38*qt,Pe+=38*Mr,xe+=38*yr,Ce+=38*kr,R=1,h=ne+R+65535,R=Math.floor(h/65536),ne=h-R*65536,h=le+R+65535,R=Math.floor(h/65536),le=h-R*65536,h=Be+R+65535,R=Math.floor(h/65536),Be=h-R*65536,h=qe+R+65535,R=Math.floor(h/65536),qe=h-R*65536,h=Te+R+65535,R=Math.floor(h/65536),Te=h-R*65536,h=Ke+R+65535,R=Math.floor(h/65536),Ke=h-R*65536,h=wt+R+65535,R=Math.floor(h/65536),wt=h-R*65536,h=ct+R+65535,R=Math.floor(h/65536),ct=h-R*65536,h=Oe+R+65535,R=Math.floor(h/65536),Oe=h-R*65536,h=Ae+R+65535,R=Math.floor(h/65536),Ae=h-R*65536,h=Re+R+65535,R=Math.floor(h/65536),Re=h-R*65536,h=Le+R+65535,R=Math.floor(h/65536),Le=h-R*65536,h=Pe+R+65535,R=Math.floor(h/65536),Pe=h-R*65536,h=xe+R+65535,R=Math.floor(h/65536),xe=h-R*65536,h=Ce+R+65535,R=Math.floor(h/65536),Ce=h-R*65536,h=_e+R+65535,R=Math.floor(h/65536),_e=h-R*65536,ne+=R-1+37*(R-1),R=1,h=ne+R+65535,R=Math.floor(h/65536),ne=h-R*65536,h=le+R+65535,R=Math.floor(h/65536),le=h-R*65536,h=Be+R+65535,R=Math.floor(h/65536),Be=h-R*65536,h=qe+R+65535,R=Math.floor(h/65536),qe=h-R*65536,h=Te+R+65535,R=Math.floor(h/65536),Te=h-R*65536,h=Ke+R+65535,R=Math.floor(h/65536),Ke=h-R*65536,h=wt+R+65535,R=Math.floor(h/65536),wt=h-R*65536,h=ct+R+65535,R=Math.floor(h/65536),ct=h-R*65536,h=Oe+R+65535,R=Math.floor(h/65536),Oe=h-R*65536,h=Ae+R+65535,R=Math.floor(h/65536),Ae=h-R*65536,h=Re+R+65535,R=Math.floor(h/65536),Re=h-R*65536,h=Le+R+65535,R=Math.floor(h/65536),Le=h-R*65536,h=Pe+R+65535,R=Math.floor(h/65536),Pe=h-R*65536,h=xe+R+65535,R=Math.floor(h/65536),xe=h-R*65536,h=Ce+R+65535,R=Math.floor(h/65536),Ce=h-R*65536,h=_e+R+65535,R=Math.floor(h/65536),_e=h-R*65536,ne+=R-1+37*(R-1),k[0]=ne,k[1]=le,k[2]=Be,k[3]=qe,k[4]=Te,k[5]=Ke,k[6]=wt,k[7]=ct,k[8]=Oe,k[9]=Ae,k[10]=Re,k[11]=Le,k[12]=Pe,k[13]=xe,k[14]=Ce,k[15]=_e}function v(k,M){u(k,M,M)}function L(k,M){const N=i();let h;for(h=0;h<16;h++)N[h]=M[h];for(h=253;h>=0;h--)v(N,N),h!==2&&h!==4&&u(N,N,M);for(h=0;h<16;h++)k[h]=N[h]}function P(k,M){const N=i();let h;for(h=0;h<16;h++)N[h]=M[h];for(h=250;h>=0;h--)v(N,N),h!==1&&u(N,N,M);for(h=0;h<16;h++)k[h]=N[h]}function q(k,M){const N=i(),h=i(),R=i(),ne=i(),le=i(),Be=i(),qe=i(),Te=i(),Ke=i();m(N,k[1],k[0]),m(Ke,M[1],M[0]),u(N,N,Ke),S(h,k[0],k[1]),S(Ke,M[0],M[1]),u(h,h,Ke),u(R,k[3],M[3]),u(R,R,l),u(ne,k[2],M[2]),S(ne,ne,ne),m(le,h,N),m(Be,ne,R),S(qe,ne,R),S(Te,h,N),u(k[0],le,Be),u(k[1],Te,qe),u(k[2],qe,Be),u(k[3],le,Te)}function Z(k,M,N){for(let h=0;h<4;h++)E(k[h],M[h],N)}function Q(k,M){const N=i(),h=i(),R=i();L(R,M[2]),u(N,M[0],R),u(h,M[1],R),C(k,h),k[31]^=x(N)<<7}function $(k,M,N){y(k[0],o),y(k[1],a),y(k[2],a),y(k[3],o);for(let h=255;h>=0;--h){const R=N[h/8|0]>>(h&7)&1;Z(k,M,R),q(M,k),q(k,k),Z(k,M,R)}}function U(k,M){const N=[i(),i(),i(),i()];y(N[0],d),y(N[1],f),y(N[2],a),u(N[3],d,f),$(k,N,M)}function X(k){if(k.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const M=(0,r.hash)(k);M[0]&=248,M[31]&=127,M[31]|=64;const N=new Uint8Array(32),h=[i(),i(),i(),i()];U(h,M),Q(N,h);const R=new Uint8Array(64);return R.set(k),R.set(N,32),{publicKey:N,secretKey:R}}t.generateKeyPairFromSeed=X;function z(k){const M=(0,e.randomBytes)(32,k),N=X(M);return(0,n.wipe)(M),N}t.generateKeyPair=z;function H(k){if(k.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(k.subarray(32))}t.extractPublicKeyFromSecretKey=H;const Y=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function D(k,M){let N,h,R,ne;for(h=63;h>=32;--h){for(N=0,R=h-32,ne=h-12;R<ne;++R)M[R]+=N-16*M[h]*Y[R-(h-32)],N=Math.floor((M[R]+128)/256),M[R]-=N*256;M[R]+=N,M[h]=0}for(N=0,R=0;R<32;R++)M[R]+=N-(M[31]>>4)*Y[R],N=M[R]>>8,M[R]&=255;for(R=0;R<32;R++)M[R]-=N*Y[R];for(h=0;h<32;h++)M[h+1]+=M[h]>>8,k[h]=M[h]&255}function j(k){const M=new Float64Array(64);for(let N=0;N<64;N++)M[N]=k[N];for(let N=0;N<64;N++)k[N]=0;D(k,M)}function te(k,M){const N=new Float64Array(64),h=[i(),i(),i(),i()],R=(0,r.hash)(k.subarray(0,32));R[0]&=248,R[31]&=127,R[31]|=64;const ne=new Uint8Array(64);ne.set(R.subarray(32),32);const le=new r.SHA512;le.update(ne.subarray(32)),le.update(M);const Be=le.digest();le.clean(),j(Be),U(h,Be),Q(ne,h),le.reset(),le.update(ne.subarray(0,32)),le.update(k.subarray(32)),le.update(M);const qe=le.digest();j(qe);for(let Te=0;Te<32;Te++)N[Te]=Be[Te];for(let Te=0;Te<32;Te++)for(let Ke=0;Ke<32;Ke++)N[Te+Ke]+=qe[Te]*R[Ke];return D(ne.subarray(32),N),ne}t.sign=te;function V(k,M){const N=i(),h=i(),R=i(),ne=i(),le=i(),Be=i(),qe=i();return y(k[2],a),w(k[1],M),v(R,k[1]),u(ne,R,c),m(R,R,k[2]),S(ne,k[2],ne),v(le,ne),v(Be,le),u(qe,Be,le),u(N,qe,R),u(N,N,ne),P(N,N),u(N,N,R),u(N,N,ne),u(N,N,ne),u(k[0],N,ne),v(h,k[0]),u(h,h,ne),_(h,R)&&u(k[0],k[0],g),v(h,k[0]),u(h,h,ne),_(h,R)?-1:(x(k[0])===M[31]>>7&&m(k[0],o,k[0]),u(k[3],k[0],k[1]),0)}function se(k,M,N){const h=new Uint8Array(32),R=[i(),i(),i(),i()],ne=[i(),i(),i(),i()];if(N.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(V(ne,k))return!1;const le=new r.SHA512;le.update(N.subarray(0,32)),le.update(k),le.update(M);const Be=le.digest();return j(Be),$(R,ne,Be),U(ne,N.subarray(32)),q(R,ne),Q(h,R),!I(N,h)}t.verify=se;function ee(k){let M=[i(),i(),i(),i()];if(V(M,k))throw new Error("Ed25519: invalid public key");let N=i(),h=i(),R=M[1];S(N,a,R),m(h,a,R),L(h,h),u(N,N,h);let ne=new Uint8Array(32);return C(ne,N),ne}t.convertPublicKeyToX25519=ee;function ue(k){const M=(0,r.hash)(k.subarray(0,32));M[0]&=248,M[31]&=127,M[31]|=64;const N=new Uint8Array(M.subarray(0,32));return(0,n.wipe)(M),N}t.convertSecretKeyToX25519=ue}(Ec);const B1="EdDSA",q1="JWT",fh=".",ph="base64url",z1="utf8",W1="utf8",V1=":",H1="did",K1="key",gh="base58btc",Z1="z",G1="K36",Y1=32;function Dc(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function mh(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Dc(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ic(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=mh(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return Dc(r)}function Q1(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,C=0,I=0,_=b.length;I!==_&&b[I]===0;)I++,E++;for(var x=(_-I)*d+1>>>0,w=new Uint8Array(x);I!==_;){for(var S=b[I],m=0,u=x-1;(S!==0||m<C)&&u!==-1;u--,m++)S+=256*w[u]>>>0,w[u]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");C=m,I++}for(var v=x-C;v!==x&&w[v]===0;)v++;for(var L=c.repeat(E);v<x;++v)L+=t.charAt(w[v]);return L}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var E=0;if(b[E]!==" "){for(var C=0,I=0;b[E]===c;)C++,E++;for(var _=(b.length-E)*l+1>>>0,x=new Uint8Array(_);b[E];){var w=r[b.charCodeAt(E)];if(w===255)return;for(var S=0,m=_-1;(w!==0||S<I)&&m!==-1;m--,S++)w+=a*x[m]>>>0,x[m]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");I=S,E++}if(b[E]!==" "){for(var u=_-I;u!==_&&x[u]===0;)u++;for(var v=new Uint8Array(C+(_-u)),L=C;u!==_;)v[L++]=x[u++];return v}}}function y(b){var E=g(b);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:y}}var J1=Q1,X1=J1;const ey=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ty=t=>new TextEncoder().encode(t),ry=t=>new TextDecoder().decode(t);class ny{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class iy{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yh(this,e)}}class sy{constructor(e){this.decoders=e}or(e){return yh(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yh=(t,e)=>new sy({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class oy{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ny(e,r,n),this.decoder=new iy(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const jo=({name:t,prefix:e,encode:r,decode:n})=>new oy(t,e,r,n),Ss=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=X1(r,e);return jo({prefix:t,name:e,encode:n,decode:s=>ey(i(s))})},ay=(t,e,r,n)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let d=0;d<s;++d){const f=i[t[d]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},cy=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Jt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>jo({prefix:e,name:t,encode(i){return cy(i,n,r)},decode(i){return ay(i,n,r,t)}}),ly=jo({prefix:"\0",name:"identity",encode:t=>ry(t),decode:t=>ty(t)}),uy=Object.freeze(Object.defineProperty({__proto__:null,identity:ly},Symbol.toStringTag,{value:"Module"})),dy=Jt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),hy=Object.freeze(Object.defineProperty({__proto__:null,base2:dy},Symbol.toStringTag,{value:"Module"})),fy=Jt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),py=Object.freeze(Object.defineProperty({__proto__:null,base8:fy},Symbol.toStringTag,{value:"Module"})),gy=Ss({prefix:"9",name:"base10",alphabet:"0123456789"}),my=Object.freeze(Object.defineProperty({__proto__:null,base10:gy},Symbol.toStringTag,{value:"Module"})),yy=Jt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vy=Jt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),wy=Object.freeze(Object.defineProperty({__proto__:null,base16:yy,base16upper:vy},Symbol.toStringTag,{value:"Module"})),by=Jt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_y=Jt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ey=Jt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sy=Jt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xy=Jt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Cy=Jt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Oy=Jt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dy=Jt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Iy=Jt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ty=Object.freeze(Object.defineProperty({__proto__:null,base32:by,base32hex:xy,base32hexpad:Oy,base32hexpadupper:Dy,base32hexupper:Cy,base32pad:Ey,base32padupper:Sy,base32upper:_y,base32z:Iy},Symbol.toStringTag,{value:"Module"})),Ay=Ss({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ry=Ss({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Py=Object.freeze(Object.defineProperty({__proto__:null,base36:Ay,base36upper:Ry},Symbol.toStringTag,{value:"Module"})),$y=Ss({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ny=Ss({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ly=Object.freeze(Object.defineProperty({__proto__:null,base58btc:$y,base58flickr:Ny},Symbol.toStringTag,{value:"Module"})),My=Jt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ky=Jt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fy=Jt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Uy=Jt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),jy=Object.freeze(Object.defineProperty({__proto__:null,base64:My,base64pad:ky,base64url:Fy,base64urlpad:Uy},Symbol.toStringTag,{value:"Module"})),vh=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),By=vh.reduce((t,e,r)=>(t[r]=e,t),[]),qy=vh.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function zy(t){return t.reduce((e,r)=>(e+=By[r],e),"")}function Wy(t){const e=[];for(const r of t){const n=qy[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Vy=jo({prefix:"🚀",name:"base256emoji",encode:zy,decode:Wy}),Hy=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Vy},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const wh={...uy,...hy,...py,...my,...wy,...Ty,...Py,...Ly,...jy,...Hy};function bh(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const _h=bh("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Tc=bh("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=mh(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Eh={utf8:_h,"utf-8":_h,hex:wh.base16,latin1:Tc,ascii:Tc,binary:Tc,...wh};function lr(t,e="utf8"){const r=Eh[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function _r(t,e="utf8"){const r=Eh[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Dc(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Bo(t){return lr(_r(ys(t),z1),ph)}function Sh(t){const e=_r(G1,gh),r=Z1+lr(Ic([e,t]),gh);return[H1,K1,r].join(V1)}function Ky(t){return lr(t,ph)}function Zy(t){return _r([Bo(t.header),Bo(t.payload)].join(fh),W1)}function Gy(t){return[Bo(t.header),Bo(t.payload),Ky(t.signature)].join(fh)}function xh(t=Di.randomBytes(Y1)){return Ec.generateKeyPairFromSeed(t)}async function Yy(t,e,r,n,i=ye.fromMiliseconds(Date.now())){const s={alg:B1,typ:q1},o=Sh(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Zy({header:s,payload:c}),d=Ec.sign(n.secretKey,l);return Gy({header:s,payload:c,signature:d})}var Ac={},qo={};Object.defineProperty(qo,"__esModule",{value:!0});var rr=Ne,Rc=Or,Qy=20;function Jy(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],d=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],g=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],b=r[31]<<24|r[30]<<16|r[29]<<8|r[28],E=e[3]<<24|e[2]<<16|e[1]<<8|e[0],C=e[7]<<24|e[6]<<16|e[5]<<8|e[4],I=e[11]<<24|e[10]<<16|e[9]<<8|e[8],_=e[15]<<24|e[14]<<16|e[13]<<8|e[12],x=n,w=i,S=s,m=o,u=a,v=c,L=l,P=d,q=f,Z=g,Q=y,$=b,U=E,X=C,z=I,H=_,Y=0;Y<Qy;Y+=2)x=x+u|0,U^=x,U=U>>>16|U<<16,q=q+U|0,u^=q,u=u>>>20|u<<12,w=w+v|0,X^=w,X=X>>>16|X<<16,Z=Z+X|0,v^=Z,v=v>>>20|v<<12,S=S+L|0,z^=S,z=z>>>16|z<<16,Q=Q+z|0,L^=Q,L=L>>>20|L<<12,m=m+P|0,H^=m,H=H>>>16|H<<16,$=$+H|0,P^=$,P=P>>>20|P<<12,S=S+L|0,z^=S,z=z>>>24|z<<8,Q=Q+z|0,L^=Q,L=L>>>25|L<<7,m=m+P|0,H^=m,H=H>>>24|H<<8,$=$+H|0,P^=$,P=P>>>25|P<<7,w=w+v|0,X^=w,X=X>>>24|X<<8,Z=Z+X|0,v^=Z,v=v>>>25|v<<7,x=x+u|0,U^=x,U=U>>>24|U<<8,q=q+U|0,u^=q,u=u>>>25|u<<7,x=x+v|0,H^=x,H=H>>>16|H<<16,Q=Q+H|0,v^=Q,v=v>>>20|v<<12,w=w+L|0,U^=w,U=U>>>16|U<<16,$=$+U|0,L^=$,L=L>>>20|L<<12,S=S+P|0,X^=S,X=X>>>16|X<<16,q=q+X|0,P^=q,P=P>>>20|P<<12,m=m+u|0,z^=m,z=z>>>16|z<<16,Z=Z+z|0,u^=Z,u=u>>>20|u<<12,S=S+P|0,X^=S,X=X>>>24|X<<8,q=q+X|0,P^=q,P=P>>>25|P<<7,m=m+u|0,z^=m,z=z>>>24|z<<8,Z=Z+z|0,u^=Z,u=u>>>25|u<<7,w=w+L|0,U^=w,U=U>>>24|U<<8,$=$+U|0,L^=$,L=L>>>25|L<<7,x=x+v|0,H^=x,H=H>>>24|H<<8,Q=Q+H|0,v^=Q,v=v>>>25|v<<7;rr.writeUint32LE(x+n|0,t,0),rr.writeUint32LE(w+i|0,t,4),rr.writeUint32LE(S+s|0,t,8),rr.writeUint32LE(m+o|0,t,12),rr.writeUint32LE(u+a|0,t,16),rr.writeUint32LE(v+c|0,t,20),rr.writeUint32LE(L+l|0,t,24),rr.writeUint32LE(P+d|0,t,28),rr.writeUint32LE(q+f|0,t,32),rr.writeUint32LE(Z+g|0,t,36),rr.writeUint32LE(Q+y|0,t,40),rr.writeUint32LE($+b|0,t,44),rr.writeUint32LE(U+E|0,t,48),rr.writeUint32LE(X+C|0,t,52),rr.writeUint32LE(z+I|0,t,56),rr.writeUint32LE(H+_|0,t,60)}function Ch(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){Jy(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];ev(s,0,o)}return Rc.wipe(a),i===0&&Rc.wipe(s),n}qo.streamXOR=Ch;function Xy(t,e,r,n){return n===void 0&&(n=0),Rc.wipe(r),Ch(t,e,r,r,n)}qo.stream=Xy;function ev(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Oh={},En={};Object.defineProperty(En,"__esModule",{value:!0});function tv(t,e,r){return~(t-1)&e|t-1&r}En.select=tv;function rv(t,e){return(t|0)-(e|0)-1>>>31&1}En.lessOrEqual=rv;function Dh(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}En.compare=Dh;function nv(t,e){return t.length===0||e.length===0?!1:Dh(t,e)!==0}En.equal=nv,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=En,r=Or;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var d=a[4]|a[5]<<8;this._r[2]=(l>>>10|d<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(d>>>7|f<<9)&8191;var g=a[8]|a[9]<<8;this._r[4]=(f>>>4|g<<12)&255,this._r[5]=g>>>1&8190;var y=a[10]|a[11]<<8;this._r[6]=(g>>>14|y<<2)&8191;var b=a[12]|a[13]<<8;this._r[7]=(y>>>11|b<<5)&8065;var E=a[14]|a[15]<<8;this._r[8]=(b>>>8|E<<8)&8191,this._r[9]=E>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var d=this._fin?0:2048,f=this._h[0],g=this._h[1],y=this._h[2],b=this._h[3],E=this._h[4],C=this._h[5],I=this._h[6],_=this._h[7],x=this._h[8],w=this._h[9],S=this._r[0],m=this._r[1],u=this._r[2],v=this._r[3],L=this._r[4],P=this._r[5],q=this._r[6],Z=this._r[7],Q=this._r[8],$=this._r[9];l>=16;){var U=a[c+0]|a[c+1]<<8;f+=U&8191;var X=a[c+2]|a[c+3]<<8;g+=(U>>>13|X<<3)&8191;var z=a[c+4]|a[c+5]<<8;y+=(X>>>10|z<<6)&8191;var H=a[c+6]|a[c+7]<<8;b+=(z>>>7|H<<9)&8191;var Y=a[c+8]|a[c+9]<<8;E+=(H>>>4|Y<<12)&8191,C+=Y>>>1&8191;var D=a[c+10]|a[c+11]<<8;I+=(Y>>>14|D<<2)&8191;var j=a[c+12]|a[c+13]<<8;_+=(D>>>11|j<<5)&8191;var te=a[c+14]|a[c+15]<<8;x+=(j>>>8|te<<8)&8191,w+=te>>>5|d;var V=0,se=V;se+=f*S,se+=g*(5*$),se+=y*(5*Q),se+=b*(5*Z),se+=E*(5*q),V=se>>>13,se&=8191,se+=C*(5*P),se+=I*(5*L),se+=_*(5*v),se+=x*(5*u),se+=w*(5*m),V+=se>>>13,se&=8191;var ee=V;ee+=f*m,ee+=g*S,ee+=y*(5*$),ee+=b*(5*Q),ee+=E*(5*Z),V=ee>>>13,ee&=8191,ee+=C*(5*q),ee+=I*(5*P),ee+=_*(5*L),ee+=x*(5*v),ee+=w*(5*u),V+=ee>>>13,ee&=8191;var ue=V;ue+=f*u,ue+=g*m,ue+=y*S,ue+=b*(5*$),ue+=E*(5*Q),V=ue>>>13,ue&=8191,ue+=C*(5*Z),ue+=I*(5*q),ue+=_*(5*P),ue+=x*(5*L),ue+=w*(5*v),V+=ue>>>13,ue&=8191;var k=V;k+=f*v,k+=g*u,k+=y*m,k+=b*S,k+=E*(5*$),V=k>>>13,k&=8191,k+=C*(5*Q),k+=I*(5*Z),k+=_*(5*q),k+=x*(5*P),k+=w*(5*L),V+=k>>>13,k&=8191;var M=V;M+=f*L,M+=g*v,M+=y*u,M+=b*m,M+=E*S,V=M>>>13,M&=8191,M+=C*(5*$),M+=I*(5*Q),M+=_*(5*Z),M+=x*(5*q),M+=w*(5*P),V+=M>>>13,M&=8191;var N=V;N+=f*P,N+=g*L,N+=y*v,N+=b*u,N+=E*m,V=N>>>13,N&=8191,N+=C*S,N+=I*(5*$),N+=_*(5*Q),N+=x*(5*Z),N+=w*(5*q),V+=N>>>13,N&=8191;var h=V;h+=f*q,h+=g*P,h+=y*L,h+=b*v,h+=E*u,V=h>>>13,h&=8191,h+=C*m,h+=I*S,h+=_*(5*$),h+=x*(5*Q),h+=w*(5*Z),V+=h>>>13,h&=8191;var R=V;R+=f*Z,R+=g*q,R+=y*P,R+=b*L,R+=E*v,V=R>>>13,R&=8191,R+=C*u,R+=I*m,R+=_*S,R+=x*(5*$),R+=w*(5*Q),V+=R>>>13,R&=8191;var ne=V;ne+=f*Q,ne+=g*Z,ne+=y*q,ne+=b*P,ne+=E*L,V=ne>>>13,ne&=8191,ne+=C*v,ne+=I*u,ne+=_*m,ne+=x*S,ne+=w*(5*$),V+=ne>>>13,ne&=8191;var le=V;le+=f*$,le+=g*Q,le+=y*Z,le+=b*q,le+=E*P,V=le>>>13,le&=8191,le+=C*L,le+=I*v,le+=_*u,le+=x*m,le+=w*S,V+=le>>>13,le&=8191,V=(V<<2)+V|0,V=V+se|0,se=V&8191,V=V>>>13,ee+=V,f=se,g=ee,y=ue,b=k,E=M,C=N,I=h,_=R,x=ne,w=le,c+=16,l-=16}this._h[0]=f,this._h[1]=g,this._h[2]=y,this._h[3]=b,this._h[4]=E,this._h[5]=C,this._h[6]=I,this._h[7]=_,this._h[8]=x,this._h[9]=w},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),d,f,g,y;if(this._leftover){for(y=this._leftover,this._buffer[y++]=1;y<16;y++)this._buffer[y]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(d=this._h[1]>>>13,this._h[1]&=8191,y=2;y<10;y++)this._h[y]+=d,d=this._h[y]>>>13,this._h[y]&=8191;for(this._h[0]+=d*5,d=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=d,d=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=d,l[0]=this._h[0]+5,d=l[0]>>>13,l[0]&=8191,y=1;y<10;y++)l[y]=this._h[y]+d,d=l[y]>>>13,l[y]&=8191;for(l[9]-=8192,f=(d^1)-1,y=0;y<10;y++)l[y]&=f;for(f=~f,y=0;y<10;y++)this._h[y]=this._h[y]&f|l[y];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,g=this._h[0]+this._pad[0],this._h[0]=g&65535,y=1;y<8;y++)g=(this._h[y]+this._pad[y]|0)+(g>>>16)|0,this._h[y]=g&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,d;if(this._leftover){d=16-this._leftover,d>l&&(d=l);for(var f=0;f<d;f++)this._buffer[this._leftover+f]=a[c+f];if(l-=d,c+=d,this._leftover+=d,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(d=l-l%16,this._blocks(a,c,d),c+=d,l-=d),l){for(var f=0;f<l;f++)this._buffer[this._leftover+f]=a[c+f];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s}(Oh),function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=qo,r=Oh,n=Or,i=Ne,s=En;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,d,f,g){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var y=new Uint8Array(16);y.set(l,y.length-l.length);var b=new Uint8Array(32);e.stream(this._key,y,b,4);var E=d.length+this.tagLength,C;if(g){if(g.length!==E)throw new Error("ChaCha20Poly1305: incorrect destination length");C=g}else C=new Uint8Array(E);return e.streamXOR(this._key,y,d,C,4),this._authenticate(C.subarray(C.length-this.tagLength,C.length),b,C.subarray(0,C.length-this.tagLength),f),n.wipe(y),C},c.prototype.open=function(l,d,f,g){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(d.length<this.tagLength)return null;var y=new Uint8Array(16);y.set(l,y.length-l.length);var b=new Uint8Array(32);e.stream(this._key,y,b,4);var E=new Uint8Array(this.tagLength);if(this._authenticate(E,b,d.subarray(0,d.length-this.tagLength),f),!s.equal(E,d.subarray(d.length-this.tagLength,d.length)))return null;var C=d.length-this.tagLength,I;if(g){if(g.length!==C)throw new Error("ChaCha20Poly1305: incorrect destination length");I=g}else I=new Uint8Array(C);return e.streamXOR(this._key,y,d.subarray(0,d.length-this.tagLength),I,4),n.wipe(y),I},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,d,f,g){var y=new r.Poly1305(d);g&&(y.update(g),g.length%16>0&&y.update(o.subarray(g.length%16))),y.update(f),f.length%16>0&&y.update(o.subarray(f.length%16));var b=new Uint8Array(8);g&&i.writeUint64LE(g.length,b),y.update(b),i.writeUint64LE(f.length,b),y.update(b);for(var E=y.digest(),C=0;C<E.length;C++)l[C]=E[C];y.clean(),n.wipe(E),n.wipe(b)},c}();t.ChaCha20Poly1305=a}(Ac);var Ih={},xs={},Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});function iv(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Pc.isSerializableHash=iv,Object.defineProperty(xs,"__esModule",{value:!0});var Qr=Pc,sv=En,ov=Or,Th=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Qr.isSerializableHash(this._inner)&&Qr.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ov.wipe(n)}return t.prototype.reset=function(){if(!Qr.isSerializableHash(this._inner)||!Qr.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Qr.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Qr.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Qr.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Qr.isSerializableHash(this._inner)||!Qr.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Qr.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();xs.HMAC=Th;function av(t,e,r){var n=new Th(t,e);n.update(r);var i=n.digest();return n.clean(),i}xs.hmac=av,xs.equal=sv.equal,Object.defineProperty(Ih,"__esModule",{value:!0});var Ah=xs,Rh=Or,cv=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=Ah.hmac(this._hash,n,r);this._hmac=new Ah.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),Rh.wipe(this._buffer),Rh.wipe(this._counter),this._bufpos=0},t}(),lv=Ih.HKDF=cv,zo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ne,r=Or;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[d++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(d=s(this._temp,this._state,c,d,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[d++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,d=this._bufferLength,f=l/536870912|0,g=l<<3,y=l%64<56?64:128;this._buffer[d]=128;for(var b=d+1;b<y-8;b++)this._buffer[b]=0;e.writeUint32BE(f,this._buffer,y-8),e.writeUint32BE(g,this._buffer,y-4),s(this._temp,this._state,this._buffer,0,y),this._finished=!0}for(var b=0;b<this.digestLength/4;b++)e.writeUint32BE(this._state[b],c,b*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,d,f){for(;f>=64;){for(var g=c[0],y=c[1],b=c[2],E=c[3],C=c[4],I=c[5],_=c[6],x=c[7],w=0;w<16;w++){var S=d+w*4;a[w]=e.readUint32BE(l,S)}for(var w=16;w<64;w++){var m=a[w-2],u=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=a[w-15];var v=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;a[w]=(u+a[w-7]|0)+(v+a[w-16]|0)}for(var w=0;w<64;w++){var u=(((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&I^~C&_)|0)+(x+(i[w]+a[w]|0)|0)|0,v=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&y^g&b^y&b)|0;x=_,_=I,I=C,C=E+u|0,E=b,b=y,y=g,g=u+v|0}c[0]+=g,c[1]+=y,c[2]+=b,c[3]+=E,c[4]+=C,c[5]+=I,c[6]+=_,c[7]+=x,d+=64,f-=64}return d}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(zo);var $c={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Di,r=Or;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(w){const S=new Float64Array(16);if(w)for(let m=0;m<w.length;m++)S[m]=w[m];return S}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(w){let S=1;for(let m=0;m<16;m++){let u=w[m]+S+65535;S=Math.floor(u/65536),w[m]=u-S*65536}w[0]+=S-1+37*(S-1)}function a(w,S,m){const u=~(m-1);for(let v=0;v<16;v++){const L=u&(w[v]^S[v]);w[v]^=L,S[v]^=L}}function c(w,S){const m=n(),u=n();for(let v=0;v<16;v++)u[v]=S[v];o(u),o(u),o(u);for(let v=0;v<2;v++){m[0]=u[0]-65517;for(let P=1;P<15;P++)m[P]=u[P]-65535-(m[P-1]>>16&1),m[P-1]&=65535;m[15]=u[15]-32767-(m[14]>>16&1);const L=m[15]>>16&1;m[14]&=65535,a(u,m,1-L)}for(let v=0;v<16;v++)w[2*v]=u[v]&255,w[2*v+1]=u[v]>>8}function l(w,S){for(let m=0;m<16;m++)w[m]=S[2*m]+(S[2*m+1]<<8);w[15]&=32767}function d(w,S,m){for(let u=0;u<16;u++)w[u]=S[u]+m[u]}function f(w,S,m){for(let u=0;u<16;u++)w[u]=S[u]-m[u]}function g(w,S,m){let u,v,L=0,P=0,q=0,Z=0,Q=0,$=0,U=0,X=0,z=0,H=0,Y=0,D=0,j=0,te=0,V=0,se=0,ee=0,ue=0,k=0,M=0,N=0,h=0,R=0,ne=0,le=0,Be=0,qe=0,Te=0,Ke=0,wt=0,ct=0,Oe=m[0],Ae=m[1],Re=m[2],Le=m[3],Pe=m[4],xe=m[5],Ce=m[6],_e=m[7],Ue=m[8],ze=m[9],Se=m[10],je=m[11],Je=m[12],nt=m[13],it=m[14],We=m[15];u=S[0],L+=u*Oe,P+=u*Ae,q+=u*Re,Z+=u*Le,Q+=u*Pe,$+=u*xe,U+=u*Ce,X+=u*_e,z+=u*Ue,H+=u*ze,Y+=u*Se,D+=u*je,j+=u*Je,te+=u*nt,V+=u*it,se+=u*We,u=S[1],P+=u*Oe,q+=u*Ae,Z+=u*Re,Q+=u*Le,$+=u*Pe,U+=u*xe,X+=u*Ce,z+=u*_e,H+=u*Ue,Y+=u*ze,D+=u*Se,j+=u*je,te+=u*Je,V+=u*nt,se+=u*it,ee+=u*We,u=S[2],q+=u*Oe,Z+=u*Ae,Q+=u*Re,$+=u*Le,U+=u*Pe,X+=u*xe,z+=u*Ce,H+=u*_e,Y+=u*Ue,D+=u*ze,j+=u*Se,te+=u*je,V+=u*Je,se+=u*nt,ee+=u*it,ue+=u*We,u=S[3],Z+=u*Oe,Q+=u*Ae,$+=u*Re,U+=u*Le,X+=u*Pe,z+=u*xe,H+=u*Ce,Y+=u*_e,D+=u*Ue,j+=u*ze,te+=u*Se,V+=u*je,se+=u*Je,ee+=u*nt,ue+=u*it,k+=u*We,u=S[4],Q+=u*Oe,$+=u*Ae,U+=u*Re,X+=u*Le,z+=u*Pe,H+=u*xe,Y+=u*Ce,D+=u*_e,j+=u*Ue,te+=u*ze,V+=u*Se,se+=u*je,ee+=u*Je,ue+=u*nt,k+=u*it,M+=u*We,u=S[5],$+=u*Oe,U+=u*Ae,X+=u*Re,z+=u*Le,H+=u*Pe,Y+=u*xe,D+=u*Ce,j+=u*_e,te+=u*Ue,V+=u*ze,se+=u*Se,ee+=u*je,ue+=u*Je,k+=u*nt,M+=u*it,N+=u*We,u=S[6],U+=u*Oe,X+=u*Ae,z+=u*Re,H+=u*Le,Y+=u*Pe,D+=u*xe,j+=u*Ce,te+=u*_e,V+=u*Ue,se+=u*ze,ee+=u*Se,ue+=u*je,k+=u*Je,M+=u*nt,N+=u*it,h+=u*We,u=S[7],X+=u*Oe,z+=u*Ae,H+=u*Re,Y+=u*Le,D+=u*Pe,j+=u*xe,te+=u*Ce,V+=u*_e,se+=u*Ue,ee+=u*ze,ue+=u*Se,k+=u*je,M+=u*Je,N+=u*nt,h+=u*it,R+=u*We,u=S[8],z+=u*Oe,H+=u*Ae,Y+=u*Re,D+=u*Le,j+=u*Pe,te+=u*xe,V+=u*Ce,se+=u*_e,ee+=u*Ue,ue+=u*ze,k+=u*Se,M+=u*je,N+=u*Je,h+=u*nt,R+=u*it,ne+=u*We,u=S[9],H+=u*Oe,Y+=u*Ae,D+=u*Re,j+=u*Le,te+=u*Pe,V+=u*xe,se+=u*Ce,ee+=u*_e,ue+=u*Ue,k+=u*ze,M+=u*Se,N+=u*je,h+=u*Je,R+=u*nt,ne+=u*it,le+=u*We,u=S[10],Y+=u*Oe,D+=u*Ae,j+=u*Re,te+=u*Le,V+=u*Pe,se+=u*xe,ee+=u*Ce,ue+=u*_e,k+=u*Ue,M+=u*ze,N+=u*Se,h+=u*je,R+=u*Je,ne+=u*nt,le+=u*it,Be+=u*We,u=S[11],D+=u*Oe,j+=u*Ae,te+=u*Re,V+=u*Le,se+=u*Pe,ee+=u*xe,ue+=u*Ce,k+=u*_e,M+=u*Ue,N+=u*ze,h+=u*Se,R+=u*je,ne+=u*Je,le+=u*nt,Be+=u*it,qe+=u*We,u=S[12],j+=u*Oe,te+=u*Ae,V+=u*Re,se+=u*Le,ee+=u*Pe,ue+=u*xe,k+=u*Ce,M+=u*_e,N+=u*Ue,h+=u*ze,R+=u*Se,ne+=u*je,le+=u*Je,Be+=u*nt,qe+=u*it,Te+=u*We,u=S[13],te+=u*Oe,V+=u*Ae,se+=u*Re,ee+=u*Le,ue+=u*Pe,k+=u*xe,M+=u*Ce,N+=u*_e,h+=u*Ue,R+=u*ze,ne+=u*Se,le+=u*je,Be+=u*Je,qe+=u*nt,Te+=u*it,Ke+=u*We,u=S[14],V+=u*Oe,se+=u*Ae,ee+=u*Re,ue+=u*Le,k+=u*Pe,M+=u*xe,N+=u*Ce,h+=u*_e,R+=u*Ue,ne+=u*ze,le+=u*Se,Be+=u*je,qe+=u*Je,Te+=u*nt,Ke+=u*it,wt+=u*We,u=S[15],se+=u*Oe,ee+=u*Ae,ue+=u*Re,k+=u*Le,M+=u*Pe,N+=u*xe,h+=u*Ce,R+=u*_e,ne+=u*Ue,le+=u*ze,Be+=u*Se,qe+=u*je,Te+=u*Je,Ke+=u*nt,wt+=u*it,ct+=u*We,L+=38*ee,P+=38*ue,q+=38*k,Z+=38*M,Q+=38*N,$+=38*h,U+=38*R,X+=38*ne,z+=38*le,H+=38*Be,Y+=38*qe,D+=38*Te,j+=38*Ke,te+=38*wt,V+=38*ct,v=1,u=L+v+65535,v=Math.floor(u/65536),L=u-v*65536,u=P+v+65535,v=Math.floor(u/65536),P=u-v*65536,u=q+v+65535,v=Math.floor(u/65536),q=u-v*65536,u=Z+v+65535,v=Math.floor(u/65536),Z=u-v*65536,u=Q+v+65535,v=Math.floor(u/65536),Q=u-v*65536,u=$+v+65535,v=Math.floor(u/65536),$=u-v*65536,u=U+v+65535,v=Math.floor(u/65536),U=u-v*65536,u=X+v+65535,v=Math.floor(u/65536),X=u-v*65536,u=z+v+65535,v=Math.floor(u/65536),z=u-v*65536,u=H+v+65535,v=Math.floor(u/65536),H=u-v*65536,u=Y+v+65535,v=Math.floor(u/65536),Y=u-v*65536,u=D+v+65535,v=Math.floor(u/65536),D=u-v*65536,u=j+v+65535,v=Math.floor(u/65536),j=u-v*65536,u=te+v+65535,v=Math.floor(u/65536),te=u-v*65536,u=V+v+65535,v=Math.floor(u/65536),V=u-v*65536,u=se+v+65535,v=Math.floor(u/65536),se=u-v*65536,L+=v-1+37*(v-1),v=1,u=L+v+65535,v=Math.floor(u/65536),L=u-v*65536,u=P+v+65535,v=Math.floor(u/65536),P=u-v*65536,u=q+v+65535,v=Math.floor(u/65536),q=u-v*65536,u=Z+v+65535,v=Math.floor(u/65536),Z=u-v*65536,u=Q+v+65535,v=Math.floor(u/65536),Q=u-v*65536,u=$+v+65535,v=Math.floor(u/65536),$=u-v*65536,u=U+v+65535,v=Math.floor(u/65536),U=u-v*65536,u=X+v+65535,v=Math.floor(u/65536),X=u-v*65536,u=z+v+65535,v=Math.floor(u/65536),z=u-v*65536,u=H+v+65535,v=Math.floor(u/65536),H=u-v*65536,u=Y+v+65535,v=Math.floor(u/65536),Y=u-v*65536,u=D+v+65535,v=Math.floor(u/65536),D=u-v*65536,u=j+v+65535,v=Math.floor(u/65536),j=u-v*65536,u=te+v+65535,v=Math.floor(u/65536),te=u-v*65536,u=V+v+65535,v=Math.floor(u/65536),V=u-v*65536,u=se+v+65535,v=Math.floor(u/65536),se=u-v*65536,L+=v-1+37*(v-1),w[0]=L,w[1]=P,w[2]=q,w[3]=Z,w[4]=Q,w[5]=$,w[6]=U,w[7]=X,w[8]=z,w[9]=H,w[10]=Y,w[11]=D,w[12]=j,w[13]=te,w[14]=V,w[15]=se}function y(w,S){g(w,S,S)}function b(w,S){const m=n();for(let u=0;u<16;u++)m[u]=S[u];for(let u=253;u>=0;u--)y(m,m),u!==2&&u!==4&&g(m,m,S);for(let u=0;u<16;u++)w[u]=m[u]}function E(w,S){const m=new Uint8Array(32),u=new Float64Array(80),v=n(),L=n(),P=n(),q=n(),Z=n(),Q=n();for(let z=0;z<31;z++)m[z]=w[z];m[31]=w[31]&127|64,m[0]&=248,l(u,S);for(let z=0;z<16;z++)L[z]=u[z];v[0]=q[0]=1;for(let z=254;z>=0;--z){const H=m[z>>>3]>>>(z&7)&1;a(v,L,H),a(P,q,H),d(Z,v,P),f(v,v,P),d(P,L,q),f(L,L,q),y(q,Z),y(Q,v),g(v,P,v),g(P,L,Z),d(Z,v,P),f(v,v,P),y(L,v),f(P,q,Q),g(v,P,s),d(v,v,q),g(P,P,v),g(v,q,Q),g(q,L,u),y(L,Z),a(v,L,H),a(P,q,H)}for(let z=0;z<16;z++)u[z+16]=v[z],u[z+32]=P[z],u[z+48]=L[z],u[z+64]=q[z];const $=u.subarray(32),U=u.subarray(16);b($,$),g(U,U,$);const X=new Uint8Array(32);return c(X,U),X}t.scalarMult=E;function C(w){return E(w,i)}t.scalarMultBase=C;function I(w){if(w.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const S=new Uint8Array(w);return{publicKey:C(S),secretKey:S}}t.generateKeyPairFromSeed=I;function _(w){const S=(0,e.randomBytes)(32,w),m=I(S);return(0,r.wipe)(S),m}t.generateKeyPair=_;function x(w,S,m=!1){if(w.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(S.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const u=E(w,S);if(m){let v=0;for(let L=0;L<u.length;L++)v|=u[L];if(v===0)throw new Error("X25519: invalid shared key")}return u}t.sharedKey=x})($c);var Ph=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},uv=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),dv=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),hv=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),fv=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),pv=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),gv=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,mv=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$h=3,yv=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",gv]],Nh=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vv(t){return t?Lh(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new pv:typeof navigator<"u"?Lh(navigator.userAgent):_v()}function wv(t){return t!==""&&yv.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function Lh(t){var e=wv(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new fv;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<$h&&(i=Ph(Ph([],i,!0),Ev($h-i.length),!0)):i=[];var s=i.join("."),o=bv(t),a=mv.exec(t);return a&&a[1]?new hv(r,s,o,a[1]):new uv(r,s,o)}function bv(t){for(var e=0,r=Nh.length;e<r;e++){var n=Nh[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function _v(){var t=typeof process<"u"&&process.version;return t?new dv(process.version.slice(1)):null}function Ev(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.getLocalStorage=vt.getLocalStorageOrThrow=vt.getCrypto=vt.getCryptoOrThrow=Mh=vt.getLocation=vt.getLocationOrThrow=Lc=vt.getNavigator=vt.getNavigatorOrThrow=Nc=vt.getDocument=vt.getDocumentOrThrow=vt.getFromWindowOrThrow=vt.getFromWindow=void 0;function Yn(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}vt.getFromWindow=Yn;function Ii(t){const e=Yn(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}vt.getFromWindowOrThrow=Ii;function Sv(){return Ii("document")}vt.getDocumentOrThrow=Sv;function xv(){return Yn("document")}var Nc=vt.getDocument=xv;function Cv(){return Ii("navigator")}vt.getNavigatorOrThrow=Cv;function Ov(){return Yn("navigator")}var Lc=vt.getNavigator=Ov;function Dv(){return Ii("location")}vt.getLocationOrThrow=Dv;function Iv(){return Yn("location")}var Mh=vt.getLocation=Iv;function Tv(){return Ii("crypto")}vt.getCryptoOrThrow=Tv;function Av(){return Yn("crypto")}vt.getCrypto=Av;function Rv(){return Ii("localStorage")}vt.getLocalStorageOrThrow=Rv;function Pv(){return Yn("localStorage")}vt.getLocalStorage=Pv;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});var kh=Mc.getWindowMetadata=void 0;const Fh=vt;function $v(){let t,e;try{t=Fh.getDocumentOrThrow(),e=Fh.getLocationOrThrow()}catch{return null}function r(){const f=t.getElementsByTagName("link"),g=[];for(let y=0;y<f.length;y++){const b=f[y],E=b.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const C=b.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let I=e.protocol+"//"+e.host;if(C.indexOf("/")===0)I+=C;else{const _=e.pathname.split("/");_.pop();const x=_.join("/");I+=x+"/"+C}g.push(I)}else if(C.indexOf("//")===0){const I=e.protocol+C;g.push(I)}else g.push(C)}}return g}function n(...f){const g=t.getElementsByTagName("meta");for(let y=0;y<g.length;y++){const b=g[y],E=["itemprop","property","name"].map(C=>b.getAttribute(C)).filter(C=>C?f.includes(C):!1);if(E.length&&E){const C=b.getAttribute("content");if(C)return C}}return""}function i(){let f=n("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}kh=Mc.getWindowMetadata=$v;var Cs={},Nv=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Uh="%[a-f0-9]{2}",jh=new RegExp("("+Uh+")|([^%]+?)","gi"),Bh=new RegExp("("+Uh+")+","gi");function kc(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],kc(r),kc(n))}function Lv(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(jh)||[],r=1;r<e.length;r++)t=kc(e,r).join(""),e=t.match(jh)||[];return t}}function Mv(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=Bh.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Lv(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Bh.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var kv=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Mv(t)}},Fv=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},Uv=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=Nv,r=kv,n=Fv,i=Uv,s=_=>_==null,o=Symbol("encodeFragmentIdentifier");function a(_){switch(_.arrayFormat){case"index":return x=>(w,S)=>{const m=w.length;return S===void 0||_.skipNull&&S===null||_.skipEmptyString&&S===""?w:S===null?[...w,[d(x,_),"[",m,"]"].join("")]:[...w,[d(x,_),"[",d(m,_),"]=",d(S,_)].join("")]};case"bracket":return x=>(w,S)=>S===void 0||_.skipNull&&S===null||_.skipEmptyString&&S===""?w:S===null?[...w,[d(x,_),"[]"].join("")]:[...w,[d(x,_),"[]=",d(S,_)].join("")];case"colon-list-separator":return x=>(w,S)=>S===void 0||_.skipNull&&S===null||_.skipEmptyString&&S===""?w:S===null?[...w,[d(x,_),":list="].join("")]:[...w,[d(x,_),":list=",d(S,_)].join("")];case"comma":case"separator":case"bracket-separator":{const x=_.arrayFormat==="bracket-separator"?"[]=":"=";return w=>(S,m)=>m===void 0||_.skipNull&&m===null||_.skipEmptyString&&m===""?S:(m=m===null?"":m,S.length===0?[[d(w,_),x,d(m,_)].join("")]:[[S,d(m,_)].join(_.arrayFormatSeparator)])}default:return x=>(w,S)=>S===void 0||_.skipNull&&S===null||_.skipEmptyString&&S===""?w:S===null?[...w,d(x,_)]:[...w,[d(x,_),"=",d(S,_)].join("")]}}function c(_){let x;switch(_.arrayFormat){case"index":return(w,S,m)=>{if(x=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),!x){m[w]=S;return}m[w]===void 0&&(m[w]={}),m[w][x[1]]=S};case"bracket":return(w,S,m)=>{if(x=/(\[\])$/.exec(w),w=w.replace(/\[\]$/,""),!x){m[w]=S;return}if(m[w]===void 0){m[w]=[S];return}m[w]=[].concat(m[w],S)};case"colon-list-separator":return(w,S,m)=>{if(x=/(:list)$/.exec(w),w=w.replace(/:list$/,""),!x){m[w]=S;return}if(m[w]===void 0){m[w]=[S];return}m[w]=[].concat(m[w],S)};case"comma":case"separator":return(w,S,m)=>{const u=typeof S=="string"&&S.includes(_.arrayFormatSeparator),v=typeof S=="string"&&!u&&f(S,_).includes(_.arrayFormatSeparator);S=v?f(S,_):S;const L=u||v?S.split(_.arrayFormatSeparator).map(P=>f(P,_)):S===null?S:f(S,_);m[w]=L};case"bracket-separator":return(w,S,m)=>{const u=/(\[\])$/.test(w);if(w=w.replace(/\[\]$/,""),!u){m[w]=S&&f(S,_);return}const v=S===null?[]:S.split(_.arrayFormatSeparator).map(L=>f(L,_));if(m[w]===void 0){m[w]=v;return}m[w]=[].concat(m[w],v)};default:return(w,S,m)=>{if(m[w]===void 0){m[w]=S;return}m[w]=[].concat(m[w],S)}}}function l(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(_,x){return x.encode?x.strict?e(_):encodeURIComponent(_):_}function f(_,x){return x.decode?r(_):_}function g(_){return Array.isArray(_)?_.sort():typeof _=="object"?g(Object.keys(_)).sort((x,w)=>Number(x)-Number(w)).map(x=>_[x]):_}function y(_){const x=_.indexOf("#");return x!==-1&&(_=_.slice(0,x)),_}function b(_){let x="";const w=_.indexOf("#");return w!==-1&&(x=_.slice(w)),x}function E(_){_=y(_);const x=_.indexOf("?");return x===-1?"":_.slice(x+1)}function C(_,x){return x.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):x.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function I(_,x){x=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},x),l(x.arrayFormatSeparator);const w=c(x),S=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return S;for(const m of _.split("&")){if(m==="")continue;let[u,v]=n(x.decode?m.replace(/\+/g," "):m,"=");v=v===void 0?null:["comma","separator","bracket-separator"].includes(x.arrayFormat)?v:f(v,x),w(f(u,x),v,S)}for(const m of Object.keys(S)){const u=S[m];if(typeof u=="object"&&u!==null)for(const v of Object.keys(u))u[v]=C(u[v],x);else S[m]=C(u,x)}return x.sort===!1?S:(x.sort===!0?Object.keys(S).sort():Object.keys(S).sort(x.sort)).reduce((m,u)=>{const v=S[u];return v&&typeof v=="object"&&!Array.isArray(v)?m[u]=g(v):m[u]=v,m},Object.create(null))}t.extract=E,t.parse=I,t.stringify=(_,x)=>{if(!_)return"";x=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},x),l(x.arrayFormatSeparator);const w=v=>x.skipNull&&s(_[v])||x.skipEmptyString&&_[v]==="",S=a(x),m={};for(const v of Object.keys(_))w(v)||(m[v]=_[v]);const u=Object.keys(m);return x.sort!==!1&&u.sort(x.sort),u.map(v=>{const L=_[v];return L===void 0?"":L===null?d(v,x):Array.isArray(L)?L.length===0&&x.arrayFormat==="bracket-separator"?d(v,x)+"[]":L.reduce(S(v),[]).join("&"):d(v,x)+"="+d(L,x)}).filter(v=>v.length>0).join("&")},t.parseUrl=(_,x)=>{x=Object.assign({decode:!0},x);const[w,S]=n(_,"#");return Object.assign({url:w.split("?")[0]||"",query:I(E(_),x)},x&&x.parseFragmentIdentifier&&S?{fragmentIdentifier:f(S,x)}:{})},t.stringifyUrl=(_,x)=>{x=Object.assign({encode:!0,strict:!0,[o]:!0},x);const w=y(_.url).split("?")[0]||"",S=t.extract(_.url),m=t.parse(S,{sort:!1}),u=Object.assign(m,_.query);let v=t.stringify(u,x);v&&(v=`?${v}`);let L=b(_.url);return _.fragmentIdentifier&&(L=`#${x[o]?d(_.fragmentIdentifier,x):_.fragmentIdentifier}`),`${w}${v}${L}`},t.pick=(_,x,w)=>{w=Object.assign({parseFragmentIdentifier:!0,[o]:!1},w);const{url:S,query:m,fragmentIdentifier:u}=t.parseUrl(_,w);return t.stringifyUrl({url:S,query:i(m,x),fragmentIdentifier:u},w)},t.exclude=(_,x,w)=>{const S=Array.isArray(x)?m=>!x.includes(m):(m,u)=>!x(m,u);return t.pick(_,S,w)}})(Cs);const jv={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function qh(t,e){return t.includes(":")?[t]:e.chains||[]}const zh="base10",ur="base16",Fc="base64pad",Uc="utf8",Wh=0,Qn=1,Bv=0,Vh=1,jc=12,Bc=32;function qv(){const t=$c.generateKeyPair();return{privateKey:lr(t.secretKey,ur),publicKey:lr(t.publicKey,ur)}}function qc(){const t=Di.randomBytes(Bc);return lr(t,ur)}function zv(t,e){const r=$c.sharedKey(_r(t,ur),_r(e,ur),!0),n=new lv(zo.SHA256,r).expand(Bc);return lr(n,ur)}function Wv(t){const e=zo.hash(_r(t,ur));return lr(e,ur)}function Ti(t){const e=zo.hash(_r(t,Uc));return lr(e,ur)}function Vv(t){return _r(`${t}`,zh)}function Os(t){return Number(lr(t,zh))}function Hv(t){const e=Vv(typeof t.type<"u"?t.type:Wh);if(Os(e)===Qn&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?_r(t.senderPublicKey,ur):void 0,n=typeof t.iv<"u"?_r(t.iv,ur):Di.randomBytes(jc),i=new Ac.ChaCha20Poly1305(_r(t.symKey,ur)).seal(n,_r(t.message,Uc));return Zv({type:e,sealed:i,iv:n,senderPublicKey:r})}function Kv(t){const e=new Ac.ChaCha20Poly1305(_r(t.symKey,ur)),{sealed:r,iv:n}=Wo(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return lr(i,Uc)}function Zv(t){if(Os(t.type)===Qn){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return lr(Ic([t.type,t.senderPublicKey,t.iv,t.sealed]),Fc)}return lr(Ic([t.type,t.iv,t.sealed]),Fc)}function Wo(t){const e=_r(t,Fc),r=e.slice(Bv,Vh),n=Vh;if(Os(r)===Qn){const a=n+Bc,c=a+jc,l=e.slice(n,a),d=e.slice(a,c),f=e.slice(c);return{type:r,sealed:f,iv:d,senderPublicKey:l}}const i=n+jc,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function Gv(t,e){const r=Wo(t);return Hh({type:Os(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?lr(r.senderPublicKey,ur):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Hh(t){const e=(t==null?void 0:t.type)||Wh;if(e===Qn){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Kh(t){return t.type===Qn&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var Yv=Object.defineProperty,Zh=Object.getOwnPropertySymbols,Qv=Object.prototype.hasOwnProperty,Jv=Object.prototype.propertyIsEnumerable,Gh=(t,e,r)=>e in t?Yv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yh=(t,e)=>{for(var r in e||(e={}))Qv.call(e,r)&&Gh(t,r,e[r]);if(Zh)for(var r of Zh(e))Jv.call(e,r)&&Gh(t,r,e[r]);return t};const Xv="ReactNative",Dr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ew="js";function zc(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ai(){return!Nc()&&!!Lc()&&navigator.product===Xv}function Ri(){return!zc()&&!!Lc()&&!!Nc()}function Ds(){return Ai()?Dr.reactNative:zc()?Dr.node:Ri()?Dr.browser:Dr.unknown}function tw(){var t;try{return Ai()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function rw(t,e){let r=Cs.parse(t);return r=Yh(Yh({},r),e),t=Cs.stringify(r),t}function nw(){return kh()||{name:"",description:"",url:"",icons:[""]}}function iw(){if(Ds()===Dr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=vv();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function sw(){var t;const e=Ds();return e===Dr.browser?[e,((t=Mh())==null?void 0:t.host)||"unknown"].join(":"):e}function ow(t,e,r){const n=iw(),i=sw();return[[t,e].join("-"),[ew,r].join("-"),n,i].join("/")}function aw({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=r.split("?"),l=ow(t,e,n),d={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},f=rw(c[1]||"",d);return c[0]+"?"+f}function Jn(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Qh(t){return Object.fromEntries(t.entries())}function Jh(t){return new Map(Object.entries(t))}function Pi(t=ye.FIVE_MINUTES,e){const r=ye.toMiliseconds(t||ye.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function Is(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Xh(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function cw(t){return Xh("topic",t)}function lw(t){return Xh("id",t)}function ef(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Ir(t,e){return ye.fromMiliseconds((e||Date.now())+ye.toMiliseconds(t))}function Sn(t){return Date.now()>=ye.toMiliseconds(t)}function Bt(t,e){return`${t}${e?`:${e}`:""}`}async function uw({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const s=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=Ds();o===Dr.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===Dr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}async function dw(t,e){try{return await t.getItem(e)||(Ri()?localStorage.getItem(e):void 0)}catch(r){console.error(r)}}const hw="irn";function Wc(t){return(t==null?void 0:t.relay)||{protocol:hw}}function Vo(t){const e=jv[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var fw=Object.defineProperty,pw=Object.defineProperties,gw=Object.getOwnPropertyDescriptors,tf=Object.getOwnPropertySymbols,mw=Object.prototype.hasOwnProperty,yw=Object.prototype.propertyIsEnumerable,rf=(t,e,r)=>e in t?fw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vw=(t,e)=>{for(var r in e||(e={}))mw.call(e,r)&&rf(t,r,e[r]);if(tf)for(var r of tf(e))yw.call(e,r)&&rf(t,r,e[r]);return t},ww=(t,e)=>pw(t,gw(e));function bw(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function nf(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Cs.parse(s);return{protocol:n,topic:_w(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:bw(o),expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function _w(t){return t.startsWith("//")?t.substring(2):t}function Ew(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function Sw(t){return`${t.protocol}:${t.topic}@${t.version}?`+Cs.stringify(ww(vw({symKey:t.symKey},Ew(t.relay)),{expiryTimestamp:t.expiryTimestamp}))}function $i(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function xw(t){const e=[];return Object.values(t).forEach(r=>{e.push(...$i(r.accounts))}),e}function Cw(t,e){const r=[];return Object.values(t).forEach(n=>{$i(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Ow(t,e){const r=[];return Object.values(t).forEach(n=>{$i(n.accounts).includes(e)&&r.push(...n.events)}),r}const Dw={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Iw={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function oe(t,e){const{message:r,code:n}=Iw[t];return{message:e?`${r} ${e}`:r,code:n}}function Mt(t,e){const{message:r,code:n}=Dw[t];return{message:e?`${r} ${e}`:r,code:n}}function Ts(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Ho(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function dr(t){return typeof t>"u"}function Yt(t,e){return e&&dr(t)?!0:typeof t=="string"&&!!t.trim().length}function Vc(t,e){return e&&dr(t)?!0:typeof t=="number"&&!isNaN(t)}function Tw(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Jn(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],d=$i(a),f=r[o];(!Jn(qh(o,f),d)||!Jn(f.methods,c)||!Jn(f.events,l))&&(s=!1)}),s):!1}function Ko(t){return Yt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Aw(t){if(Yt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Ko(r)}}return!1}function Rw(t){if(Yt(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Pw(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function $w(t){return t==null?void 0:t.topic}function Nw(t,e){let r=null;return Yt(t==null?void 0:t.publicKey,!1)||(r=oe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function sf(t){let e=!0;return Ts(t)?t.length&&(e=t.every(r=>Yt(r,!1))):e=!1,e}function Lw(t,e,r){let n=null;return Ts(e)&&e.length?e.forEach(i=>{n||Ko(i)||(n=Mt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Ko(t)||(n=Mt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Mw(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Lw(i,qh(i,s),`${e} ${r}`);o&&(n=o)}),n}function kw(t,e){let r=null;return Ts(t)?t.forEach(n=>{r||Aw(n)||(r=Mt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Mt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Fw(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=kw(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function Uw(t,e){let r=null;return sf(t==null?void 0:t.methods)?sf(t==null?void 0:t.events)||(r=Mt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Mt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function of(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Uw(n,`${e}, namespace`);i&&(r=i)}),r}function jw(t,e,r){let n=null;if(t&&Ho(t)){const i=of(t,e);i&&(n=i);const s=Mw(t,e,r);s&&(n=s)}else n=oe("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Hc(t,e){let r=null;if(t&&Ho(t)){const n=of(t,e);n&&(r=n);const i=Fw(t,e);i&&(r=i)}else r=oe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function af(t){return Yt(t.protocol,!0)}function Bw(t,e){let r=!1;return e&&!t?r=!0:t&&Ts(t)&&t.length&&t.forEach(n=>{r=af(n)}),r}function qw(t){return typeof t=="number"}function Er(t){return typeof t<"u"&&typeof t!==null}function zw(t){return!(!t||typeof t!="object"||!t.code||!Vc(t.code,!1)||!t.message||!Yt(t.message,!1))}function Ww(t){return!(dr(t)||!Yt(t.method,!1))}function Vw(t){return!(dr(t)||dr(t.result)&&dr(t.error)||!Vc(t.id,!1)||!Yt(t.jsonrpc,!1))}function Hw(t){return!(dr(t)||!Yt(t.name,!1))}function cf(t,e){return!(!Ko(e)||!xw(t).includes(e))}function Kw(t,e,r){return Yt(r,!1)?Cw(t,e).includes(r):!1}function Zw(t,e,r){return Yt(r,!1)?Ow(t,e).includes(r):!1}function lf(t,e,r){let n=null;const i=Gw(t),s=Yw(e),o=Object.keys(i),a=Object.keys(s),c=uf(Object.keys(t)),l=uf(Object.keys(e)),d=c.filter(f=>!l.includes(f));return d.length&&(n=oe("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),Jn(o,a)||(n=oe("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const g=$i(e[f].accounts);g.includes(f)||(n=oe("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${g.toString()}`))}),o.forEach(f=>{n||(Jn(i[f].methods,s[f].methods)?Jn(i[f].events,s[f].events)||(n=oe("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=oe("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Gw(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function uf(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Yw(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=$i(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Qw(t,e){return Vc(t,!1)&&t<=e.max&&t>=e.min}function df(){const t=Ds();return new Promise(e=>{switch(t){case Dr.browser:e(Jw());break;case Dr.reactNative:e(Xw());break;case Dr.node:e(eb());break;default:e(!0)}})}function Jw(){return Ri()&&(navigator==null?void 0:navigator.onLine)}async function Xw(){if(Ai()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function eb(){return!0}function tb(t){switch(Ds()){case Dr.browser:rb(t);break;case Dr.reactNative:nb(t);break}}function rb(t){!Ai()&&Ri()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function nb(t){Ai()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const Kc={};let Zo=class{static get(e){return Kc[e]}static set(e,r){Kc[e]=r}static delete(e){delete Kc[e]}};const ib="PARSE_ERROR",sb="INVALID_REQUEST",ob="METHOD_NOT_FOUND",ab="INVALID_PARAMS",hf="INTERNAL_ERROR",Zc="SERVER_ERROR",cb=[-32700,-32600,-32601,-32602,-32603],As={[ib]:{code:-32700,message:"Parse error"},[sb]:{code:-32600,message:"Invalid Request"},[ob]:{code:-32601,message:"Method not found"},[ab]:{code:-32602,message:"Invalid params"},[hf]:{code:-32603,message:"Internal error"},[Zc]:{code:-32e3,message:"Server error"}},ff=Zc;function lb(t){return cb.includes(t)}function pf(t){return Object.keys(As).includes(t)?As[t]:As[ff]}function ub(t){const e=Object.values(As).find(r=>r.code===t);return e||As[ff]}function db(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var gf={},sn={},mf;function hb(){if(mf)return sn;mf=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.isBrowserCryptoAvailable=sn.getSubtleCrypto=sn.getBrowerCrypto=void 0;function t(){return(Gr==null?void 0:Gr.crypto)||(Gr==null?void 0:Gr.msCrypto)||{}}sn.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}sn.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return sn.isBrowserCryptoAvailable=r,sn}var on={},yf;function fb(){if(yf)return on;yf=1,Object.defineProperty(on,"__esModule",{value:!0}),on.isBrowser=on.isNode=on.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}on.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}on.isNode=e;function r(){return!t()&&!e()}return on.isBrowser=r,on}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yr;e.__exportStar(hb(),t),e.__exportStar(fb(),t)})(gf);function Gc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function vf(t=6){return BigInt(Gc(t))}function Ni(t,e,r){return{id:r||Gc(),jsonrpc:"2.0",method:t,params:e}}function Yc(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Qc(t,e,r){return{id:t,jsonrpc:"2.0",error:pb(e,r)}}function pb(t,e){return typeof t>"u"?pf(hf):(typeof t=="string"&&(t=Object.assign(Object.assign({},pf(Zc)),{message:t})),typeof e<"u"&&(t.data=e),lb(t.code)&&(t=ub(t.code)),t)}class gb{}class mb extends gb{constructor(){super()}}class yb extends mb{constructor(e){super()}}const vb="^wss?:";function wb(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function bb(t,e){const r=wb(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function wf(t){return bb(t,vb)}function _b(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function bf(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Jc(t){return bf(t)&&"method"in t}function Go(t){return bf(t)&&(an(t)||Fr(t))}function an(t){return"result"in t}function Fr(t){return"error"in t}class Eb extends yb{constructor(e){super(e),this.events=new Pr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ni(e.method,e.params||[],e.id||vf().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Fr(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Go(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Sb=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),xb=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",_f=t=>t.split("?")[0],Ef=10,Cb=Sb();let Ob=class{constructor(e){if(this.url=e,this.events=new Pr.EventEmitter,this.registering=!1,!wf(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(ys(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!wf(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(e).get("origin"),s=gf.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!_b(e)},o=new Cb(e,[],s);xb()?o.onerror=a=>{const c=a;n(this.emitError(c.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?$o(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Qc(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return db(e,_f(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Ef&&this.events.setMaxListeners(Ef)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${_f(this.url)}`));return this.events.emit("register_error",r),r}};var Yo={exports:{}};Yo.exports,function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",g="[object Error]",y="[object Function]",b="[object GeneratorFunction]",E="[object Map]",C="[object Number]",I="[object Null]",_="[object Object]",x="[object Promise]",w="[object Proxy]",S="[object RegExp]",m="[object Set]",u="[object String]",v="[object Symbol]",L="[object Undefined]",P="[object WeakMap]",q="[object ArrayBuffer]",Z="[object DataView]",Q="[object Float32Array]",$="[object Float64Array]",U="[object Int8Array]",X="[object Int16Array]",z="[object Int32Array]",H="[object Uint8Array]",Y="[object Uint8ClampedArray]",D="[object Uint16Array]",j="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ee={};ee[Q]=ee[$]=ee[U]=ee[X]=ee[z]=ee[H]=ee[Y]=ee[D]=ee[j]=!0,ee[a]=ee[c]=ee[q]=ee[d]=ee[Z]=ee[f]=ee[g]=ee[y]=ee[E]=ee[C]=ee[_]=ee[S]=ee[m]=ee[u]=ee[P]=!1;var ue=typeof Gr=="object"&&Gr&&Gr.Object===Object&&Gr,k=typeof self=="object"&&self&&self.Object===Object&&self,M=ue||k||Function("return this")(),N=e&&!e.nodeType&&e,h=N&&!0&&t&&!t.nodeType&&t,R=h&&h.exports===N,ne=R&&ue.process,le=function(){try{return ne&&ne.binding&&ne.binding("util")}catch{}}(),Be=le&&le.isTypedArray;function qe(O,F){for(var G=-1,he=O==null?0:O.length,ht=0,$e=[];++G<he;){var At=O[G];F(At,G,O)&&($e[ht++]=At)}return $e}function Te(O,F){for(var G=-1,he=F.length,ht=O.length;++G<he;)O[ht+G]=F[G];return O}function Ke(O,F){for(var G=-1,he=O==null?0:O.length;++G<he;)if(F(O[G],G,O))return!0;return!1}function wt(O,F){for(var G=-1,he=Array(O);++G<O;)he[G]=F(G);return he}function ct(O){return function(F){return O(F)}}function Oe(O,F){return O.has(F)}function Ae(O,F){return O==null?void 0:O[F]}function Re(O){var F=-1,G=Array(O.size);return O.forEach(function(he,ht){G[++F]=[ht,he]}),G}function Le(O,F){return function(G){return O(F(G))}}function Pe(O){var F=-1,G=Array(O.size);return O.forEach(function(he){G[++F]=he}),G}var xe=Array.prototype,Ce=Function.prototype,_e=Object.prototype,Ue=M["__core-js_shared__"],ze=Ce.toString,Se=_e.hasOwnProperty,je=function(){var O=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),Je=_e.toString,nt=RegExp("^"+ze.call(Se).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=R?M.Buffer:void 0,We=M.Symbol,ar=M.Uint8Array,xr=_e.propertyIsEnumerable,Lr=xe.splice,qt=We?We.toStringTag:void 0,Mr=Object.getOwnPropertySymbols,yr=it?it.isBuffer:void 0,kr=Le(Object.keys,Object),dt=mn(M,"DataView"),lt=mn(M,"Map"),xt=mn(M,"Promise"),_t=mn(M,"Set"),Ct=mn(M,"WeakMap"),yt=mn(Object,"create"),$t=yn(dt),bt=yn(lt),Ot=yn(xt),Dt=yn(_t),Ft=yn(Ct),Nt=We?We.prototype:void 0,It=Nt?Nt.valueOf:void 0;function mt(O){var F=-1,G=O==null?0:O.length;for(this.clear();++F<G;){var he=O[F];this.set(he[0],he[1])}}function T(){this.__data__=yt?yt(null):{},this.size=0}function K(O){var F=this.has(O)&&delete this.__data__[O];return this.size-=F?1:0,F}function ce(O){var F=this.__data__;if(yt){var G=F[O];return G===n?void 0:G}return Se.call(F,O)?F[O]:void 0}function ge(O){var F=this.__data__;return yt?F[O]!==void 0:Se.call(F,O)}function et(O,F){var G=this.__data__;return this.size+=this.has(O)?0:1,G[O]=yt&&F===void 0?n:F,this}mt.prototype.clear=T,mt.prototype.delete=K,mt.prototype.get=ce,mt.prototype.has=ge,mt.prototype.set=et;function Ze(O){var F=-1,G=O==null?0:O.length;for(this.clear();++F<G;){var he=O[F];this.set(he[0],he[1])}}function Ye(){this.__data__=[],this.size=0}function Ve(O){var F=this.__data__,G=mi(F,O);if(G<0)return!1;var he=F.length-1;return G==he?F.pop():Lr.call(F,G,1),--this.size,!0}function Ht(O){var F=this.__data__,G=mi(F,O);return G<0?void 0:F[G][1]}function Et(O){return mi(this.__data__,O)>-1}function Tt(O,F){var G=this.__data__,he=mi(G,O);return he<0?(++this.size,G.push([O,F])):G[he][1]=F,this}Ze.prototype.clear=Ye,Ze.prototype.delete=Ve,Ze.prototype.get=Ht,Ze.prototype.has=Et,Ze.prototype.set=Tt;function Ut(O){var F=-1,G=O==null?0:O.length;for(this.clear();++F<G;){var he=O[F];this.set(he[0],he[1])}}function nn(){this.size=0,this.__data__={hash:new mt,map:new(lt||Ze),string:new mt}}function os(O){var F=wi(this,O).delete(O);return this.size-=F?1:0,F}function Rr(O){return wi(this,O).get(O)}function Uu(O){return wi(this,O).has(O)}function ju(O,F){var G=wi(this,O),he=G.size;return G.set(O,F),this.size+=G.size==he?0:1,this}Ut.prototype.clear=nn,Ut.prototype.delete=os,Ut.prototype.get=Rr,Ut.prototype.has=Uu,Ut.prototype.set=ju;function as(O){var F=-1,G=O==null?0:O.length;for(this.__data__=new Ut;++F<G;)this.add(O[F])}function Bu(O){return this.__data__.set(O,n),this}function gi(O){return this.__data__.has(O)}as.prototype.add=as.prototype.push=Bu,as.prototype.has=gi;function Hr(O){var F=this.__data__=new Ze(O);this.size=F.size}function Ba(){this.__data__=new Ze,this.size=0}function qa(O){var F=this.__data__,G=F.delete(O);return this.size=F.size,G}function za(O){return this.__data__.get(O)}function Wa(O){return this.__data__.has(O)}function Va(O,F){var G=this.__data__;if(G instanceof Ze){var he=G.__data__;if(!lt||he.length<r-1)return he.push([O,F]),this.size=++G.size,this;G=this.__data__=new Ut(he)}return G.set(O,F),this.size=G.size,this}Hr.prototype.clear=Ba,Hr.prototype.delete=qa,Hr.prototype.get=za,Hr.prototype.has=Wa,Hr.prototype.set=Va;function Ha(O,F){var G=bi(O),he=!G&&Ga(O),ht=!G&&!he&&fs(O),$e=!G&&!he&&!ht&&_i(O),At=G||he||ht||$e,zt=At?wt(O.length,String):[],Kt=zt.length;for(var p in O)(F||Se.call(O,p))&&!(At&&(p=="length"||ht&&(p=="offset"||p=="parent")||$e&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||bo(p,Kt)))&&zt.push(p);return zt}function mi(O,F){for(var G=O.length;G--;)if(_o(O[G][0],F))return G;return-1}function qu(O,F,G){var he=F(O);return bi(O)?he:Te(he,G(O))}function yi(O){return O==null?O===void 0?L:I:qt&&qt in Object(O)?hs(O):Za(O)}function cs(O){return Fn(O)&&yi(O)==a}function ls(O,F,G,he,ht){return O===F?!0:O==null||F==null||!Fn(O)&&!Fn(F)?O!==O&&F!==F:us(O,F,G,he,ls,ht)}function us(O,F,G,he,ht,$e){var At=bi(O),zt=bi(F),Kt=At?c:vr(O),p=zt?c:vr(F);Kt=Kt==a?_:Kt,p=p==a?_:p;var A=Kt==_,B=p==_,W=Kt==p;if(W&&fs(O)){if(!fs(F))return!1;At=!0,A=!1}if(W&&!A)return $e||($e=new Hr),At||_i(O)?wo(O,F,G,he,ht,$e):Wu(O,F,Kt,G,he,ht,$e);if(!(G&i)){var J=A&&Se.call(O,"__wrapped__"),me=B&&Se.call(F,"__wrapped__");if(J||me){var de=J?O.value():O,we=me?F.value():F;return $e||($e=new Hr),ht(de,we,G,he,$e)}}return W?($e||($e=new Hr),Vu(O,F,G,he,ht,$e)):!1}function vo(O){if(!Xa(O)||Ku(O))return!1;var F=Qa(O)?nt:V;return F.test(yn(O))}function ds(O){return Fn(O)&&Ja(O.length)&&!!ee[yi(O)]}function zu(O){if(!Zu(O))return kr(O);var F=[];for(var G in Object(O))Se.call(O,G)&&G!="constructor"&&F.push(G);return F}function wo(O,F,G,he,ht,$e){var At=G&i,zt=O.length,Kt=F.length;if(zt!=Kt&&!(At&&Kt>zt))return!1;var p=$e.get(O);if(p&&$e.get(F))return p==F;var A=-1,B=!0,W=G&s?new as:void 0;for($e.set(O,F),$e.set(F,O);++A<zt;){var J=O[A],me=F[A];if(he)var de=At?he(me,J,A,F,O,$e):he(J,me,A,O,F,$e);if(de!==void 0){if(de)continue;B=!1;break}if(W){if(!Ke(F,function(we,Me){if(!Oe(W,Me)&&(J===we||ht(J,we,G,he,$e)))return W.push(Me)})){B=!1;break}}else if(!(J===me||ht(J,me,G,he,$e))){B=!1;break}}return $e.delete(O),$e.delete(F),B}function Wu(O,F,G,he,ht,$e,At){switch(G){case Z:if(O.byteLength!=F.byteLength||O.byteOffset!=F.byteOffset)return!1;O=O.buffer,F=F.buffer;case q:return!(O.byteLength!=F.byteLength||!$e(new ar(O),new ar(F)));case d:case f:case C:return _o(+O,+F);case g:return O.name==F.name&&O.message==F.message;case S:case u:return O==F+"";case E:var zt=Re;case m:var Kt=he&i;if(zt||(zt=Pe),O.size!=F.size&&!Kt)return!1;var p=At.get(O);if(p)return p==F;he|=s,At.set(O,F);var A=wo(zt(O),zt(F),he,ht,$e,At);return At.delete(O),A;case v:if(It)return It.call(O)==It.call(F)}return!1}function Vu(O,F,G,he,ht,$e){var At=G&i,zt=vi(O),Kt=zt.length,p=vi(F),A=p.length;if(Kt!=A&&!At)return!1;for(var B=Kt;B--;){var W=zt[B];if(!(At?W in F:Se.call(F,W)))return!1}var J=$e.get(O);if(J&&$e.get(F))return J==F;var me=!0;$e.set(O,F),$e.set(F,O);for(var de=At;++B<Kt;){W=zt[B];var we=O[W],Me=F[W];if(he)var ut=At?he(Me,we,W,F,O,$e):he(we,Me,W,O,F,$e);if(!(ut===void 0?we===Me||ht(we,Me,G,he,$e):ut)){me=!1;break}de||(de=W=="constructor")}if(me&&!de){var ft=O.constructor,pt=F.constructor;ft!=pt&&"constructor"in O&&"constructor"in F&&!(typeof ft=="function"&&ft instanceof ft&&typeof pt=="function"&&pt instanceof pt)&&(me=!1)}return $e.delete(O),$e.delete(F),me}function vi(O){return qu(O,Yu,Hu)}function wi(O,F){var G=O.__data__;return Ka(F)?G[typeof F=="string"?"string":"hash"]:G.map}function mn(O,F){var G=Ae(O,F);return vo(G)?G:void 0}function hs(O){var F=Se.call(O,qt),G=O[qt];try{O[qt]=void 0;var he=!0}catch{}var ht=Je.call(O);return he&&(F?O[qt]=G:delete O[qt]),ht}var Hu=Mr?function(O){return O==null?[]:(O=Object(O),qe(Mr(O),function(F){return xr.call(O,F)}))}:Un,vr=yi;(dt&&vr(new dt(new ArrayBuffer(1)))!=Z||lt&&vr(new lt)!=E||xt&&vr(xt.resolve())!=x||_t&&vr(new _t)!=m||Ct&&vr(new Ct)!=P)&&(vr=function(O){var F=yi(O),G=F==_?O.constructor:void 0,he=G?yn(G):"";if(he)switch(he){case $t:return Z;case bt:return E;case Ot:return x;case Dt:return m;case Ft:return P}return F});function bo(O,F){return F=F??o,!!F&&(typeof O=="number"||se.test(O))&&O>-1&&O%1==0&&O<F}function Ka(O){var F=typeof O;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?O!=="__proto__":O===null}function Ku(O){return!!je&&je in O}function Zu(O){var F=O&&O.constructor,G=typeof F=="function"&&F.prototype||_e;return O===G}function Za(O){return Je.call(O)}function yn(O){if(O!=null){try{return ze.call(O)}catch{}try{return O+""}catch{}}return""}function _o(O,F){return O===F||O!==O&&F!==F}var Ga=cs(function(){return arguments}())?cs:function(O){return Fn(O)&&Se.call(O,"callee")&&!xr.call(O,"callee")},bi=Array.isArray;function Gu(O){return O!=null&&Ja(O.length)&&!Qa(O)}var fs=yr||ec;function Ya(O,F){return ls(O,F)}function Qa(O){if(!Xa(O))return!1;var F=yi(O);return F==y||F==b||F==l||F==w}function Ja(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=o}function Xa(O){var F=typeof O;return O!=null&&(F=="object"||F=="function")}function Fn(O){return O!=null&&typeof O=="object"}var _i=Be?ct(Be):ds;function Yu(O){return Gu(O)?Ha(O):zu(O)}function Un(){return[]}function ec(){return!1}t.exports=Ya}(Yo,Yo.exports);var Db=Yo.exports;const Ib=Si(Db);function Tb(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,s=[],o=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return s},entries:function(){return o},get:function(d){return a[d.toLowerCase()]},has:function(d){return d.toLowerCase()in a}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(d,f,g){s.push(f=f.toLowerCase()),o.push([f,g]),a[f]=a[f]?a[f]+","+g:g}),r(c())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}const Sf=Oo(Object.freeze(Object.defineProperty({__proto__:null,default:Tb},Symbol.toStringTag,{value:"Module"})));var Ab=fetch ||(self.fetch=Sf.default||Sf);const Rb=Si(Ab);function Pb(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var E=0,C=0,I=0,_=b.length;I!==_&&b[I]===0;)I++,E++;for(var x=(_-I)*d+1>>>0,w=new Uint8Array(x);I!==_;){for(var S=b[I],m=0,u=x-1;(S!==0||m<C)&&u!==-1;u--,m++)S+=256*w[u]>>>0,w[u]=S%a>>>0,S=S/a>>>0;if(S!==0)throw new Error("Non-zero carry");C=m,I++}for(var v=x-C;v!==x&&w[v]===0;)v++;for(var L=c.repeat(E);v<x;++v)L+=t.charAt(w[v]);return L}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var E=0;if(b[E]!==" "){for(var C=0,I=0;b[E]===c;)C++,E++;for(var _=(b.length-E)*l+1>>>0,x=new Uint8Array(_);b[E];){var w=r[b.charCodeAt(E)];if(w===255)return;for(var S=0,m=_-1;(w!==0||S<I)&&m!==-1;m--,S++)w+=a*x[m]>>>0,x[m]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");I=S,E++}if(b[E]!==" "){for(var u=_-I;u!==_&&x[u]===0;)u++;for(var v=new Uint8Array(C+(_-u)),L=C;u!==_;)v[L++]=x[u++];return v}}}function y(b){var E=g(b);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:y}}var $b=Pb,Nb=$b;const xf=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Lb=t=>new TextEncoder().encode(t),Mb=t=>new TextDecoder().decode(t);class kb{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Fb{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Cf(this,e)}}class Ub{constructor(e){this.decoders=e}or(e){return Cf(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Cf=(t,e)=>new Ub({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class jb{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new kb(e,r,n),this.decoder=new Fb(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Qo=({name:t,prefix:e,encode:r,decode:n})=>new jb(t,e,r,n),Rs=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Nb(r,e);return Qo({prefix:t,name:e,encode:n,decode:s=>xf(i(s))})},Bb=(t,e,r,n)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let d=0;d<s;++d){const f=i[t[d]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qb=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Xt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Qo({prefix:e,name:t,encode(i){return qb(i,n,r)},decode(i){return Bb(i,n,r,t)}}),zb=Qo({prefix:"\0",name:"identity",encode:t=>Mb(t),decode:t=>Lb(t)});var Wb=Object.freeze({__proto__:null,identity:zb});const Vb=Xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Hb=Object.freeze({__proto__:null,base2:Vb});const Kb=Xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Zb=Object.freeze({__proto__:null,base8:Kb});const Gb=Rs({prefix:"9",name:"base10",alphabet:"0123456789"});var Yb=Object.freeze({__proto__:null,base10:Gb});const Qb=Xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jb=Xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xb=Object.freeze({__proto__:null,base16:Qb,base16upper:Jb});const e2=Xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),t2=Xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),r2=Xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),n2=Xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),i2=Xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s2=Xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o2=Xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),a2=Xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),c2=Xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l2=Object.freeze({__proto__:null,base32:e2,base32upper:t2,base32pad:r2,base32padupper:n2,base32hex:i2,base32hexupper:s2,base32hexpad:o2,base32hexpadupper:a2,base32z:c2});const u2=Rs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),d2=Rs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var h2=Object.freeze({__proto__:null,base36:u2,base36upper:d2});const f2=Rs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p2=Rs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var g2=Object.freeze({__proto__:null,base58btc:f2,base58flickr:p2});const m2=Xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),y2=Xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),v2=Xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),w2=Xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var b2=Object.freeze({__proto__:null,base64:m2,base64pad:y2,base64url:v2,base64urlpad:w2});const Of=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),_2=Of.reduce((t,e,r)=>(t[r]=e,t),[]),E2=Of.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function S2(t){return t.reduce((e,r)=>(e+=_2[r],e),"")}function x2(t){const e=[];for(const r of t){const n=E2[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const C2=Qo({prefix:"🚀",name:"base256emoji",encode:S2,decode:x2});var O2=Object.freeze({__proto__:null,base256emoji:C2}),D2=If,Df=128,I2=127,T2=~I2,A2=Math.pow(2,31);function If(t,e,r){e=e||[],r=r||0;for(var n=r;t>=A2;)e[r++]=t&255|Df,t/=128;for(;t&T2;)e[r++]=t&255|Df,t>>>=7;return e[r]=t|0,If.bytes=r-n+1,e}var R2=Xc,P2=128,Tf=127;function Xc(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Xc.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&Tf)<<i:(o&Tf)*Math.pow(2,i),i+=7}while(o>=P2);return Xc.bytes=s-n,r}var $2=Math.pow(2,7),N2=Math.pow(2,14),L2=Math.pow(2,21),M2=Math.pow(2,28),k2=Math.pow(2,35),F2=Math.pow(2,42),U2=Math.pow(2,49),j2=Math.pow(2,56),B2=Math.pow(2,63),q2=function(t){return t<$2?1:t<N2?2:t<L2?3:t<M2?4:t<k2?5:t<F2?6:t<U2?7:t<j2?8:t<B2?9:10},z2={encode:D2,decode:R2,encodingLength:q2},Af=z2;const Rf=(t,e,r=0)=>(Af.encode(t,e,r),e),Pf=t=>Af.encodingLength(t),el=(t,e)=>{const r=e.byteLength,n=Pf(t),i=n+Pf(r),s=new Uint8Array(i+r);return Rf(t,s,0),Rf(r,s,n),s.set(e,i),new W2(t,r,e,s)};let W2=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const $f=({name:t,code:e,encode:r})=>new V2(t,e,r);let V2=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?el(this.code,r):r.then(n=>el(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Nf=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),H2=$f({name:"sha2-256",code:18,encode:Nf("SHA-256")}),K2=$f({name:"sha2-512",code:19,encode:Nf("SHA-512")});var Z2=Object.freeze({__proto__:null,sha256:H2,sha512:K2});const Lf=0,G2="identity",Mf=xf;var Y2=Object.freeze({__proto__:null,identity:{code:Lf,name:G2,encode:Mf,digest:t=>el(Lf,Mf(t))}});new TextEncoder,new TextDecoder;const kf={...Wb,...Hb,...Zb,...Yb,...Xb,...l2,...h2,...g2,...b2,...O2};({...Z2,...Y2});function Ff(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Q2(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ff(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Uf(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const jf=Uf("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),tl=Uf("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Q2(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),J2={utf8:jf,"utf-8":jf,hex:kf.base16,latin1:tl,ascii:tl,binary:tl,...kf};function X2(t,e="utf8"){const r=J2[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ff(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const Bf="wc",e_=2,rl="core",xn=`${Bf}@2:${rl}:`,t_={name:rl,logger:"error"},r_={database:":memory:"},n_="crypto",qf="client_ed25519_seed",i_=ye.ONE_DAY,s_="keychain",o_="0.3",a_="messages",c_="0.3",l_=ye.SIX_HOURS,u_="publisher",zf="irn",d_="error",Wf="wss://relay.walletconnect.com",Vf="wss://relay.walletconnect.org",h_="relayer",nr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},f_="_subscription",cn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},p_=ye.ONE_SECOND,g_="2.11.1",m_=1e4,y_="0.3",v_="WALLETCONNECT_CLIENT_ID",Ur={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},w_="subscription",b_="0.3",__=ye.FIVE_SECONDS*1e3,E_="pairing",S_="0.3",Ps={wc_pairingDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:ye.ONE_DAY,prompt:!1,tag:0}}},$s={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Jr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},x_="history",C_="0.3",O_="expirer",$r={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},D_="0.3",nl="verify-api",Li="https://verify.walletconnect.com",il="https://verify.walletconnect.org",I_=[Li,il],T_="echo",A_="https://echo.walletconnect.com";let R_=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=s_,this.version=o_,this.initialized=!1,this.storagePrefix=xn,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=oe("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Qh(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Jh(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}},P_=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=n_,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=xh(i);return Sh(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=qv();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=xh(s),a=qc();return await Yy(a,i,i_,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=zv(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||Wv(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=Hh(o),c=ys(s);if(Kh(a)){const g=a.senderPublicKey,y=a.receiverPublicKey;i=await this.generateSharedKey(g,y)}const l=this.getSymKey(i),{type:d,senderPublicKey:f}=a;return Hv({type:d,symKey:l,message:c,senderPublicKey:f})},this.decode=async(i,s,o)=>{this.isInitialized();const a=Gv(s,o);if(Kh(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=Kv({symKey:c,encoded:s});return $o(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=i=>{const s=Wo(i);return Os(s.type)},this.getPayloadSenderPublicKey=i=>{const s=Wo(i);return s.senderPublicKey?lr(s.senderPublicKey,ur):void 0},this.core=e,this.logger=tt.generateChildLogger(r,this.name),this.keychain=n||new R_(this.core,this.logger)}get context(){return tt.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(qf)}catch{e=qc(),await this.keychain.set(qf,e)}return X2(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}},$_=class extends Gd{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=a_,this.version=c_,this.initialized=!1,this.storagePrefix=xn,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Ti(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Ti(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=tt.generateChildLogger(e,this.name),this.core=r}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Qh(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Jh(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}};class N_ extends Yd{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Pr.EventEmitter,this.name=u_,this.queue=new Map,this.publishTimeout=ye.toMiliseconds(ye.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const a=(s==null?void 0:s.ttl)||l_,c=Wc(s),l=(s==null?void 0:s.prompt)||!1,d=(s==null?void 0:s.tag)||0,f=(s==null?void 0:s.id)||vf().toString(),g={topic:n,message:i,opts:{ttl:a,relay:c,prompt:l,tag:d,id:f}},y=setTimeout(()=>this.queue.set(f,g),this.publishTimeout);try{await await Is(this.rpcPublish(n,i,a,c,l,d,f),this.publishTimeout,`Failed to publish payload, please try again. id:${f} tag:${d}`),this.removeRequestFromQueue(f),this.relayer.events.emit(nr.publish,g)}catch(b){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(f),b;return}finally{clearTimeout(y)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=tt.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return tt.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o,a){var c,l,d,f;const g={method:Vo(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o},id:a};return dr((c=g.params)==null?void 0:c.prompt)&&((l=g.params)==null||delete l.prompt),dr((d=g.params)==null?void 0:d.tag)&&((f=g.params)==null||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g}),this.relayer.request(g)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ci.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(nr.connection_stalled);return}this.checkQueue()}),this.relayer.on(nr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class L_{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var M_=Object.defineProperty,k_=Object.defineProperties,F_=Object.getOwnPropertyDescriptors,Hf=Object.getOwnPropertySymbols,U_=Object.prototype.hasOwnProperty,j_=Object.prototype.propertyIsEnumerable,Kf=(t,e,r)=>e in t?M_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ns=(t,e)=>{for(var r in e||(e={}))U_.call(e,r)&&Kf(t,r,e[r]);if(Hf)for(var r of Hf(e))j_.call(e,r)&&Kf(t,r,e[r]);return t},sl=(t,e)=>k_(t,F_(e));let B_=class extends Xd{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new L_,this.events=new Pr.EventEmitter,this.name=w_,this.version=b_,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=xn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=Wc(i),o={topic:n,relay:s};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new ye.Watch;a.start(i);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),a.stop(i),s(!0)),a.elapsed(i)>=__&&(clearInterval(c),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=tt.generateChildLogger(r,this.name),this.clientId=""}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=Wc(n);await this.rpcUnsubscribe(e,r,i);const s=Mt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){const n={method:Vo(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Is(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(nr.connection_stalled)}return Ti(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Vo(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Is(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(nr.connection_stalled)}}rpcUnsubscribe(e,r,n){const i={method:Vo(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,sl(Ns({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Ns({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,Ns({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ur.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ur.deleted,sl(Ns({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ur.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Ur.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);Ts(r)&&this.onBatchSubscribe(r.map((n,i)=>sl(Ns({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Ci.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(nr.connect,async()=>{await this.onConnect()}),this.relayer.on(nr.disconnect,()=>{this.onDisconnect()}),this.events.on(Ur.created,async e=>{const r=Ur.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Ur.deleted,async e=>{const r=Ur.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}};var q_=Object.defineProperty,Zf=Object.getOwnPropertySymbols,z_=Object.prototype.hasOwnProperty,W_=Object.prototype.propertyIsEnumerable,Gf=(t,e,r)=>e in t?q_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,V_=(t,e)=>{for(var r in e||(e={}))z_.call(e,r)&&Gf(t,r,e[r]);if(Zf)for(var r of Zf(e))W_.call(e,r)&&Gf(t,r,e[r]);return t};let H_=class extends Qd{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Pr.EventEmitter,this.name=h_,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async r=>{this.logger.debug("Publishing Request Payload");const n=r.id,i=this.provider.request(r);this.requestsInFlight.set(n,{promise:i,request:r});try{return await this.toEstablishConnection(),await i}catch(s){throw this.logger.debug("Failed to Publish Request"),this.logger.error(s),s}finally{this.requestsInFlight.delete(n)}},this.onPayloadHandler=r=>{this.onProviderPayload(r)},this.onConnectHandler=()=>{this.events.emit(nr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(nr.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(cn.payload,this.onPayloadHandler),this.provider.on(cn.connect,this.onConnectHandler),this.provider.on(cn.disconnect,this.onDisconnectHandler),this.provider.on(cn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?tt.generateChildLogger(e.logger,this.name):tt.pino(tt.getDefaultLoggerOptions({level:e.logger||d_})),this.messages=new $_(this.logger,e.core),this.subscriber=new B_(this,this.logger),this.publisher=new N_(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Wf,this.projectId=e.projectId,this.bundleId=tw(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Vf}...`),await this.restartTransport(Vf)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},m_)}get context(){return tt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";if(i)return i;let s;const o=a=>{a.topic===e&&(this.subscriber.off(Ur.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Ur.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(e,r),a()})]),i}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Is(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(r=>{if(!this.initialized)return r();this.subscriber.once(Ur.resubscribed,()=>{r()})}),new Promise(async(r,n)=>{try{await Is(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}r()})])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.provider.events.emit(cn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await df())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Eb(new Ob(aw({sdkVersion:g_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Jc(e)){if(!e.method.endsWith(f_))return;const r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(V_({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Go(e)&&this.events.emit(nr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(nr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=Yc(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(cn.payload,this.onPayloadHandler),this.provider.off(cn.connect,this.onConnectHandler),this.provider.off(cn.disconnect,this.onDisconnectHandler),this.provider.off(cn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(nr.connection_stalled,()=>{this.restartTransport().catch(r=>this.logger.error(r))});let e=await df();tb(async r=>{this.initialized&&e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(nr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},ye.toMiliseconds(p_)))}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}};var K_=Object.defineProperty,Yf=Object.getOwnPropertySymbols,Z_=Object.prototype.hasOwnProperty,G_=Object.prototype.propertyIsEnumerable,Qf=(t,e,r)=>e in t?K_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jf=(t,e)=>{for(var r in e||(e={}))Z_.call(e,r)&&Qf(t,r,e[r]);if(Yf)for(var r of Yf(e))G_.call(e,r)&&Qf(t,r,e[r]);return t};let Jo=class extends Jd{constructor(e,r,n,i=xn,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=y_,this.cached=[],this.initialized=!1,this.storagePrefix=xn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!dr(o)?this.map.set(this.getKey(o),o):Pw(o)?this.map.set(o.id,o):$w(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Ib(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Jf(Jf({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=tt.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}},Y_=class{constructor(e,r){this.core=e,this.logger=r,this.name=E_,this.version=S_,this.events=new To,this.initialized=!1,this.storagePrefix=xn,this.ignoredPayloadTypes=[Qn],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=qc(),i=await this.core.crypto.setSymKey(n),s=Ir(ye.FIVE_MINUTES),o={protocol:zf},a={topic:i,expiry:s,relay:o,active:!1},c=Sw({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o,expiryTimestamp:s});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:o,expiryTimestamp:a}=nf(n.uri);let c;if(this.pairings.keys.includes(i)&&(c=this.pairings.get(i),c.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);const l=a||Ir(ye.FIVE_MINUTES),d={topic:i,relay:o,expiry:l,active:!1};return await this.pairings.set(i,d),this.core.expirer.set(i,l),n.activatePairing&&await this.activate({topic:i}),this.events.emit($s.create,d),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o})),d},this.activate=async({topic:n})=>{this.isInitialized();const i=Ir(ye.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Pi();this.events.once(Bt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Mt("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const o=Ni(i,s),a=await this.core.crypto.encode(n,o),c=Ps[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=Yc(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Ps[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=Qc(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Ps[c.request.method]?Ps[c.request.method].res:Ps.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Mt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Sn(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit($s.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{an(i)?this.events.emit(Bt("pairing_ping",s),{}):Fr(i)&&this.events.emit(Bt("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit($s.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Mt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Mt("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var i;if(!Er(n)){const{message:o}=oe("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(o)}if(!Rw(n.uri)){const{message:o}=oe("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(o)}const s=nf(n.uri);if(!((i=s==null?void 0:s.relay)!=null&&i.protocol)){const{message:o}=oe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(o)}if(!(s!=null&&s.symKey)){const{message:o}=oe("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(o)}if(s!=null&&s.expiryTimestamp&&ye.toMiliseconds(s==null?void 0:s.expiryTimestamp)<Date.now()){const{message:o}=oe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!Er(n)){const{message:s}=oe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Er(n)){const{message:s}=oe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Yt(n,!1)){const{message:i}=oe("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Sn(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=oe("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=tt.generateChildLogger(r,this.name),this.pairings=new Jo(this.core,this.logger,this.name,this.storagePrefix)}get context(){return tt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(nr.message,async e=>{const{topic:r,message:n}=e;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{Jc(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Go(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on($r.expired,async e=>{const{topic:r}=ef(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit($s.expire,{topic:r}))})}},Q_=class extends Zd{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Pr.EventEmitter,this.name=x_,this.version=C_,this.cached=[],this.initialized=!1,this.storagePrefix=xn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ir(ye.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(Jr.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Fr(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Jr.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Jr.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ni(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Jr.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Jr.created,e=>{const r=Jr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Jr.updated,e=>{const r=Jr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Jr.deleted,e=>{const r=Jr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.core.heartbeat.on(Ci.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{ye.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}},J_=class extends eh{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Pr.EventEmitter,this.name=O_,this.version=D_,this.cached=[],this.initialized=!1,this.storagePrefix=xn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit($r.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit($r.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cw(e);if(typeof e=="number")return lw(e);const{message:r}=oe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit($r.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;ye.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit($r.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Ci.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on($r.created,e=>{const r=$r.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on($r.expired,e=>{const r=$r.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on($r.deleted,e=>{const r=$r.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}}},X_=class extends th{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=nl,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||Ai()||!Ri())return;const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=il;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);let s;try{s=await this.fetchAttestation(n.attestationId,i)}catch(o){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(o),s=await this.fetchAttestation(n.attestationId,il)}return s},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);const s=this.startAbortTimer(ye.ONE_SECOND*2),o=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const i=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(s=>{if(document.getElementById(nl))return s();window.addEventListener("message",i);const o=document.createElement("iframe");o.id=nl,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,n=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",i),o("verify iframe load timeout")},ye.toMiliseconds(ye.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||Li;return I_.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Li}`),i=Li),i},this.logger=tt.generateChildLogger(r,this.name),this.verifyUrl=Li,this.abortController=new AbortController,this.isDevEnv=zc()&&process.env.IS_VITEST}get context(){return tt.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ye.toMiliseconds(e))}},e3=class extends rh{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=T_,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${A_}/${this.projectId}/clients`;await Rb(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=tt.generateChildLogger(r,this.context)}};var t3=Object.defineProperty,Xf=Object.getOwnPropertySymbols,r3=Object.prototype.hasOwnProperty,n3=Object.prototype.propertyIsEnumerable,ep=(t,e,r)=>e in t?t3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tp=(t,e)=>{for(var r in e||(e={}))r3.call(e,r)&&ep(t,r,e[r]);if(Xf)for(var r of Xf(e))n3.call(e,r)&&ep(t,r,e[r]);return t};const i3=class bg extends Kd{constructor(e){super(e),this.protocol=Bf,this.version=e_,this.name=rl,this.events=new Pr.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Wf,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:tt.pino(tt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||t_.logger}));this.logger=tt.generateChildLogger(r,this.name),this.heartbeat=new Ci.HeartBeat,this.crypto=new P_(this,this.logger,e==null?void 0:e.keychain),this.history=new Q_(this,this.logger),this.expirer=new J_(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Cm(tp(tp({},r_),e==null?void 0:e.storageOptions)),this.relayer=new H_({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Y_(this,this.logger),this.verify=new X_(this.projectId||"",this.logger),this.echoClient=new e3(this.projectId||"",this.logger)}static async init(e){const r=new bg(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(v_,n),r}get context(){return tt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},rp="wc",np=2,ip="client",ol=`${rp}@${np}:${ip}:`,al={name:ip,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},sp="WALLETCONNECT_DEEPLINK_CHOICE",s3="proposal",o3="Proposal expired",a3="session",Xo=ye.SEVEN_DAYS,c3="engine",ln={wc_sessionPropose:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ye.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ye.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ye.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ye.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:ye.THIRTY_SECONDS,prompt:!1,tag:1115}}},cl={min:ye.FIVE_MINUTES,max:ye.SEVEN_DAYS},un={idle:"IDLE",active:"ACTIVE"},l3="request",u3=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var d3=Object.defineProperty,h3=Object.defineProperties,f3=Object.getOwnPropertyDescriptors,op=Object.getOwnPropertySymbols,p3=Object.prototype.hasOwnProperty,g3=Object.prototype.propertyIsEnumerable,ap=(t,e,r)=>e in t?d3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hr=(t,e)=>{for(var r in e||(e={}))p3.call(e,r)&&ap(t,r,e[r]);if(op)for(var r of op(e))g3.call(e,r)&&ap(t,r,e[r]);return t},Mi=(t,e)=>h3(t,f3(e));class m3 extends ih{constructor(e){super(e),this.name=c3,this.events=new To,this.initialized=!1,this.ignoredPayloadTypes=[Qn],this.requestQueue={state:un.idle,queue:[]},this.sessionRequestQueue={state:un.idle,queue:[]},this.requestQueueDelay=ye.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(ln)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const n=Mi(hr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=i,d,f=!1;if(l&&(f=this.client.core.pairing.pairings.get(l).active),!l||!f){const{topic:w,uri:S}=await this.client.core.pairing.create();l=w,d=S}const g=await this.client.core.crypto.generateKeyPair(),y=ln.wc_sessionPropose.req.ttl||ye.FIVE_MINUTES,b=Ir(y),E=hr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:zf}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:b},a&&{sessionProperties:a}),{reject:C,resolve:I,done:_}=Pi(y,o3);if(this.events.once(Bt("session_connect"),async({error:w,session:S})=>{if(w)C(w);else if(S){S.self.publicKey=g;const m=Mi(hr({},S),{requiredNamespaces:E.requiredNamespaces,optionalNamespaces:E.optionalNamespaces});await this.client.session.set(S.topic,m),await this.setExpiry(S.topic,S.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:S.peer.metadata}),I(m)}}),!l){const{message:w}=oe("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(w)}const x=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:E,throwOnFailedPublish:!0});return await this.setProposal(x,hr({id:x},E)),{uri:d,approval:_}},this.pair=async r=>(await this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{await this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n);let{pairingTopic:c,proposer:l,requiredNamespaces:d,optionalNamespaces:f}=a;c=c||"";const g=await this.client.core.crypto.generateKeyPair(),y=l.publicKey,b=await this.client.core.crypto.generateSharedKey(g,y);c&&n&&(await this.client.core.pairing.updateMetadata({topic:c,metadata:l.metadata}),await this.sendResult({id:n,topic:c,result:{relay:{protocol:i??"irn"},responderPublicKey:g}}),await this.client.proposal.delete(n,Mt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}));const E=hr({relay:{protocol:i??"irn"},namespaces:s,pairingTopic:c,controller:{publicKey:g,metadata:this.client.metadata},expiry:Ir(Xo)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(b);const C=Mi(hr({},E),{topic:b,requiredNamespaces:d,optionalNamespaces:f,pairingTopic:c,acknowledged:!1,self:E.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:g});await this.client.session.set(b,C);try{await this.sendRequest({topic:b,method:"wc_sessionSettle",params:E,throwOnFailedPublish:!0})}catch(I){throw this.client.logger.error(I),this.client.session.delete(b,Mt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),I}return await this.setExpiry(b,Ir(Xo)),{topic:b,acknowledged:()=>new Promise(I=>setTimeout(()=>I(this.client.session.get(b)),500))}},this.reject=async r=>{await this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,Mt("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,s=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:o,resolve:a,reject:c}=Pi();return this.events.once(Bt("session_update",s),({error:l})=>{l?c(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{await this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:s,resolve:o,reject:a}=Pi();return this.events.once(Bt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Ir(Xo)),{acknowledged:s}},this.request=async r=>{await this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:s,expiry:o=ln.wc_sessionRequest.req.ttl}=r,a=Gc(),{done:c,resolve:l,reject:d}=Pi(o,"Request expired. Please try again.");return this.events.once(Bt("session_request",a),({error:f,result:g})=>{f?d(f):l(g)}),await Promise.all([new Promise(async f=>{await this.sendRequest({clientRpcId:a,topic:s,method:"wc_sessionRequest",params:{request:Mi(hr({},i),{expiryTimestamp:Ir(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(g=>d(g)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),f()}),new Promise(async f=>{const g=await dw(this.client.core.storage,sp);uw({id:a,topic:s,wcDeepLink:g}),f()}),c()]).then(f=>f[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i;an(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0}):Fr(i)&&await this.sendError(s,n,i.error),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:s,resolve:o,reject:a}=Pi();this.events.once(Bt("session_ping",i),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s}})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Mt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=oe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Tw(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{const{topic:n,expirerHasDeleted:i=!1,emitEvent:s=!0,id:o=0}=r,{self:a}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Mt("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),i||this.client.core.expirer.del(n),this.client.core.storage.removeItem(sp).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===n&&this.deletePendingSessionRequest(c.id,Mt("USER_DISCONNECTED"))}),s&&this.client.events.emit("session_delete",{id:o,topic:n})},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Mt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=un.idle,this.client.events.emit("session_request_expire",{id:r}))},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,Ir(ln.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Ir(ln.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o}),a&&this.client.core.expirer.set(n,a)},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l}=r,d=Ni(i,s,c);if(Ri()&&u3.includes(i)){const y=Ti(JSON.stringify(d));this.client.core.verify.register({attestationId:y})}const f=await this.client.core.crypto.encode(n,d),g=ln[i].req;return o&&(g.ttl=o),a&&(g.id=a),this.client.core.history.set(n,d),l?(g.internal=Mi(hr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,f,g)):this.client.core.relayer.publish(n,f,g).catch(y=>this.client.logger.error(y)),d.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o}=r,a=Yc(n,s),c=await this.client.core.crypto.encode(i,a),l=await this.client.core.history.get(i,n),d=ln[l.request.method].res;o?(d.internal=Mi(hr({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,c,d)):this.client.core.relayer.publish(i,c,d).catch(f=>this.client.logger.error(f)),await this.client.core.history.resolve(a)},this.sendError=async(r,n,i)=>{const s=Qc(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=ln[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Sn(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Sn(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===un.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=un.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=un.idle},this.processRequest=r=>{const{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=oe("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(hr({},n.params));const o=i.expiryTimestamp||Ir(ln.wc_sessionPropose.req.ttl),a=hr({id:s,pairingTopic:r,expiryTimestamp:o},i);await this.setProposal(s,a);const c=Ti(JSON.stringify(n)),l=await this.getVerifyContext(c,a.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:a,verifyContext:l})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(an(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const l=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});const d=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else Fr(n)&&(await this.client.proposal.delete(i,Mt("USER_DISCONNECTED")),this.events.emit(Bt("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:d,pairingTopic:f}=n.params,g=hr({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f,requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d});await this.sendResult({id:n.id,topic:r,result:!0}),this.events.emit(Bt("session_connect"),{session:g}),this.cleanupDuplicatePairings(g)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;an(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Bt("session_approve",i),{})):Fr(n)&&(await this.client.session.delete(r,Mt("USER_DISCONNECTED")),this.events.emit(Bt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Zo.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidUpdate(hr({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_update",{id:s,topic:r,params:i}),Zo.set(o,s)}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;an(n)?this.events.emit(Bt("session_update",i),{}):Fr(n)&&this.events.emit(Bt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Ir(Xo)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;an(n)?this.events.emit(Bt("session_extend",i),{}):Fr(n)&&this.events.emit(Bt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;setTimeout(()=>{an(n)?this.events.emit(Bt("session_ping",i),{}):Fr(n)&&this.events.emit(Bt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(nr.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Mt("USER_DISCONNECTED")})])}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(hr({topic:r},s));const o=Ti(JSON.stringify(Ni("wc_sessionRequest",s,i))),a=this.client.session.get(r),c=await this.getVerifyContext(o,a.peer.metadata),l={id:i,topic:r,params:s,verifyContext:c};await this.setPendingSessionRequest(l),this.addSessionRequestToSessionRequestQueue(l),this.processSessionRequestQueue()}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;an(n)?this.events.emit(Bt("session_request",i),{result:n.result}):Fr(n)&&this.events.emit(Bt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Zo.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(hr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Zo.set(o,i)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=un.idle,this.processSessionRequestQueue()},ye.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(Bt("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===un.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=un.active,this.client.events.emit("session_request",r)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=r=>{if(r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest(r.topic,Ni("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id))},this.isValidConnect=async r=>{if(!Er(r)){const{message:c}=oe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(dr(n)||await this.isValidPairingTopic(n),!Bw(a,!0)){const{message:c}=oe("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!dr(i)&&Ho(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!dr(s)&&Ho(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),dr(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=jw(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Er(r))throw new Error(oe("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=Hc(i,"approve()");if(c)throw new Error(c.message);const l=lf(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!Yt(s,!0)){const{message:d}=oe("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}dr(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Er(r)){const{message:s}=oe("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!zw(i)){const{message:s}=oe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Er(r)){const{message:l}=oe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!af(n)){const{message:l}=oe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Nw(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Hc(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Sn(o)){const{message:l}=oe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!Er(r)){const{message:c}=oe("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Hc(i,"update()");if(o)throw new Error(o.message);const a=lf(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Er(r)){const{message:i}=oe("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Er(r)){const{message:c}=oe("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!cf(a,s)){const{message:c}=oe("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Ww(i)){const{message:c}=oe("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Kw(a,s,i.method)){const{message:c}=oe("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Qw(o,cl)){const{message:c}=oe("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${cl.min} and ${cl.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!Er(r)){const{message:o}=oe("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!Vw(s)){const{message:o}=oe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!Er(r)){const{message:i}=oe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Er(r)){const{message:a}=oe("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!cf(o,s)){const{message:a}=oe("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Hw(i)){const{message:a}=oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Zw(o,s,i.name)){const{message:a}=oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Er(r)){const{message:i}=oe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const i={verified:{verifyUrl:n.verifyUrl||Li,validation:"UNKNOWN",origin:n.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s.origin,i.verified.isScam=s.isScam,i.verified.validation=s.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.info(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!Yt(i,!1)){const{message:s}=oe("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}async isInitialized(){if(!this.initialized){const{message:e}=oe("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(nr.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(r,n);try{Jc(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Go(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.client.core.history.delete(r,i.id)):this.onRelayEventUnknownPayload({topic:r,payload:i})}catch(s){this.client.logger.error(s)}})}registerExpirerEvents(){this.client.core.expirer.on($r.expired,async e=>{const{topic:r,id:n}=ef(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,oe("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on($s.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!Yt(e,!1)){const{message:r}=oe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Sn(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=oe("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Yt(e,!1)){const{message:r}=oe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=oe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Sn(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=oe("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=oe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Yt(e,!1)){const{message:r}=oe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=oe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!qw(e)){const{message:r}=oe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=oe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Sn(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=oe("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class y3 extends Jo{constructor(e,r){super(e,r,s3,ol),this.core=e,this.logger=r}}class v3 extends Jo{constructor(e,r){super(e,r,a3,ol),this.core=e,this.logger=r}}class w3 extends Jo{constructor(e,r){super(e,r,l3,ol,n=>n.id),this.core=e,this.logger=r}}let b3=class _g extends nh{constructor(e){super(e),this.protocol=rp,this.version=np,this.name=al.name,this.events=new Pr.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||al.name,this.metadata=(e==null?void 0:e.metadata)||nw();const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:tt.pino(tt.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||al.logger}));this.core=(e==null?void 0:e.core)||new i3(e),this.logger=tt.generateChildLogger(r,this.name),this.session=new v3(this.core,this.logger),this.proposal=new y3(this.core,this.logger),this.pendingRequest=new w3(this.core,this.logger),this.engine=new m3(this)}static async init(e){const r=new _g(e);return await r.initialize(),r}get context(){return tt.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var _3=Object.defineProperty,E3=Object.defineProperties,S3=Object.getOwnPropertyDescriptors,cp=Object.getOwnPropertySymbols,x3=Object.prototype.hasOwnProperty,C3=Object.prototype.propertyIsEnumerable,lp=(t,e,r)=>e in t?_3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O3=(t,e)=>{for(var r in e||(e={}))x3.call(e,r)&&lp(t,r,e[r]);if(cp)for(var r of cp(e))C3.call(e,r)&&lp(t,r,e[r]);return t},D3=(t,e)=>E3(t,S3(e)),ll=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},St=(t,e,r)=>(ll(t,e,"read from private field"),r?r.call(t):e.get(t)),Xn=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ea=(t,e,r,n)=>(ll(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ir=(t,e,r)=>(ll(t,e,"access private method"),r),ei,ki,Ls,Qt,ul,up,sr,fr,dl,dp;let I3=class{constructor(e){Xn(this,ul),Xn(this,sr),Xn(this,dl),Xn(this,ei,void 0),Xn(this,ki,void 0),Xn(this,Ls,void 0),Xn(this,Qt,void 0),ea(this,ei,e),ea(this,ki,ir(this,ul,up).call(this)),ir(this,sr,fr).call(this)}async connect(e){const{requiredNamespaces:r,optionalNamespaces:n}=e;return new Promise(async(i,s)=>{await ir(this,sr,fr).call(this);const o=St(this,ki).subscribeModal(l=>{l.open||(o(),s(new Error("Modal closed")))}),{uri:a,approval:c}=await St(this,Qt).connect(e);if(a){const l=new Set;r&&Object.values(r).forEach(({chains:d})=>{d&&d.forEach(f=>l.add(f))}),n&&Object.values(n).forEach(({chains:d})=>{d&&d.forEach(f=>l.add(f))}),await St(this,ki).openModal({uri:a,chains:Array.from(l)})}try{const l=await c();i(l)}catch(l){s(l)}finally{o(),St(this,ki).closeModal()}})}async disconnect(e){await ir(this,sr,fr).call(this),await St(this,Qt).disconnect(e)}async request(e){return await ir(this,sr,fr).call(this),await St(this,Qt).request(e)}async getSessions(){return await ir(this,sr,fr).call(this),St(this,Qt).session.getAll()}async getSession(){return await ir(this,sr,fr).call(this),St(this,Qt).session.getAll().at(-1)}async onSessionEvent(e){await ir(this,sr,fr).call(this),St(this,Qt).on("session_event",e)}async offSessionEvent(e){await ir(this,sr,fr).call(this),St(this,Qt).off("session_event",e)}async onSessionUpdate(e){await ir(this,sr,fr).call(this),St(this,Qt).on("session_update",e)}async offSessionUpdate(e){await ir(this,sr,fr).call(this),St(this,Qt).off("session_update",e)}async onSessionDelete(e){await ir(this,sr,fr).call(this),St(this,Qt).on("session_delete",e)}async offSessionDelete(e){await ir(this,sr,fr).call(this),St(this,Qt).off("session_delete",e)}async onSessionExpire(e){await ir(this,sr,fr).call(this),St(this,Qt).on("session_expire",e)}async offSessionExpire(e){await ir(this,sr,fr).call(this),St(this,Qt).off("session_expire",e)}};ei=new WeakMap,ki=new WeakMap,Ls=new WeakMap,Qt=new WeakMap,ul=new WeakSet,up=function(){const{modalOptions:t,projectId:e}=St(this,ei);return new Bg(D3(O3({},t),{projectId:e}))},sr=new WeakSet,fr=async function(){return St(this,Qt)?!0:(!St(this,Ls)&&typeof window<"u"&&ea(this,Ls,ir(this,dl,dp).call(this)),St(this,Ls))},dl=new WeakSet,dp=async function(){ea(this,Qt,await b3.init({metadata:St(this,ei).metadata,projectId:St(this,ei).projectId,relayUrl:St(this,ei).relayUrl}));const t=await St(this,Qt).core.crypto.getClientId();try{localStorage.setItem("WCM_WALLETCONNECT_CLIENT_ID",t)}catch{console.info("Unable to set client id")}};const hl=["decrypt","disconnect","getSelectedAccount","getBalance","getRecords","requestCreateEvent","getEvent","getEvents","createSharedState","importSharedState","requestSignature"],ta=["aleo:1"],fl=["chainChanged","accountSelected","selectedAccountSynced","sharedAccountSynced"],hp="f0aaeffe71b636da453fce042d79d723",fp={standaloneChains:ta,enableExplorer:!1,enableAccountView:!0,enableNetworkView:!0,enableStandaloneMode:!0,mobileWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"puzzleapp://",universal:""}}],desktopWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"",universal:"https://walletconnect.puzzle.online/"}},{id:"avail",name:"Avail Wallet",links:{native:"avail://",universal:"https://avail.global"}}],walletImages:{puzzle:"https://i.imgur.com/p9tHaFC.png",avail:"https://i.imgur.com/GxNn8BO.png"}},T3={requiredNamespaces:{aleo:{methods:hl,chains:ta,events:fl}}},pl=new To;let Ms;function A3(t){Ms=new I3({projectId:hp,metadata:{name:t.dAppName,description:t.dAppDescription,url:t.dAppUrl,icons:[t.dAppIconURL]},modalOptions:{...fp}}),window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE")}async function Tr(){return new Promise(t=>{if(Ms)t(Ms);else{const e=setInterval(()=>{Ms&&(clearInterval(e),t(Ms))},200)}window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE")})}var R3={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const pp=t=>{let e;const r=new Set,n=(c,l)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=l??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(g=>g(e,f))}},i=()=>e,a={setState:n,getState:i,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(R3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(n,i,a),a},P3=t=>t?pp(t):pp;var gl={exports:{}},ks={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ks.exports;var gp;function $3(){return gp||(gp=1,function(t,e){process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r="18.2.0",n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator,I="@@iterator";function _(p){if(p===null||typeof p!="object")return null;var A=C&&p[C]||p[I];return typeof A=="function"?A:null}var x={current:null},w={transition:null},S={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},m={current:null},u={},v=null;function L(p){v=p}u.setExtraStackFrame=function(p){v=p},u.getCurrentStack=null,u.getStackAddendum=function(){var p="";v&&(p+=v);var A=u.getCurrentStack;return A&&(p+=A()||""),p};var P=!1,q=!1,Z=!1,Q=!1,$=!1,U={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:w,ReactCurrentOwner:m};U.ReactDebugCurrentFrame=u,U.ReactCurrentActQueue=S;function X(p){{for(var A=arguments.length,B=new Array(A>1?A-1:0),W=1;W<A;W++)B[W-1]=arguments[W];H("warn",p,B)}}function z(p){{for(var A=arguments.length,B=new Array(A>1?A-1:0),W=1;W<A;W++)B[W-1]=arguments[W];H("error",p,B)}}function H(p,A,B){{var W=U.ReactDebugCurrentFrame,J=W.getStackAddendum();J!==""&&(A+="%s",B=B.concat([J]));var me=B.map(function(de){return String(de)});me.unshift("Warning: "+A),Function.prototype.apply.call(console[p],console,me)}}var Y={};function D(p,A){{var B=p.constructor,W=B&&(B.displayName||B.name)||"ReactClass",J=W+"."+A;if(Y[J])return;z("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",A,W),Y[J]=!0}}var j={isMounted:function(p){return!1},enqueueForceUpdate:function(p,A,B){D(p,"forceUpdate")},enqueueReplaceState:function(p,A,B,W){D(p,"replaceState")},enqueueSetState:function(p,A,B,W){D(p,"setState")}},te=Object.assign,V={};Object.freeze(V);function se(p,A,B){this.props=p,this.context=A,this.refs=V,this.updater=B||j}se.prototype.isReactComponent={},se.prototype.setState=function(p,A){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,A,"setState")},se.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};{var ee={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},ue=function(p,A){Object.defineProperty(se.prototype,p,{get:function(){X("%s(...) is deprecated in plain JavaScript React classes. %s",A[0],A[1])}})};for(var k in ee)ee.hasOwnProperty(k)&&ue(k,ee[k])}function M(){}M.prototype=se.prototype;function N(p,A,B){this.props=p,this.context=A,this.refs=V,this.updater=B||j}var h=N.prototype=new M;h.constructor=N,te(h,se.prototype),h.isPureReactComponent=!0;function R(){var p={current:null};return Object.seal(p),p}var ne=Array.isArray;function le(p){return ne(p)}function Be(p){{var A=typeof Symbol=="function"&&Symbol.toStringTag,B=A&&p[Symbol.toStringTag]||p.constructor.name||"Object";return B}}function qe(p){try{return Te(p),!1}catch{return!0}}function Te(p){return""+p}function Ke(p){if(qe(p))return z("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Be(p)),Te(p)}function wt(p,A,B){var W=p.displayName;if(W)return W;var J=A.displayName||A.name||"";return J!==""?B+"("+J+")":B}function ct(p){return p.displayName||"Context"}function Oe(p){if(p==null)return null;if(typeof p.tag=="number"&&z("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case s:return"Fragment";case i:return"Portal";case a:return"Profiler";case o:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case l:var A=p;return ct(A)+".Consumer";case c:var B=p;return ct(B._context)+".Provider";case d:return wt(p,p.render,"ForwardRef");case y:var W=p.displayName||null;return W!==null?W:Oe(p.type)||"Memo";case b:{var J=p,me=J._payload,de=J._init;try{return Oe(de(me))}catch{return null}}}return null}var Ae=Object.prototype.hasOwnProperty,Re={key:!0,ref:!0,__self:!0,__source:!0},Le,Pe,xe;xe={};function Ce(p){if(Ae.call(p,"ref")){var A=Object.getOwnPropertyDescriptor(p,"ref").get;if(A&&A.isReactWarning)return!1}return p.ref!==void 0}function _e(p){if(Ae.call(p,"key")){var A=Object.getOwnPropertyDescriptor(p,"key").get;if(A&&A.isReactWarning)return!1}return p.key!==void 0}function Ue(p,A){var B=function(){Le||(Le=!0,z("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",A))};B.isReactWarning=!0,Object.defineProperty(p,"key",{get:B,configurable:!0})}function ze(p,A){var B=function(){Pe||(Pe=!0,z("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",A))};B.isReactWarning=!0,Object.defineProperty(p,"ref",{get:B,configurable:!0})}function Se(p){if(typeof p.ref=="string"&&m.current&&p.__self&&m.current.stateNode!==p.__self){var A=Oe(m.current.type);xe[A]||(z('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',A,p.ref),xe[A]=!0)}}var je=function(p,A,B,W,J,me,de){var we={$$typeof:n,type:p,key:A,ref:B,props:de,_owner:me};return we._store={},Object.defineProperty(we._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(we,"_self",{configurable:!1,enumerable:!1,writable:!1,value:W}),Object.defineProperty(we,"_source",{configurable:!1,enumerable:!1,writable:!1,value:J}),Object.freeze&&(Object.freeze(we.props),Object.freeze(we)),we};function Je(p,A,B){var W,J={},me=null,de=null,we=null,Me=null;if(A!=null){Ce(A)&&(de=A.ref,Se(A)),_e(A)&&(Ke(A.key),me=""+A.key),we=A.__self===void 0?null:A.__self,Me=A.__source===void 0?null:A.__source;for(W in A)Ae.call(A,W)&&!Re.hasOwnProperty(W)&&(J[W]=A[W])}var ut=arguments.length-2;if(ut===1)J.children=B;else if(ut>1){for(var ft=Array(ut),pt=0;pt<ut;pt++)ft[pt]=arguments[pt+2];Object.freeze&&Object.freeze(ft),J.children=ft}if(p&&p.defaultProps){var Lt=p.defaultProps;for(W in Lt)J[W]===void 0&&(J[W]=Lt[W])}if(me||de){var Wt=typeof p=="function"?p.displayName||p.name||"Unknown":p;me&&Ue(J,Wt),de&&ze(J,Wt)}return je(p,me,de,we,Me,m.current,J)}function nt(p,A){var B=je(p.type,A,p.ref,p._self,p._source,p._owner,p.props);return B}function it(p,A,B){if(p==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+p+".");var W,J=te({},p.props),me=p.key,de=p.ref,we=p._self,Me=p._source,ut=p._owner;if(A!=null){Ce(A)&&(de=A.ref,ut=m.current),_e(A)&&(Ke(A.key),me=""+A.key);var ft;p.type&&p.type.defaultProps&&(ft=p.type.defaultProps);for(W in A)Ae.call(A,W)&&!Re.hasOwnProperty(W)&&(A[W]===void 0&&ft!==void 0?J[W]=ft[W]:J[W]=A[W])}var pt=arguments.length-2;if(pt===1)J.children=B;else if(pt>1){for(var Lt=Array(pt),Wt=0;Wt<pt;Wt++)Lt[Wt]=arguments[Wt+2];J.children=Lt}return je(p.type,me,de,we,Me,ut,J)}function We(p){return typeof p=="object"&&p!==null&&p.$$typeof===n}var ar=".",xr=":";function Lr(p){var A=/[=:]/g,B={"=":"=0",":":"=2"},W=p.replace(A,function(J){return B[J]});return"$"+W}var qt=!1,Mr=/\/+/g;function yr(p){return p.replace(Mr,"$&/")}function kr(p,A){return typeof p=="object"&&p!==null&&p.key!=null?(Ke(p.key),Lr(""+p.key)):A.toString(36)}function dt(p,A,B,W,J){var me=typeof p;(me==="undefined"||me==="boolean")&&(p=null);var de=!1;if(p===null)de=!0;else switch(me){case"string":case"number":de=!0;break;case"object":switch(p.$$typeof){case n:case i:de=!0}}if(de){var we=p,Me=J(we),ut=W===""?ar+kr(we,0):W;if(le(Me)){var ft="";ut!=null&&(ft=yr(ut)+"/"),dt(Me,A,ft,"",function(Kx){return Kx})}else Me!=null&&(We(Me)&&(Me.key&&(!we||we.key!==Me.key)&&Ke(Me.key),Me=nt(Me,B+(Me.key&&(!we||we.key!==Me.key)?yr(""+Me.key)+"/":"")+ut)),A.push(Me));return 1}var pt,Lt,Wt=0,er=W===""?ar:W+xr;if(le(p))for(var tc=0;tc<p.length;tc++)pt=p[tc],Lt=er+kr(pt,tc),Wt+=dt(pt,A,B,Lt,J);else{var Qu=_(p);if(typeof Qu=="function"){var yg=p;Qu===yg.entries&&(qt||X("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),qt=!0);for(var Vx=Qu.call(yg),vg,Hx=0;!(vg=Vx.next()).done;)pt=vg.value,Lt=er+kr(pt,Hx++),Wt+=dt(pt,A,B,Lt,J)}else if(me==="object"){var wg=String(p);throw new Error("Objects are not valid as a React child (found: "+(wg==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":wg)+"). If you meant to render a collection of children, use an array instead.")}}return Wt}function lt(p,A,B){if(p==null)return p;var W=[],J=0;return dt(p,W,"","",function(me){return A.call(B,me,J++)}),W}function xt(p){var A=0;return lt(p,function(){A++}),A}function _t(p,A,B){lt(p,function(){A.apply(this,arguments)},B)}function Ct(p){return lt(p,function(A){return A})||[]}function yt(p){if(!We(p))throw new Error("React.Children.only expected to receive a single React element child.");return p}function $t(p){var A={$$typeof:l,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};A.Provider={$$typeof:c,_context:A};var B=!1,W=!1,J=!1;{var me={$$typeof:l,_context:A};Object.defineProperties(me,{Provider:{get:function(){return W||(W=!0,z("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),A.Provider},set:function(de){A.Provider=de}},_currentValue:{get:function(){return A._currentValue},set:function(de){A._currentValue=de}},_currentValue2:{get:function(){return A._currentValue2},set:function(de){A._currentValue2=de}},_threadCount:{get:function(){return A._threadCount},set:function(de){A._threadCount=de}},Consumer:{get:function(){return B||(B=!0,z("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),A.Consumer}},displayName:{get:function(){return A.displayName},set:function(de){J||(X("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",de),J=!0)}}}),A.Consumer=me}return A._currentRenderer=null,A._currentRenderer2=null,A}var bt=-1,Ot=0,Dt=1,Ft=2;function Nt(p){if(p._status===bt){var A=p._result,B=A();if(B.then(function(me){if(p._status===Ot||p._status===bt){var de=p;de._status=Dt,de._result=me}},function(me){if(p._status===Ot||p._status===bt){var de=p;de._status=Ft,de._result=me}}),p._status===bt){var W=p;W._status=Ot,W._result=B}}if(p._status===Dt){var J=p._result;return J===void 0&&z(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,J),"default"in J||z(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,J),J.default}else throw p._result}function It(p){var A={_status:bt,_result:p},B={$$typeof:b,_payload:A,_init:Nt};{var W,J;Object.defineProperties(B,{defaultProps:{configurable:!0,get:function(){return W},set:function(me){z("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),W=me,Object.defineProperty(B,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return J},set:function(me){z("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),J=me,Object.defineProperty(B,"propTypes",{enumerable:!0})}}})}return B}function mt(p){p!=null&&p.$$typeof===y?z("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof p!="function"?z("forwardRef requires a render function but was given %s.",p===null?"null":typeof p):p.length!==0&&p.length!==2&&z("forwardRef render functions accept exactly two parameters: props and ref. %s",p.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),p!=null&&(p.defaultProps!=null||p.propTypes!=null)&&z("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var A={$$typeof:d,render:p};{var B;Object.defineProperty(A,"displayName",{enumerable:!1,configurable:!0,get:function(){return B},set:function(W){B=W,!p.name&&!p.displayName&&(p.displayName=W)}})}return A}var T;T=Symbol.for("react.module.reference");function K(p){return!!(typeof p=="string"||typeof p=="function"||p===s||p===a||$||p===o||p===f||p===g||Q||p===E||P||q||Z||typeof p=="object"&&p!==null&&(p.$$typeof===b||p.$$typeof===y||p.$$typeof===c||p.$$typeof===l||p.$$typeof===d||p.$$typeof===T||p.getModuleId!==void 0))}function ce(p,A){K(p)||z("memo: The first argument must be a component. Instead received: %s",p===null?"null":typeof p);var B={$$typeof:y,type:p,compare:A===void 0?null:A};{var W;Object.defineProperty(B,"displayName",{enumerable:!1,configurable:!0,get:function(){return W},set:function(J){W=J,!p.name&&!p.displayName&&(p.displayName=J)}})}return B}function ge(){var p=x.current;return p===null&&z(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),p}function et(p){var A=ge();if(p._context!==void 0){var B=p._context;B.Consumer===p?z("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):B.Provider===p&&z("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return A.useContext(p)}function Ze(p){var A=ge();return A.useState(p)}function Ye(p,A,B){var W=ge();return W.useReducer(p,A,B)}function Ve(p){var A=ge();return A.useRef(p)}function Ht(p,A){var B=ge();return B.useEffect(p,A)}function Et(p,A){var B=ge();return B.useInsertionEffect(p,A)}function Tt(p,A){var B=ge();return B.useLayoutEffect(p,A)}function Ut(p,A){var B=ge();return B.useCallback(p,A)}function nn(p,A){var B=ge();return B.useMemo(p,A)}function os(p,A,B){var W=ge();return W.useImperativeHandle(p,A,B)}function Rr(p,A){{var B=ge();return B.useDebugValue(p,A)}}function Uu(){var p=ge();return p.useTransition()}function ju(p){var A=ge();return A.useDeferredValue(p)}function as(){var p=ge();return p.useId()}function Bu(p,A,B){var W=ge();return W.useSyncExternalStore(p,A,B)}var gi=0,Hr,Ba,qa,za,Wa,Va,Ha;function mi(){}mi.__reactDisabledLog=!0;function qu(){{if(gi===0){Hr=console.log,Ba=console.info,qa=console.warn,za=console.error,Wa=console.group,Va=console.groupCollapsed,Ha=console.groupEnd;var p={configurable:!0,enumerable:!0,value:mi,writable:!0};Object.defineProperties(console,{info:p,log:p,warn:p,error:p,group:p,groupCollapsed:p,groupEnd:p})}gi++}}function yi(){{if(gi--,gi===0){var p={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:te({},p,{value:Hr}),info:te({},p,{value:Ba}),warn:te({},p,{value:qa}),error:te({},p,{value:za}),group:te({},p,{value:Wa}),groupCollapsed:te({},p,{value:Va}),groupEnd:te({},p,{value:Ha})})}gi<0&&z("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var cs=U.ReactCurrentDispatcher,ls;function us(p,A,B){{if(ls===void 0)try{throw Error()}catch(J){var W=J.stack.trim().match(/\n( *(at )?)/);ls=W&&W[1]||""}return`
`+ls+p}}var vo=!1,ds;{var zu=typeof WeakMap=="function"?WeakMap:Map;ds=new zu}function wo(p,A){if(!p||vo)return"";{var B=ds.get(p);if(B!==void 0)return B}var W;vo=!0;var J=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var me;me=cs.current,cs.current=null,qu();try{if(A){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(er){W=er}Reflect.construct(p,[],de)}else{try{de.call()}catch(er){W=er}p.call(de.prototype)}}else{try{throw Error()}catch(er){W=er}p()}}catch(er){if(er&&W&&typeof er.stack=="string"){for(var we=er.stack.split(`
`),Me=W.stack.split(`
`),ut=we.length-1,ft=Me.length-1;ut>=1&&ft>=0&&we[ut]!==Me[ft];)ft--;for(;ut>=1&&ft>=0;ut--,ft--)if(we[ut]!==Me[ft]){if(ut!==1||ft!==1)do if(ut--,ft--,ft<0||we[ut]!==Me[ft]){var pt=`
`+we[ut].replace(" at new "," at ");return p.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",p.displayName)),typeof p=="function"&&ds.set(p,pt),pt}while(ut>=1&&ft>=0);break}}}finally{vo=!1,cs.current=me,yi(),Error.prepareStackTrace=J}var Lt=p?p.displayName||p.name:"",Wt=Lt?us(Lt):"";return typeof p=="function"&&ds.set(p,Wt),Wt}function Wu(p,A,B){return wo(p,!1)}function Vu(p){var A=p.prototype;return!!(A&&A.isReactComponent)}function vi(p,A,B){if(p==null)return"";if(typeof p=="function")return wo(p,Vu(p));if(typeof p=="string")return us(p);switch(p){case f:return us("Suspense");case g:return us("SuspenseList")}if(typeof p=="object")switch(p.$$typeof){case d:return Wu(p.render);case y:return vi(p.type,A,B);case b:{var W=p,J=W._payload,me=W._init;try{return vi(me(J),A,B)}catch{}}}return""}var wi={},mn=U.ReactDebugCurrentFrame;function hs(p){if(p){var A=p._owner,B=vi(p.type,p._source,A?A.type:null);mn.setExtraStackFrame(B)}else mn.setExtraStackFrame(null)}function Hu(p,A,B,W,J){{var me=Function.call.bind(Ae);for(var de in p)if(me(p,de)){var we=void 0;try{if(typeof p[de]!="function"){var Me=Error((W||"React class")+": "+B+" type `"+de+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[de]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Me.name="Invariant Violation",Me}we=p[de](A,de,W,B,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ut){we=ut}we&&!(we instanceof Error)&&(hs(J),z("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",W||"React class",B,de,typeof we),hs(null)),we instanceof Error&&!(we.message in wi)&&(wi[we.message]=!0,hs(J),z("Failed %s type: %s",B,we.message),hs(null))}}}function vr(p){if(p){var A=p._owner,B=vi(p.type,p._source,A?A.type:null);L(B)}else L(null)}var bo;bo=!1;function Ka(){if(m.current){var p=Oe(m.current.type);if(p)return`

Check the render method of \``+p+"`."}return""}function Ku(p){if(p!==void 0){var A=p.fileName.replace(/^.*[\\\/]/,""),B=p.lineNumber;return`

Check your code at `+A+":"+B+"."}return""}function Zu(p){return p!=null?Ku(p.__source):""}var Za={};function yn(p){var A=Ka();if(!A){var B=typeof p=="string"?p:p.displayName||p.name;B&&(A=`

Check the top-level render call using <`+B+">.")}return A}function _o(p,A){if(!(!p._store||p._store.validated||p.key!=null)){p._store.validated=!0;var B=yn(A);if(!Za[B]){Za[B]=!0;var W="";p&&p._owner&&p._owner!==m.current&&(W=" It was passed a child from "+Oe(p._owner.type)+"."),vr(p),z('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',B,W),vr(null)}}}function Ga(p,A){if(typeof p=="object"){if(le(p))for(var B=0;B<p.length;B++){var W=p[B];We(W)&&_o(W,A)}else if(We(p))p._store&&(p._store.validated=!0);else if(p){var J=_(p);if(typeof J=="function"&&J!==p.entries)for(var me=J.call(p),de;!(de=me.next()).done;)We(de.value)&&_o(de.value,A)}}}function bi(p){{var A=p.type;if(A==null||typeof A=="string")return;var B;if(typeof A=="function")B=A.propTypes;else if(typeof A=="object"&&(A.$$typeof===d||A.$$typeof===y))B=A.propTypes;else return;if(B){var W=Oe(A);Hu(B,p.props,"prop",W,p)}else if(A.PropTypes!==void 0&&!bo){bo=!0;var J=Oe(A);z("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",J||"Unknown")}typeof A.getDefaultProps=="function"&&!A.getDefaultProps.isReactClassApproved&&z("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Gu(p){{for(var A=Object.keys(p.props),B=0;B<A.length;B++){var W=A[B];if(W!=="children"&&W!=="key"){vr(p),z("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",W),vr(null);break}}p.ref!==null&&(vr(p),z("Invalid attribute `ref` supplied to `React.Fragment`."),vr(null))}}function fs(p,A,B){var W=K(p);if(!W){var J="";(p===void 0||typeof p=="object"&&p!==null&&Object.keys(p).length===0)&&(J+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var me=Zu(A);me?J+=me:J+=Ka();var de;p===null?de="null":le(p)?de="array":p!==void 0&&p.$$typeof===n?(de="<"+(Oe(p.type)||"Unknown")+" />",J=" Did you accidentally export a JSX literal instead of a component?"):de=typeof p,z("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",de,J)}var we=Je.apply(this,arguments);if(we==null)return we;if(W)for(var Me=2;Me<arguments.length;Me++)Ga(arguments[Me],p);return p===s?Gu(we):bi(we),we}var Ya=!1;function Qa(p){var A=fs.bind(null,p);return A.type=p,Ya||(Ya=!0,X("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(A,"type",{enumerable:!1,get:function(){return X("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:p}),p}}),A}function Ja(p,A,B){for(var W=it.apply(this,arguments),J=2;J<arguments.length;J++)Ga(arguments[J],W.type);return bi(W),W}function Xa(p,A){var B=w.transition;w.transition={};var W=w.transition;w.transition._updatedFibers=new Set;try{p()}finally{if(w.transition=B,B===null&&W._updatedFibers){var J=W._updatedFibers.size;J>10&&X("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),W._updatedFibers.clear()}}}var Fn=!1,_i=null;function Yu(p){if(_i===null)try{var A=("require"+Math.random()).slice(0,7),B=t&&t[A];_i=B.call(t,"timers").setImmediate}catch{_i=function(J){Fn===!1&&(Fn=!0,typeof MessageChannel>"u"&&z("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var me=new MessageChannel;me.port1.onmessage=J,me.port2.postMessage(void 0)}}return _i(p)}var Un=0,ec=!1;function O(p){{var A=Un;Un++,S.current===null&&(S.current=[]);var B=S.isBatchingLegacy,W;try{if(S.isBatchingLegacy=!0,W=p(),!B&&S.didScheduleLegacyUpdate){var J=S.current;J!==null&&(S.didScheduleLegacyUpdate=!1,ht(J))}}catch(Lt){throw F(A),Lt}finally{S.isBatchingLegacy=B}if(W!==null&&typeof W=="object"&&typeof W.then=="function"){var me=W,de=!1,we={then:function(Lt,Wt){de=!0,me.then(function(er){F(A),Un===0?G(er,Lt,Wt):Lt(er)},function(er){F(A),Wt(er)})}};return!ec&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){de||(ec=!0,z("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),we}else{var Me=W;if(F(A),Un===0){var ut=S.current;ut!==null&&(ht(ut),S.current=null);var ft={then:function(Lt,Wt){S.current===null?(S.current=[],G(Me,Lt,Wt)):Lt(Me)}};return ft}else{var pt={then:function(Lt,Wt){Lt(Me)}};return pt}}}}function F(p){p!==Un-1&&z("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Un=p}function G(p,A,B){{var W=S.current;if(W!==null)try{ht(W),Yu(function(){W.length===0?(S.current=null,A(p)):G(p,A,B)})}catch(J){B(J)}else A(p)}}var he=!1;function ht(p){if(!he){he=!0;var A=0;try{for(;A<p.length;A++){var B=p[A];do B=B(!0);while(B!==null)}p.length=0}catch(W){throw p=p.slice(A+1),W}finally{he=!1}}}var $e=fs,At=Ja,zt=Qa,Kt={map:lt,forEach:_t,count:xt,toArray:Ct,only:yt};e.Children=Kt,e.Component=se,e.Fragment=s,e.Profiler=a,e.PureComponent=N,e.StrictMode=o,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,e.cloneElement=At,e.createContext=$t,e.createElement=$e,e.createFactory=zt,e.createRef=R,e.forwardRef=mt,e.isValidElement=We,e.lazy=It,e.memo=ce,e.startTransition=Xa,e.unstable_act=O,e.useCallback=Ut,e.useContext=et,e.useDebugValue=Rr,e.useDeferredValue=ju,e.useEffect=Ht,e.useId=as,e.useImperativeHandle=os,e.useInsertionEffect=Et,e.useLayoutEffect=Tt,e.useMemo=nn,e.useReducer=Ye,e.useRef=Ve,e.useState=Ze,e.useSyncExternalStore=Bu,e.useTransition=Uu,e.version=r,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}(ks,ks.exports)),ks.exports}var Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function N3(){if(mp)return Qe;mp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=f&&D[f]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function C(D,j,te){this.props=D,this.context=j,this.refs=E,this.updater=te||y}C.prototype.isReactComponent={},C.prototype.setState=function(D,j){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,j,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function I(){}I.prototype=C.prototype;function _(D,j,te){this.props=D,this.context=j,this.refs=E,this.updater=te||y}var x=_.prototype=new I;x.constructor=_,b(x,C.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,m={current:null},u={key:!0,ref:!0,__self:!0,__source:!0};function v(D,j,te){var V,se={},ee=null,ue=null;if(j!=null)for(V in j.ref!==void 0&&(ue=j.ref),j.key!==void 0&&(ee=""+j.key),j)S.call(j,V)&&!u.hasOwnProperty(V)&&(se[V]=j[V]);var k=arguments.length-2;if(k===1)se.children=te;else if(1<k){for(var M=Array(k),N=0;N<k;N++)M[N]=arguments[N+2];se.children=M}if(D&&D.defaultProps)for(V in k=D.defaultProps,k)se[V]===void 0&&(se[V]=k[V]);return{$$typeof:t,type:D,key:ee,ref:ue,props:se,_owner:m.current}}function L(D,j){return{$$typeof:t,type:D.type,key:j,ref:D.ref,props:D.props,_owner:D._owner}}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function q(D){var j={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return j[te]})}var Z=/\/+/g;function Q(D,j){return typeof D=="object"&&D!==null&&D.key!=null?q(""+D.key):j.toString(36)}function $(D,j,te,V,se){var ee=typeof D;(ee==="undefined"||ee==="boolean")&&(D=null);var ue=!1;if(D===null)ue=!0;else switch(ee){case"string":case"number":ue=!0;break;case"object":switch(D.$$typeof){case t:case e:ue=!0}}if(ue)return ue=D,se=se(ue),D=V===""?"."+Q(ue,0):V,w(se)?(te="",D!=null&&(te=D.replace(Z,"$&/")+"/"),$(se,j,te,"",function(N){return N})):se!=null&&(P(se)&&(se=L(se,te+(!se.key||ue&&ue.key===se.key?"":(""+se.key).replace(Z,"$&/")+"/")+D)),j.push(se)),1;if(ue=0,V=V===""?".":V+":",w(D))for(var k=0;k<D.length;k++){ee=D[k];var M=V+Q(ee,k);ue+=$(ee,j,te,M,se)}else if(M=g(D),typeof M=="function")for(D=M.call(D),k=0;!(ee=D.next()).done;)ee=ee.value,M=V+Q(ee,k++),ue+=$(ee,j,te,M,se);else if(ee==="object")throw j=String(D),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ue}function U(D,j,te){if(D==null)return D;var V=[],se=0;return $(D,V,"","",function(ee){return j.call(te,ee,se++)}),V}function X(D){if(D._status===-1){var j=D._result;j=j(),j.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=j)}if(D._status===1)return D._result.default;throw D._result}var z={current:null},H={transition:null},Y={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:H,ReactCurrentOwner:m};return Qe.Children={map:U,forEach:function(D,j,te){U(D,function(){j.apply(this,arguments)},te)},count:function(D){var j=0;return U(D,function(){j++}),j},toArray:function(D){return U(D,function(j){return j})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Qe.Component=C,Qe.Fragment=r,Qe.Profiler=i,Qe.PureComponent=_,Qe.StrictMode=n,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Qe.cloneElement=function(D,j,te){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var V=b({},D.props),se=D.key,ee=D.ref,ue=D._owner;if(j!=null){if(j.ref!==void 0&&(ee=j.ref,ue=m.current),j.key!==void 0&&(se=""+j.key),D.type&&D.type.defaultProps)var k=D.type.defaultProps;for(M in j)S.call(j,M)&&!u.hasOwnProperty(M)&&(V[M]=j[M]===void 0&&k!==void 0?k[M]:j[M])}var M=arguments.length-2;if(M===1)V.children=te;else if(1<M){k=Array(M);for(var N=0;N<M;N++)k[N]=arguments[N+2];V.children=k}return{$$typeof:t,type:D.type,key:se,ref:ee,props:V,_owner:ue}},Qe.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:s,_context:D},D.Consumer=D},Qe.createElement=v,Qe.createFactory=function(D){var j=v.bind(null,D);return j.type=D,j},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(D){return{$$typeof:a,render:D}},Qe.isValidElement=P,Qe.lazy=function(D){return{$$typeof:d,_payload:{_status:-1,_result:D},_init:X}},Qe.memo=function(D,j){return{$$typeof:l,type:D,compare:j===void 0?null:j}},Qe.startTransition=function(D){var j=H.transition;H.transition={};try{D()}finally{H.transition=j}},Qe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Qe.useCallback=function(D,j){return z.current.useCallback(D,j)},Qe.useContext=function(D){return z.current.useContext(D)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(D){return z.current.useDeferredValue(D)},Qe.useEffect=function(D,j){return z.current.useEffect(D,j)},Qe.useId=function(){return z.current.useId()},Qe.useImperativeHandle=function(D,j,te){return z.current.useImperativeHandle(D,j,te)},Qe.useInsertionEffect=function(D,j){return z.current.useInsertionEffect(D,j)},Qe.useLayoutEffect=function(D,j){return z.current.useLayoutEffect(D,j)},Qe.useMemo=function(D,j){return z.current.useMemo(D,j)},Qe.useReducer=function(D,j,te){return z.current.useReducer(D,j,te)},Qe.useRef=function(D){return z.current.useRef(D)},Qe.useState=function(D){return z.current.useState(D)},Qe.useSyncExternalStore=function(D,j,te){return z.current.useSyncExternalStore(D,j,te)},Qe.useTransition=function(){return z.current.useTransition()},Qe.version="18.2.0",Qe}process.env.NODE_ENV==="production"?gl.exports=N3():gl.exports=$3();var ti=gl.exports;const L3=Si(ti);var ml={exports:{}},yl={},ra={exports:{}},vl={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function M3(){return yp||(yp=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=ti,e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(x){{for(var w=arguments.length,S=new Array(w>1?w-1:0),m=1;m<w;m++)S[m-1]=arguments[m];n("error",x,S)}}function n(x,w,S){{var m=e.ReactDebugCurrentFrame,u=m.getStackAddendum();u!==""&&(w+="%s",S=S.concat([u]));var v=S.map(function(L){return String(L)});v.unshift("Warning: "+w),Function.prototype.apply.call(console[x],console,v)}}function i(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var s=typeof Object.is=="function"?Object.is:i,o=t.useState,a=t.useEffect,c=t.useLayoutEffect,l=t.useDebugValue,d=!1,f=!1;function g(x,w,S){d||t.startTransition!==void 0&&(d=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var m=w();if(!f){var u=w();s(m,u)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}var v=o({inst:{value:m,getSnapshot:w}}),L=v[0].inst,P=v[1];return c(function(){L.value=m,L.getSnapshot=w,y(L)&&P({inst:L})},[x,m,w]),a(function(){y(L)&&P({inst:L});var q=function(){y(L)&&P({inst:L})};return x(q)},[x]),l(m),m}function y(x){var w=x.getSnapshot,S=x.value;try{var m=w();return!s(S,m)}catch{return!0}}function b(x,w,S){return w()}var E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C=!E,I=C?b:g,_=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:I;vl.useSyncExternalStore=_,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),vl}var wl={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function k3(){if(vp)return wl;vp=1;var t=ti;function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,g){var y=g(),b=n({inst:{value:y,getSnapshot:g}}),E=b[0].inst,C=b[1];return s(function(){E.value=y,E.getSnapshot=g,c(E)&&C({inst:E})},[f,y,g]),i(function(){return c(E)&&C({inst:E}),f(function(){c(E)&&C({inst:E})})},[f]),o(y),y}function c(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!r(f,y)}catch{return!0}}function l(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return wl.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,wl}var wp;function bp(){return wp||(wp=1,process.env.NODE_ENV==="production"?ra.exports=k3():ra.exports=M3()),ra.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function F3(){return _p||(_p=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=ti,e=bp();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;function l(d,f,g,y,b){var E=s(null),C;E.current===null?(C={hasValue:!1,value:null},E.current=C):C=E.current;var I=a(function(){var S=!1,m,u,v=function(Z){if(!S){S=!0,m=Z;var Q=y(Z);if(b!==void 0&&C.hasValue){var $=C.value;if(b($,Q))return u=$,$}return u=Q,Q}var U=m,X=u;if(n(U,Z))return X;var z=y(Z);return b!==void 0&&b(X,z)?X:(m=Z,u=z,z)},L=g===void 0?null:g,P=function(){return v(f())},q=L===null?void 0:function(){return v(L())};return[P,q]},[f,g,y,b]),_=I[0],x=I[1],w=i(d,_,x);return o(function(){C.hasValue=!0,C.value=w},[w]),c(w),w}yl.useSyncExternalStoreWithSelector=l,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),yl}var bl={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function U3(){if(Ep)return bl;Ep=1;var t=ti,e=bp();function r(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return bl.useSyncExternalStoreWithSelector=function(l,d,f,g,y){var b=s(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=a(function(){function I(m){if(!_){if(_=!0,x=m,m=g(m),y!==void 0&&E.hasValue){var u=E.value;if(y(u,m))return w=u}return w=m}if(u=w,n(x,m))return u;var v=g(m);return y!==void 0&&y(u,v)?u:(x=m,w=v)}var _=!1,x,w,S=f===void 0?null:f;return[function(){return I(d())},S===null?void 0:function(){return I(S())}]},[d,f,g,y]);var C=i(l,b[0],b[1]);return o(function(){E.hasValue=!0,E.value=C},[C]),c(C),C},bl}process.env.NODE_ENV==="production"?ml.exports=U3():ml.exports=F3();var j3=ml.exports;const B3=Si(j3);var Sp={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:q3}=L3,{useSyncExternalStoreWithSelector:z3}=B3;let xp=!1;function W3(t,e=t.getState,r){(Sp?"production":void 0)!=="production"&&r&&!xp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xp=!0);const n=z3(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return q3(n),n}const Cp=t=>{(Sp?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?P3(t):t,r=(n,i)=>W3(e,n,i);return Object.assign(r,e),r},V3=t=>t?Cp(t):Cp;var st;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(st||(st={}));var _l;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(_l||(_l={}));const fe=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cn=t=>{switch(typeof t){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return isNaN(t)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(t)?fe.array:t===null?fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?fe.promise:typeof Map<"u"&&t instanceof Map?fe.map:typeof Set<"u"&&t instanceof Set?fe.set:typeof Date<"u"&&t instanceof Date?fe.date:fe.object;default:return fe.unknown}},re=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),H3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class jr extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}jr.create=t=>new jr(t);const Fs=(t,e)=>{let r;switch(t.code){case re.invalid_type:t.received===fe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,st.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:r=`Unrecognized key(s) in object: ${st.joinValues(t.keys,", ")}`;break;case re.invalid_union:r="Invalid input";break;case re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${st.joinValues(t.options)}`;break;case re.invalid_enum_value:r=`Invalid enum value. Expected ${st.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:r="Invalid function arguments";break;case re.invalid_return_type:r="Invalid function return type";break;case re.invalid_date:r="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:st.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case re.custom:r="Invalid input";break;case re.invalid_intersection_types:r="Intersection results could not be merged";break;case re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:r="Number must be finite";break;default:r=e.defaultError,st.assertNever(t)}return{message:r}};let Op=Fs;function K3(t){Op=t}function na(){return Op}const ia=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Z3=[];function pe(t,e){const r=ia({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,na(),Fs].filter(n=>!!n)});t.common.issues.push(r)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return De;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return or.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return De;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const De=Object.freeze({status:"aborted"}),Dp=t=>({status:"dirty",value:t}),pr=t=>({status:"valid",value:t}),El=t=>t.status==="aborted",Sl=t=>t.status==="dirty",sa=t=>t.status==="valid",oa=t=>typeof Promise<"u"&&t instanceof Promise;var be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(be||(be={}));class Xr{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ip=(t,e)=>{if(sa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new jr(t.common.issues);return this._error=r,this._error}}};function ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class He{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Cn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Cn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new or,ctx:{common:e.parent.common,data:e.data,parsedType:Cn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(oa(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cn(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Ip(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cn(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(oa(i)?i:Promise.resolve(i));return Ip(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:re.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new zr({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return hn.create(this,this._def)}nullable(){return si.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qr.create(this,this._def)}promise(){return Bi.create(this,this._def)}or(e){return qs.create([this,e],this._def)}and(e){return zs.create(this,e,this._def)}transform(e){return new zr({...ke(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Zs({...ke(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new Ap({typeName:Ee.ZodBranded,type:this,...ke(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ha({...ke(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Gs.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const G3=/^c[^\s-]{8,}$/i,Y3=/^[a-z][a-z0-9]*$/,Q3=/[0-9A-HJKMNP-TV-Z]{26}/,J3=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,X3=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,eE=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),tE=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,rE=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nE=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function iE(t,e){return!!((e==="v4"||!e)&&tE.test(t)||(e==="v6"||!e)&&rE.test(t))}class Br extends He{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:re.invalid_string,...be.errToObj(n)}),this.nonempty=e=>this.min(1,be.errToObj(e)),this.trim=()=>new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const s=this._getOrReturnCtx(e);return pe(s,{code:re.invalid_type,expected:fe.string,received:s.parsedType}),De}const n=new or;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?pe(i,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&pe(i,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")X3.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"email",code:re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")eE.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"emoji",code:re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")J3.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"uuid",code:re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")G3.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"cuid",code:re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Y3.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"cuid2",code:re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Q3.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"ulid",code:re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),pe(i,{validation:"url",code:re.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"regex",code:re.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),pe(i,{code:re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),pe(i,{code:re.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),pe(i,{code:re.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?nE(s).test(e.data)||(i=this._getOrReturnCtx(e,i),pe(i,{code:re.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?iE(e.data,s.version)||(i=this._getOrReturnCtx(e,i),pe(i,{validation:"ip",code:re.invalid_string,message:s.message}),n.dirty()):st.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Br({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...be.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...be.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Br.create=t=>{var e;return new Br({checks:[],typeName:Ee.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ke(t)})};function sE(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class On extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const s=this._getOrReturnCtx(e);return pe(s,{code:re.invalid_type,expected:fe.number,received:s.parsedType}),De}let n;const i=new or;for(const s of this._def.checks)s.kind==="int"?st.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{code:re.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pe(n,{code:re.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pe(n,{code:re.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?sE(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),pe(n,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),pe(n,{code:re.not_finite,message:s.message}),i.dirty()):st.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,n,i){return new On({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:be.toString(i)}]})}_addCheck(e){return new On({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&st.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}On.create=t=>new On({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class Dn extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==fe.bigint){const s=this._getOrReturnCtx(e);return pe(s,{code:re.invalid_type,expected:fe.bigint,received:s.parsedType}),De}let n;const i=new or;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pe(n,{code:re.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pe(n,{code:re.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),pe(n,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):st.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,n,i){return new Dn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:be.toString(i)}]})}_addCheck(e){return new Dn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Dn.create=t=>{var e;return new Dn({checks:[],typeName:Ee.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ke(t)})};class Us extends He{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const n=this._getOrReturnCtx(e);return pe(n,{code:re.invalid_type,expected:fe.boolean,received:n.parsedType}),De}return pr(e.data)}}Us.create=t=>new Us({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});class ri extends He{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const s=this._getOrReturnCtx(e);return pe(s,{code:re.invalid_type,expected:fe.date,received:s.parsedType}),De}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return pe(s,{code:re.invalid_date}),De}const n=new or;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),pe(i,{code:re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):st.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ri({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ri.create=t=>new ri({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...ke(t)});class aa extends He{_parse(e){if(this._getType(e)!==fe.symbol){const n=this._getOrReturnCtx(e);return pe(n,{code:re.invalid_type,expected:fe.symbol,received:n.parsedType}),De}return pr(e.data)}}aa.create=t=>new aa({typeName:Ee.ZodSymbol,...ke(t)});class js extends He{_parse(e){if(this._getType(e)!==fe.undefined){const n=this._getOrReturnCtx(e);return pe(n,{code:re.invalid_type,expected:fe.undefined,received:n.parsedType}),De}return pr(e.data)}}js.create=t=>new js({typeName:Ee.ZodUndefined,...ke(t)});class Bs extends He{_parse(e){if(this._getType(e)!==fe.null){const n=this._getOrReturnCtx(e);return pe(n,{code:re.invalid_type,expected:fe.null,received:n.parsedType}),De}return pr(e.data)}}Bs.create=t=>new Bs({typeName:Ee.ZodNull,...ke(t)});class Fi extends He{constructor(){super(...arguments),this._any=!0}_parse(e){return pr(e.data)}}Fi.create=t=>new Fi({typeName:Ee.ZodAny,...ke(t)});class ni extends He{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pr(e.data)}}ni.create=t=>new ni({typeName:Ee.ZodUnknown,...ke(t)});class dn extends He{_parse(e){const r=this._getOrReturnCtx(e);return pe(r,{code:re.invalid_type,expected:fe.never,received:r.parsedType}),De}}dn.create=t=>new dn({typeName:Ee.ZodNever,...ke(t)});class ca extends He{_parse(e){if(this._getType(e)!==fe.undefined){const n=this._getOrReturnCtx(e);return pe(n,{code:re.invalid_type,expected:fe.void,received:n.parsedType}),De}return pr(e.data)}}ca.create=t=>new ca({typeName:Ee.ZodVoid,...ke(t)});class qr extends He{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==fe.array)return pe(r,{code:re.invalid_type,expected:fe.array,received:r.parsedType}),De;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(pe(r,{code:o?re.too_big:re.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(pe(r,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(pe(r,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Xr(r,o,r.path,a)))).then(o=>or.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Xr(r,o,r.path,a)));return or.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new qr({...this._def,minLength:{value:e,message:be.toString(r)}})}max(e,r){return new qr({...this._def,maxLength:{value:e,message:be.toString(r)}})}length(e,r){return new qr({...this._def,exactLength:{value:e,message:be.toString(r)}})}nonempty(e){return this.min(1,e)}}qr.create=(t,e)=>new qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...ke(e)});function Ui(t){if(t instanceof Pt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=hn.create(Ui(n))}return new Pt({...t._def,shape:()=>e})}else return t instanceof qr?new qr({...t._def,type:Ui(t.element)}):t instanceof hn?hn.create(Ui(t.unwrap())):t instanceof si?si.create(Ui(t.unwrap())):t instanceof en?en.create(t.items.map(e=>Ui(e))):t}class Pt extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=st.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==fe.object){const l=this._getOrReturnCtx(e);return pe(l,{code:re.invalid_type,expected:fe.object,received:l.parsedType}),De}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof dn&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const d=s[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new Xr(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof dn){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")a.length>0&&(pe(i,{code:re.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of a){const f=i.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new Xr(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const f=await d.key;l.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return l}).then(l=>or.mergeObjectSync(n,l)):or.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=be.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const r={};return st.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Pt({...this._def,shape:()=>r})}omit(e){const r={};return st.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Pt({...this._def,shape:()=>r})}deepPartial(){return Ui(this)}partial(e){const r={};return st.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Pt({...this._def,shape:()=>r})}required(e){const r={};return st.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof hn;)s=s._def.innerType;r[n]=s}}),new Pt({...this._def,shape:()=>r})}keyof(){return Tp(st.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:dn.create(),typeName:Ee.ZodObject,...ke(e)}),Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:dn.create(),typeName:Ee.ZodObject,...ke(e)}),Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:dn.create(),typeName:Ee.ZodObject,...ke(e)});class qs extends He{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new jr(a.ctx.common.issues));return pe(r,{code:re.invalid_union,unionErrors:o}),De}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new jr(c));return pe(r,{code:re.invalid_union,unionErrors:a}),De}}get options(){return this._def.options}}qs.create=(t,e)=>new qs({options:t,typeName:Ee.ZodUnion,...ke(e)});const la=t=>t instanceof Vs?la(t.schema):t instanceof zr?la(t.innerType()):t instanceof Hs?[t.value]:t instanceof In?t.options:t instanceof Ks?Object.keys(t.enum):t instanceof Zs?la(t._def.innerType):t instanceof js?[void 0]:t instanceof Bs?[null]:null;class ua extends He{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.object)return pe(r,{code:re.invalid_type,expected:fe.object,received:r.parsedType}),De;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(pe(r,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=la(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ua({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ke(n)})}}function xl(t,e){const r=Cn(t),n=Cn(e);if(t===e)return{valid:!0,data:t};if(r===fe.object&&n===fe.object){const i=st.objectKeys(e),s=st.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=xl(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===fe.array&&n===fe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=xl(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===fe.date&&n===fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class zs extends He{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(El(s)||El(o))return De;const a=xl(s.value,o.value);return a.valid?((Sl(s)||Sl(o))&&r.dirty(),{status:r.value,value:a.data}):(pe(n,{code:re.invalid_intersection_types}),De)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}zs.create=(t,e,r)=>new zs({left:t,right:e,typeName:Ee.ZodIntersection,...ke(r)});class en extends He{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.array)return pe(n,{code:re.invalid_type,expected:fe.array,received:n.parsedType}),De;if(n.data.length<this._def.items.length)return pe(n,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&n.data.length>this._def.items.length&&(pe(n,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Xr(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>or.mergeArray(r,o)):or.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new en({...this._def,rest:e})}}en.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new en({items:t,typeName:Ee.ZodTuple,rest:null,...ke(e)})};class Ws extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.object)return pe(n,{code:re.invalid_type,expected:fe.object,received:n.parsedType}),De;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Xr(n,a,n.path,a)),value:o._parse(new Xr(n,n.data[a],n.path,a))});return n.common.async?or.mergeObjectAsync(r,i):or.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof He?new Ws({keyType:e,valueType:r,typeName:Ee.ZodRecord,...ke(n)}):new Ws({keyType:Br.create(),valueType:e,typeName:Ee.ZodRecord,...ke(r)})}}class da extends He{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.map)return pe(n,{code:re.invalid_type,expected:fe.map,received:n.parsedType}),De;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new Xr(n,a,n.path,[l,"key"])),value:s._parse(new Xr(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return De;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(l.value,d.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return De;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(l.value,d.value)}return{status:r.value,value:a}}}}da.create=(t,e,r)=>new da({valueType:e,keyType:t,typeName:Ee.ZodMap,...ke(r)});class ii extends He{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.set)return pe(n,{code:re.invalid_type,expected:fe.set,received:n.parsedType}),De;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(pe(n,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(pe(n,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const d of c){if(d.status==="aborted")return De;d.status==="dirty"&&r.dirty(),l.add(d.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new Xr(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new ii({...this._def,minSize:{value:e,message:be.toString(r)}})}max(e,r){return new ii({...this._def,maxSize:{value:e,message:be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ii.create=(t,e)=>new ii({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...ke(e)});class ji extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.function)return pe(r,{code:re.invalid_type,expected:fe.function,received:r.parsedType}),De;function n(a,c){return ia({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,na(),Fs].filter(l=>!!l),issueData:{code:re.invalid_arguments,argumentsError:c}})}function i(a,c){return ia({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,na(),Fs].filter(l=>!!l),issueData:{code:re.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof Bi?pr(async(...a)=>{const c=new jr([]),l=await this._def.args.parseAsync(a,s).catch(g=>{throw c.addIssue(n(a,g)),c}),d=await o(...l);return await this._def.returns._def.type.parseAsync(d,s).catch(g=>{throw c.addIssue(i(d,g)),c})}):pr((...a)=>{const c=this._def.args.safeParse(a,s);if(!c.success)throw new jr([n(a,c.error)]);const l=o(...c.data),d=this._def.returns.safeParse(l,s);if(!d.success)throw new jr([i(l,d.error)]);return d.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ji({...this._def,args:en.create(e).rest(ni.create())})}returns(e){return new ji({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ji({args:e||en.create([]).rest(ni.create()),returns:r||ni.create(),typeName:Ee.ZodFunction,...ke(n)})}}class Vs extends He{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Vs.create=(t,e)=>new Vs({getter:t,typeName:Ee.ZodLazy,...ke(e)});class Hs extends He{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return pe(r,{received:r.data,code:re.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hs.create=(t,e)=>new Hs({value:t,typeName:Ee.ZodLiteral,...ke(e)});function Tp(t,e){return new In({values:t,typeName:Ee.ZodEnum,...ke(e)})}class In extends He{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return pe(r,{expected:st.joinValues(n),received:r.parsedType,code:re.invalid_type}),De}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return pe(r,{received:r.data,code:re.invalid_enum_value,options:n}),De}return pr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return In.create(e)}exclude(e){return In.create(this.options.filter(r=>!e.includes(r)))}}In.create=Tp;class Ks extends He{_parse(e){const r=st.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==fe.string&&n.parsedType!==fe.number){const i=st.objectValues(r);return pe(n,{expected:st.joinValues(i),received:n.parsedType,code:re.invalid_type}),De}if(r.indexOf(e.data)===-1){const i=st.objectValues(r);return pe(n,{received:n.data,code:re.invalid_enum_value,options:i}),De}return pr(e.data)}get enum(){return this._def.values}}Ks.create=(t,e)=>new Ks({values:t,typeName:Ee.ZodNativeEnum,...ke(e)});class Bi extends He{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.promise&&r.common.async===!1)return pe(r,{code:re.invalid_type,expected:fe.promise,received:r.parsedType}),De;const n=r.parsedType===fe.promise?r.data:Promise.resolve(r.data);return pr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Bi.create=(t,e)=>new Bi({type:t,typeName:Ee.ZodPromise,...ke(e)});class zr extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}const s={addIssue:o=>{pe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?De:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?De:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sa(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>sa(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);st.assertNever(i)}}zr.create=(t,e,r)=>new zr({schema:t,typeName:Ee.ZodEffects,effect:e,...ke(r)}),zr.createWithPreprocess=(t,e,r)=>new zr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...ke(r)});class hn extends He{_parse(e){return this._getType(e)===fe.undefined?pr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hn.create=(t,e)=>new hn({innerType:t,typeName:Ee.ZodOptional,...ke(e)});class si extends He{_parse(e){return this._getType(e)===fe.null?pr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}si.create=(t,e)=>new si({innerType:t,typeName:Ee.ZodNullable,...ke(e)});class Zs extends He{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zs.create=(t,e)=>new Zs({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});class ha extends He{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return oa(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new jr(n.common.issues)}})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new jr(n.common.issues)}})}}removeCatch(){return this._def.innerType}}ha.create=(t,e)=>new ha({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});class fa extends He{_parse(e){if(this._getType(e)!==fe.nan){const n=this._getOrReturnCtx(e);return pe(n,{code:re.invalid_type,expected:fe.nan,received:n.parsedType}),De}return{status:"valid",value:e.data}}}fa.create=t=>new fa({typeName:Ee.ZodNaN,...ke(t)});const oE=Symbol("zod_brand");class Ap extends He{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Gs extends He{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?De:s.status==="dirty"?(r.dirty(),Dp(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?De:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Gs({in:e,out:r,typeName:Ee.ZodPipeline})}}const Rp=(t,e={},r)=>t?Fi.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):Fi.create(),aE={object:Pt.lazycreate};var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(Ee||(Ee={}));const cE=(t,e={message:`Input not instance of ${t.name}`})=>Rp(r=>r instanceof t,e),Pp=Br.create,$p=On.create,lE=fa.create,uE=Dn.create,Np=Us.create,dE=ri.create,hE=aa.create,fE=js.create,pE=Bs.create,gE=Fi.create,mE=ni.create,yE=dn.create,vE=ca.create,wE=qr.create,bE=Pt.create,_E=Pt.strictCreate,EE=qs.create,SE=ua.create,xE=zs.create,CE=en.create,OE=Ws.create,DE=da.create,IE=ii.create,TE=ji.create,AE=Vs.create,RE=Hs.create,PE=In.create,$E=Ks.create,NE=Bi.create,Lp=zr.create,LE=hn.create,ME=si.create,kE=zr.createWithPreprocess,FE=Gs.create;var Wr=Object.freeze({__proto__:null,defaultErrorMap:Fs,setErrorMap:K3,getErrorMap:na,makeIssue:ia,EMPTY_PATH:Z3,addIssueToContext:pe,ParseStatus:or,INVALID:De,DIRTY:Dp,OK:pr,isAborted:El,isDirty:Sl,isValid:sa,isAsync:oa,get util(){return st},get objectUtil(){return _l},ZodParsedType:fe,getParsedType:Cn,ZodType:He,ZodString:Br,ZodNumber:On,ZodBigInt:Dn,ZodBoolean:Us,ZodDate:ri,ZodSymbol:aa,ZodUndefined:js,ZodNull:Bs,ZodAny:Fi,ZodUnknown:ni,ZodNever:dn,ZodVoid:ca,ZodArray:qr,ZodObject:Pt,ZodUnion:qs,ZodDiscriminatedUnion:ua,ZodIntersection:zs,ZodTuple:en,ZodRecord:Ws,ZodMap:da,ZodSet:ii,ZodFunction:ji,ZodLazy:Vs,ZodLiteral:Hs,ZodEnum:In,ZodNativeEnum:Ks,ZodPromise:Bi,ZodEffects:zr,ZodTransformer:zr,ZodOptional:hn,ZodNullable:si,ZodDefault:Zs,ZodCatch:ha,ZodNaN:fa,BRAND:oE,ZodBranded:Ap,ZodPipeline:Gs,custom:Rp,Schema:He,ZodSchema:He,late:aE,get ZodFirstPartyTypeKind(){return Ee},coerce:{string:t=>Br.create({...t,coerce:!0}),number:t=>On.create({...t,coerce:!0}),boolean:t=>Us.create({...t,coerce:!0}),bigint:t=>Dn.create({...t,coerce:!0}),date:t=>ri.create({...t,coerce:!0})},any:gE,array:wE,bigint:uE,boolean:Np,date:dE,discriminatedUnion:SE,effect:Lp,enum:PE,function:TE,instanceof:cE,intersection:xE,lazy:AE,literal:RE,map:DE,nan:lE,nativeEnum:$E,never:yE,null:pE,nullable:ME,number:$p,object:bE,oboolean:()=>Np().optional(),onumber:()=>$p().optional(),optional:LE,ostring:()=>Pp().optional(),pipeline:FE,preprocess:kE,promise:NE,record:OE,set:IE,strictObject:_E,string:Pp,symbol:hE,transformer:Lp,tuple:CE,undefined:fE,union:EE,unknown:mE,void:vE,NEVER:De,ZodIssueCode:re,quotelessJson:H3,ZodError:jr});const Cl=/^aleo1[a-z0-9]{58}$/i,Mp=/^AViewKey1[a-z0-9]{44}$/i,kp=/^APrivateKey1[a-z0-9]{47}$/i,Fp=/^at1[a-z0-9]{58}$/i,Up=/^\d+field$/,jp=/^\d+u32$/,Bp=/^\d+u64$/,UE=Wr.string().regex(Cl),jE=Wr.string().regex(Mp),BE=Wr.string().regex(kp),qE=Wr.string().regex(Fp),zE=Wr.string().regex(Up),WE=Wr.string().regex(jp),VE=Wr.string().regex(Bp);ie.InputOutputType=void 0,function(t){t.Record="record",t.OutputRecord="outputRecord",t.Public="public",t.Private="private",t.Constant="constant",t.Future="future",t.ExternalRecord="external_record"}(ie.InputOutputType||(ie.InputOutputType={})),ie.EventType=void 0,function(t){t.Deploy="Deploy",t.Execute="Execute",t.Send="Send",t.Receive="Receive",t.Join="Join",t.Split="Split",t.Shield="Shield",t.Unshield="Unshield"}(ie.EventType||(ie.EventType={})),ie.EventStatus=void 0,function(t){t.Creating="Creating",t.Pending="Pending",t.Settled="Settled",t.Failed="Failed"}(ie.EventStatus||(ie.EventStatus={})),ie.Visibility=void 0,function(t){t.Private="Private",t.Public="Public"}(ie.Visibility||(ie.Visibility={})),ie.Network=void 0,function(t){t.AleoTestnet="AleoTestnet",t.AleoMainnet="AleoMainnet"}(ie.Network||(ie.Network={})),ie.AssetType=void 0,function(t){t[t.ALEO=0]="ALEO"}(ie.AssetType||(ie.AssetType={}));const HE=Wr.nativeEnum(ie.EventType),KE=Wr.nativeEnum(ie.EventStatus),ZE=Wr.nativeEnum(ie.Network),GE=Wr.nativeEnum(ie.Visibility);class pa{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ol=typeof window>"u"||"Deno"in window;function Vr(){}function YE(t,e){return typeof t=="function"?t(e):t}function QE(t){return typeof t=="number"&&t>=0&&t!==1/0}function JE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ga(t,e,r){return ma(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Tn(t,e,r){return ma(t)?[{...e,queryKey:t},r]:[t||{},e]}function qp(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(ma(o)){if(n){if(e.queryHash!==Dl(o,e.options))return!1}else if(!qi(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function zp(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:s}=t;if(ma(s)){if(!e.options.mutationKey)return!1;if(r){if(oi(e.options.mutationKey)!==oi(s))return!1}else if(!qi(e.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function Dl(t,e){return((e==null?void 0:e.queryKeyHashFn)||oi)(t)}function oi(t){return JSON.stringify(t,(e,r)=>Il(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function qi(t,e){return Wp(t,e)}function Wp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Wp(t[r],e[r])):!1}function Vp(t,e){if(t===e)return t;const r=Hp(t)&&Hp(e);if(r||Il(t)&&Il(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let a=0;for(let c=0;c<s;c++){const l=r?c:i[c];o[l]=Vp(t[l],e[l]),o[l]===t[l]&&a++}return n===s&&a===n?t:o}return e}function Hp(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Il(t){if(!Kp(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Kp(r)||!r.hasOwnProperty("isPrototypeOf"))}function Kp(t){return Object.prototype.toString.call(t)==="[object Object]"}function ma(t){return Array.isArray(t)}function Zp(t){return new Promise(e=>{setTimeout(e,t)})}function Gp(t){Zp(0).then(t)}function XE(){if(typeof AbortController=="function")return new AbortController}function e5(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Vp(t,e):e}class t5 extends pa{constructor(){super(),this.setup=e=>{if(!Ol&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Tl=new t5,Yp=["online","offline"];class r5 extends pa{constructor(){super(),this.setup=e=>{if(!Ol&&window.addEventListener){const r=()=>e();return Yp.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{Yp.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ya=new r5;function n5(t){return Math.min(1e3*2**t,3e4)}function Al(t){return(t??"online")==="online"?ya.isOnline():!0}class Qp{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Rl(t){return t instanceof Qp}function Jp(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((C,I)=>{s=C,o=I}),c=C=>{n||(y(new Qp(C)),t.abort==null||t.abort())},l=()=>{e=!0},d=()=>{e=!1},f=()=>!Tl.isFocused()||t.networkMode!=="always"&&!ya.isOnline(),g=C=>{n||(n=!0,t.onSuccess==null||t.onSuccess(C),i==null||i(),s(C))},y=C=>{n||(n=!0,t.onError==null||t.onError(C),i==null||i(),o(C))},b=()=>new Promise(C=>{i=I=>{const _=n||!f();return _&&C(I),_},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),E=()=>{if(n)return;let C;try{C=t.fn()}catch(I){C=Promise.reject(I)}Promise.resolve(C).then(g).catch(I=>{var _,x;if(n)return;const w=(_=t.retry)!=null?_:3,S=(x=t.retryDelay)!=null?x:n5,m=typeof S=="function"?S(r,I):S,u=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,I);if(e||!u){y(I);return}r++,t.onFail==null||t.onFail(r,I),Zp(m).then(()=>{if(f())return b()}).then(()=>{e?y(I):E()})})};return Al(t.networkMode)?E():b().then(E),{promise:a,cancel:c,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:l,continueRetry:d}}const Pl=console;function i5(){let t=[],e=0,r=d=>{d()},n=d=>{d()};const i=d=>{let f;e++;try{f=d()}finally{e--,e||a()}return f},s=d=>{e?t.push(d):Gp(()=>{r(d)})},o=d=>(...f)=>{s(()=>{d(...f)})},a=()=>{const d=t;t=[],d.length&&Gp(()=>{n(()=>{d.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d}}}const gr=i5();class Xp{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QE(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Ol?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class s5 extends Xp{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Pl,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||o5(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=e5(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!JE(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(b=>b.options.queryFn);y&&this.setOptions(y.options)}process.env.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||this.logger.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));const o=XE(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(a);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(c(d),(n=this.options.behavior)==null||n.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=d.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=d.fetchOptions)==null?void 0:f.meta})}const g=y=>{if(Rl(y)&&y.silent||this.dispatch({type:"error",error:y}),!Rl(y)){var b,E,C,I;(b=(E=this.cache.config).onError)==null||b.call(E,y,this),(C=(I=this.cache.config).onSettled)==null||C.call(I,this.state.data,y,this),process.env.NODE_ENV!=="production"&&this.logger.error(y)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Jp({fn:d.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var b,E,C,I;if(typeof y>"u"){process.env.NODE_ENV!=="production"&&this.logger.error("Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: "+this.queryHash),g(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(b=(E=this.cache.config).onSuccess)==null||b.call(E,y,this),(C=(I=this.cache.config).onSettled)==null||C.call(I,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:g,onFail:(y,b)=>{this.dispatch({type:"failed",failureCount:y,error:b})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,s;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:Al(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Rl(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function o5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class a5 extends pa{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const s=r.queryKey,o=(i=r.queryHash)!=null?i:Dl(s,r);let a=this.get(o);return a||(a=new s5({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){gr.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=Tn(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>qp(n,i))}findAll(e,r){const[n]=Tn(e,r);return Object.keys(n).length>0?this.queries.filter(i=>qp(n,i)):this.queries}notify(e){gr.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){gr.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){gr.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class c5 extends Xp{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Pl,this.observers=[],this.state=e.state||l5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var u;return this.retryer=Jp({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(v,L)=>{this.dispatch({type:"failed",failureCount:v,error:L})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(u=this.options.retry)!=null?u:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,s,o,a,c,l,d;if(!r){var f,g,y,b;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(g=this.mutationCache.config).onMutate)==null?void 0:f.call(g,this.state.variables,this));const v=await((y=(b=this.options).onMutate)==null?void 0:y.call(b,this.state.variables));v!==this.state.context&&this.dispatch({type:"loading",context:v,variables:this.state.variables})}const u=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,u,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,u,this.state.variables,this.state.context)),await((a=(c=this.mutationCache.config).onSettled)==null?void 0:a.call(c,u,null,this.state.variables,this.state.context,this)),await((l=(d=this.options).onSettled)==null?void 0:l.call(d,u,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:u}),u}catch(u){try{var E,C,I,_,x,w,S,m;throw await((E=(C=this.mutationCache.config).onError)==null?void 0:E.call(C,u,this.state.variables,this.state.context,this)),process.env.NODE_ENV!=="production"&&this.logger.error(u),await((I=(_=this.options).onError)==null?void 0:I.call(_,u,this.state.variables,this.state.context)),await((x=(w=this.mutationCache.config).onSettled)==null?void 0:x.call(w,void 0,u,this.state.variables,this.state.context,this)),await((S=(m=this.options).onSettled)==null?void 0:S.call(m,void 0,u,this.state.variables,this.state.context)),u}finally{this.dispatch({type:"error",error:u})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Al(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function l5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class u5 extends pa{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new c5({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){gr.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>zp(e,r))}findAll(e){return this.mutations.filter(r=>zp(e,r))}notify(e){gr.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return gr.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(Vr)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function d5(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,s,o;const a=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,c=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,l=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",f=(c==null?void 0:c.direction)==="backward",g=((s=t.state.data)==null?void 0:s.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[];let b=y,E=!1;const C=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{var u;if((u=t.signal)!=null&&u.aborted)E=!0;else{var v;(v=t.signal)==null||v.addEventListener("abort",()=>{E=!0})}return t.signal}})},I=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),_=(m,u,v,L)=>(b=L?[u,...b]:[...b,u],L?[v,...m]:[...m,v]),x=(m,u,v,L)=>{if(E)return Promise.reject("Cancelled");if(typeof v>"u"&&!u&&m.length)return Promise.resolve(m);const P={queryKey:t.queryKey,pageParam:v,meta:t.options.meta};C(P);const q=I(P);return Promise.resolve(q).then(Q=>_(m,v,Q,L))};let w;if(!g.length)w=x([]);else if(d){const m=typeof l<"u",u=m?l:e0(t.options,g);w=x(g,m,u)}else if(f){const m=typeof l<"u",u=m?l:h5(t.options,g);w=x(g,m,u,!0)}else{b=[];const m=typeof t.options.getNextPageParam>"u";w=(a&&g[0]?a(g[0],0,g):!0)?x([],m,y[0]):Promise.resolve(_([],y[0],g[0]));for(let v=1;v<g.length;v++)w=w.then(L=>{if(a&&g[v]?a(g[v],v,g):!0){const q=m?y[v]:e0(t.options,L);return x(L,m,q)}return Promise.resolve(_(L,y[v],g[v]))})}return w.then(m=>({pages:m,pageParams:b}))}}}}function e0(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function h5(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class f5{constructor(e={}){this.queryCache=e.queryCache||new a5,this.mutationCache=e.mutationCache||new u5,this.logger=e.logger||Pl,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0,process.env.NODE_ENV!=="production"&&e.logger&&this.logger.error("Passing a custom logger has been deprecated and will be removed in the next major version.")}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Tl.subscribe(()=>{Tl.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ya.subscribe(()=>{ya.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=Tn(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=ga(e,r,n),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=YE(r,s);if(typeof o>"u")return;const a=ga(e),c=this.defaultQueryOptions(a);return this.queryCache.build(this,c).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return gr.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=Tn(e,r),i=this.queryCache;gr.batch(()=>{i.findAll(n).forEach(s=>{i.remove(s)})})}resetQueries(e,r,n){const[i,s]=Tn(e,r,n),o=this.queryCache,a={type:"active",...i};return gr.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,r,n){const[i,s={}]=Tn(e,r,n);typeof s.revert>"u"&&(s.revert=!0);const o=gr.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Vr).catch(Vr)}invalidateQueries(e,r,n){const[i,s]=Tn(e,r,n);return gr.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(c,s)})}refetchQueries(e,r,n){const[i,s]=Tn(e,r,n),o=gr.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var l;return c.fetch(void 0,{...s,cancelRefetch:(l=s==null?void 0:s.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Vr);return s!=null&&s.throwOnError||(a=a.catch(Vr)),a}fetchQuery(e,r,n){const i=ga(e,r,n),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(Vr).catch(Vr)}fetchInfiniteQuery(e,r,n){const i=ga(e,r,n);return i.behavior=d5(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(Vr).catch(Vr)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>oi(e)===oi(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>qi(e,n.queryKey));return process.env.NODE_ENV!=="production"&&this.queryDefaults.filter(i=>qi(e,i.queryKey)).length>1&&this.logger.error("[QueryClient] Several query defaults match with key '"+JSON.stringify(e)+"'. The first matching query defaults are used. Please check how query defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetquerydefaults."),r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>oi(e)===oi(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>qi(e,n.mutationKey));return process.env.NODE_ENV!=="production"&&this.mutationDefaults.filter(i=>qi(e,i.mutationKey)).length>1&&this.logger.error("[QueryClient] Several mutation defaults match with key '"+JSON.stringify(e)+"'. The first matching mutation defaults are used. Please check how mutation defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetmutationdefaults."),r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=Dl(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var $l={exports:{}},Nl,t0;function p5(){if(t0)return Nl;t0=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Nl=function(d,f){f=f||{};var g=typeof d;if(g==="string"&&d.length>0)return o(d);if(g==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var g=parseFloat(f[1]),y=(f[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function a(d){var f=Math.abs(d);return f>=n?Math.round(d/n)+"d":f>=r?Math.round(d/r)+"h":f>=e?Math.round(d/e)+"m":f>=t?Math.round(d/t)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=n?l(d,f,n,"day"):f>=r?l(d,f,r,"hour"):f>=e?l(d,f,e,"minute"):f>=t?l(d,f,t,"second"):d+" ms"}function l(d,f,g,y){var b=f>=g*1.5;return Math.round(d/g)+" "+y+(b?"s":"")}return Nl}function g5(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=p5(),r.destroy=l,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let f=0;for(let g=0;g<d.length;g++)f=(f<<5)-f+d.charCodeAt(g),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(d){let f,g=null,y,b;function E(...C){if(!E.enabled)return;const I=E,_=Number(new Date),x=_-(f||_);I.diff=x,I.prev=f,I.curr=_,f=_,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let w=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(m,u)=>{if(m==="%%")return"%";w++;const v=r.formatters[u];if(typeof v=="function"){const L=C[w];m=v.call(I,L),C.splice(w,1),w--}return m}),r.formatArgs.call(I,C),(I.log||r.log).apply(I,C)}return E.namespace=d,E.useColors=r.useColors(),E.color=r.selectColor(d),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,b=r.enabled(d)),b),set:C=>{g=C}}),typeof r.init=="function"&&r.init(E),E}function n(d,f){const g=r(this.namespace+(typeof f>"u"?":":f)+d);return g.log=this.log,g}function i(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let f;const g=(typeof d=="string"?d:"").split(/[\s,]+/),y=g.length;for(f=0;f<y;f++)g[f]&&(d=g[f].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function s(){const d=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),d}function o(d){if(d[d.length-1]==="*")return!0;let f,g;for(f=0,g=r.skips.length;f<g;f++)if(r.skips[f].test(d))return!1;for(f=0,g=r.names.length;f<g;f++)if(r.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var m5=g5;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(d++,g==="%c"&&(f=d))}),c.splice(f,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=m5(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})($l,$l.exports);var y5=$l.exports;const r0=Si(y5)("wallet:sdk");r0.enabled=!0;var Ys={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function v5(){return n0||(n0=1,process.env.NODE_ENV!=="production"&&function(){var t=ti,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b=Symbol.iterator,E="@@iterator";function C(T){if(T===null||typeof T!="object")return null;var K=b&&T[b]||T[E];return typeof K=="function"?K:null}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _(T){{for(var K=arguments.length,ce=new Array(K>1?K-1:0),ge=1;ge<K;ge++)ce[ge-1]=arguments[ge];x("error",T,ce)}}function x(T,K,ce){{var ge=I.ReactDebugCurrentFrame,et=ge.getStackAddendum();et!==""&&(K+="%s",ce=ce.concat([et]));var Ze=ce.map(function(Ye){return String(Ye)});Ze.unshift("Warning: "+K),Function.prototype.apply.call(console[T],console,Ze)}}var w=!1,S=!1,m=!1,u=!1,v=!1,L;L=Symbol.for("react.module.reference");function P(T){return!!(typeof T=="string"||typeof T=="function"||T===n||T===s||v||T===i||T===l||T===d||u||T===y||w||S||m||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===f||T.$$typeof===o||T.$$typeof===a||T.$$typeof===c||T.$$typeof===L||T.getModuleId!==void 0))}function q(T,K,ce){var ge=T.displayName;if(ge)return ge;var et=K.displayName||K.name||"";return et!==""?ce+"("+et+")":ce}function Z(T){return T.displayName||"Context"}function Q(T){if(T==null)return null;if(typeof T.tag=="number"&&_("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof T=="function")return T.displayName||T.name||null;if(typeof T=="string")return T;switch(T){case n:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case l:return"Suspense";case d:return"SuspenseList"}if(typeof T=="object")switch(T.$$typeof){case a:var K=T;return Z(K)+".Consumer";case o:var ce=T;return Z(ce._context)+".Provider";case c:return q(T,T.render,"ForwardRef");case f:var ge=T.displayName||null;return ge!==null?ge:Q(T.type)||"Memo";case g:{var et=T,Ze=et._payload,Ye=et._init;try{return Q(Ye(Ze))}catch{return null}}}return null}var $=Object.assign,U=0,X,z,H,Y,D,j,te;function V(){}V.__reactDisabledLog=!0;function se(){{if(U===0){X=console.log,z=console.info,H=console.warn,Y=console.error,D=console.group,j=console.groupCollapsed,te=console.groupEnd;var T={configurable:!0,enumerable:!0,value:V,writable:!0};Object.defineProperties(console,{info:T,log:T,warn:T,error:T,group:T,groupCollapsed:T,groupEnd:T})}U++}}function ee(){{if(U--,U===0){var T={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:$({},T,{value:X}),info:$({},T,{value:z}),warn:$({},T,{value:H}),error:$({},T,{value:Y}),group:$({},T,{value:D}),groupCollapsed:$({},T,{value:j}),groupEnd:$({},T,{value:te})})}U<0&&_("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ue=I.ReactCurrentDispatcher,k;function M(T,K,ce){{if(k===void 0)try{throw Error()}catch(et){var ge=et.stack.trim().match(/\n( *(at )?)/);k=ge&&ge[1]||""}return`
`+k+T}}var N=!1,h;{var R=typeof WeakMap=="function"?WeakMap:Map;h=new R}function ne(T,K){if(!T||N)return"";{var ce=h.get(T);if(ce!==void 0)return ce}var ge;N=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ze;Ze=ue.current,ue.current=null,se();try{if(K){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Rr){ge=Rr}Reflect.construct(T,[],Ye)}else{try{Ye.call()}catch(Rr){ge=Rr}T.call(Ye.prototype)}}else{try{throw Error()}catch(Rr){ge=Rr}T()}}catch(Rr){if(Rr&&ge&&typeof Rr.stack=="string"){for(var Ve=Rr.stack.split(`
`),Ht=ge.stack.split(`
`),Et=Ve.length-1,Tt=Ht.length-1;Et>=1&&Tt>=0&&Ve[Et]!==Ht[Tt];)Tt--;for(;Et>=1&&Tt>=0;Et--,Tt--)if(Ve[Et]!==Ht[Tt]){if(Et!==1||Tt!==1)do if(Et--,Tt--,Tt<0||Ve[Et]!==Ht[Tt]){var Ut=`
`+Ve[Et].replace(" at new "," at ");return T.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",T.displayName)),typeof T=="function"&&h.set(T,Ut),Ut}while(Et>=1&&Tt>=0);break}}}finally{N=!1,ue.current=Ze,ee(),Error.prepareStackTrace=et}var nn=T?T.displayName||T.name:"",os=nn?M(nn):"";return typeof T=="function"&&h.set(T,os),os}function le(T,K,ce){return ne(T,!1)}function Be(T){var K=T.prototype;return!!(K&&K.isReactComponent)}function qe(T,K,ce){if(T==null)return"";if(typeof T=="function")return ne(T,Be(T));if(typeof T=="string")return M(T);switch(T){case l:return M("Suspense");case d:return M("SuspenseList")}if(typeof T=="object")switch(T.$$typeof){case c:return le(T.render);case f:return qe(T.type,K,ce);case g:{var ge=T,et=ge._payload,Ze=ge._init;try{return qe(Ze(et),K,ce)}catch{}}}return""}var Te=Object.prototype.hasOwnProperty,Ke={},wt=I.ReactDebugCurrentFrame;function ct(T){if(T){var K=T._owner,ce=qe(T.type,T._source,K?K.type:null);wt.setExtraStackFrame(ce)}else wt.setExtraStackFrame(null)}function Oe(T,K,ce,ge,et){{var Ze=Function.call.bind(Te);for(var Ye in T)if(Ze(T,Ye)){var Ve=void 0;try{if(typeof T[Ye]!="function"){var Ht=Error((ge||"React class")+": "+ce+" type `"+Ye+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof T[Ye]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ht.name="Invariant Violation",Ht}Ve=T[Ye](K,Ye,ge,ce,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Et){Ve=Et}Ve&&!(Ve instanceof Error)&&(ct(et),_("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ge||"React class",ce,Ye,typeof Ve),ct(null)),Ve instanceof Error&&!(Ve.message in Ke)&&(Ke[Ve.message]=!0,ct(et),_("Failed %s type: %s",ce,Ve.message),ct(null))}}}var Ae=Array.isArray;function Re(T){return Ae(T)}function Le(T){{var K=typeof Symbol=="function"&&Symbol.toStringTag,ce=K&&T[Symbol.toStringTag]||T.constructor.name||"Object";return ce}}function Pe(T){try{return xe(T),!1}catch{return!0}}function xe(T){return""+T}function Ce(T){if(Pe(T))return _("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Le(T)),xe(T)}var _e=I.ReactCurrentOwner,Ue={key:!0,ref:!0,__self:!0,__source:!0},ze,Se,je;je={};function Je(T){if(Te.call(T,"ref")){var K=Object.getOwnPropertyDescriptor(T,"ref").get;if(K&&K.isReactWarning)return!1}return T.ref!==void 0}function nt(T){if(Te.call(T,"key")){var K=Object.getOwnPropertyDescriptor(T,"key").get;if(K&&K.isReactWarning)return!1}return T.key!==void 0}function it(T,K){if(typeof T.ref=="string"&&_e.current&&K&&_e.current.stateNode!==K){var ce=Q(_e.current.type);je[ce]||(_('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Q(_e.current.type),T.ref),je[ce]=!0)}}function We(T,K){{var ce=function(){ze||(ze=!0,_("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",K))};ce.isReactWarning=!0,Object.defineProperty(T,"key",{get:ce,configurable:!0})}}function ar(T,K){{var ce=function(){Se||(Se=!0,_("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",K))};ce.isReactWarning=!0,Object.defineProperty(T,"ref",{get:ce,configurable:!0})}}var xr=function(T,K,ce,ge,et,Ze,Ye){var Ve={$$typeof:e,type:T,key:K,ref:ce,props:Ye,_owner:Ze};return Ve._store={},Object.defineProperty(Ve._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ve,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ge}),Object.defineProperty(Ve,"_source",{configurable:!1,enumerable:!1,writable:!1,value:et}),Object.freeze&&(Object.freeze(Ve.props),Object.freeze(Ve)),Ve};function Lr(T,K,ce,ge,et){{var Ze,Ye={},Ve=null,Ht=null;ce!==void 0&&(Ce(ce),Ve=""+ce),nt(K)&&(Ce(K.key),Ve=""+K.key),Je(K)&&(Ht=K.ref,it(K,et));for(Ze in K)Te.call(K,Ze)&&!Ue.hasOwnProperty(Ze)&&(Ye[Ze]=K[Ze]);if(T&&T.defaultProps){var Et=T.defaultProps;for(Ze in Et)Ye[Ze]===void 0&&(Ye[Ze]=Et[Ze])}if(Ve||Ht){var Tt=typeof T=="function"?T.displayName||T.name||"Unknown":T;Ve&&We(Ye,Tt),Ht&&ar(Ye,Tt)}return xr(T,Ve,Ht,et,ge,_e.current,Ye)}}var qt=I.ReactCurrentOwner,Mr=I.ReactDebugCurrentFrame;function yr(T){if(T){var K=T._owner,ce=qe(T.type,T._source,K?K.type:null);Mr.setExtraStackFrame(ce)}else Mr.setExtraStackFrame(null)}var kr;kr=!1;function dt(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function lt(){{if(qt.current){var T=Q(qt.current.type);if(T)return`

Check the render method of \``+T+"`."}return""}}function xt(T){{if(T!==void 0){var K=T.fileName.replace(/^.*[\\\/]/,""),ce=T.lineNumber;return`

Check your code at `+K+":"+ce+"."}return""}}var _t={};function Ct(T){{var K=lt();if(!K){var ce=typeof T=="string"?T:T.displayName||T.name;ce&&(K=`

Check the top-level render call using <`+ce+">.")}return K}}function yt(T,K){{if(!T._store||T._store.validated||T.key!=null)return;T._store.validated=!0;var ce=Ct(K);if(_t[ce])return;_t[ce]=!0;var ge="";T&&T._owner&&T._owner!==qt.current&&(ge=" It was passed a child from "+Q(T._owner.type)+"."),yr(T),_('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ce,ge),yr(null)}}function $t(T,K){{if(typeof T!="object")return;if(Re(T))for(var ce=0;ce<T.length;ce++){var ge=T[ce];dt(ge)&&yt(ge,K)}else if(dt(T))T._store&&(T._store.validated=!0);else if(T){var et=C(T);if(typeof et=="function"&&et!==T.entries)for(var Ze=et.call(T),Ye;!(Ye=Ze.next()).done;)dt(Ye.value)&&yt(Ye.value,K)}}}function bt(T){{var K=T.type;if(K==null||typeof K=="string")return;var ce;if(typeof K=="function")ce=K.propTypes;else if(typeof K=="object"&&(K.$$typeof===c||K.$$typeof===f))ce=K.propTypes;else return;if(ce){var ge=Q(K);Oe(ce,T.props,"prop",ge,T)}else if(K.PropTypes!==void 0&&!kr){kr=!0;var et=Q(K);_("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",et||"Unknown")}typeof K.getDefaultProps=="function"&&!K.getDefaultProps.isReactClassApproved&&_("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ot(T){{for(var K=Object.keys(T.props),ce=0;ce<K.length;ce++){var ge=K[ce];if(ge!=="children"&&ge!=="key"){yr(T),_("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ge),yr(null);break}}T.ref!==null&&(yr(T),_("Invalid attribute `ref` supplied to `React.Fragment`."),yr(null))}}function Dt(T,K,ce,ge,et,Ze){{var Ye=P(T);if(!Ye){var Ve="";(T===void 0||typeof T=="object"&&T!==null&&Object.keys(T).length===0)&&(Ve+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ht=xt(et);Ht?Ve+=Ht:Ve+=lt();var Et;T===null?Et="null":Re(T)?Et="array":T!==void 0&&T.$$typeof===e?(Et="<"+(Q(T.type)||"Unknown")+" />",Ve=" Did you accidentally export a JSX literal instead of a component?"):Et=typeof T,_("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Et,Ve)}var Tt=Lr(T,K,ce,et,Ze);if(Tt==null)return Tt;if(Ye){var Ut=K.children;if(Ut!==void 0)if(ge)if(Re(Ut)){for(var nn=0;nn<Ut.length;nn++)$t(Ut[nn],T);Object.freeze&&Object.freeze(Ut)}else _("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else $t(Ut,T)}return T===n?Ot(Tt):bt(Tt),Tt}}function Ft(T,K,ce){return Dt(T,K,ce,!0)}function Nt(T,K,ce){return Dt(T,K,ce,!1)}var It=Nt,mt=Ft;Ys.Fragment=n,Ys.jsx=It,Ys.jsxs=mt}()),Ys}var Qs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function w5(){if(i0)return Qs;i0=1;var t=ti,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,l){var d,f={},g=null,y=null;l!==void 0&&(g=""+l),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:a,key:g,ref:y,props:f,_owner:i.current}}return Qs.Fragment=r,Qs.jsx=o,Qs.jsxs=o,Qs}process.env.NODE_ENV==="production"?w5():v5();const b5=new f5;var _5={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function E5(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const Js=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Js(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Js(n)(r)}}}},S5=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,I)=>({...I,...C}),...e},o=!1;const a=new Set,c=new Set;let l;try{l=s.getStorage()}catch{}if(!l)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...C)},n,i);const d=Js(s.serialize),f=()=>{const C=s.partialize({...n()});let I;const _=d({state:C,version:s.version}).then(x=>l.setItem(s.name,x)).catch(x=>{I=x});if(I)throw I;return _},g=i.setState;i.setState=(C,I)=>{g(C,I),f()};const y=t((...C)=>{r(...C),f()},n,i);let b;const E=()=>{var C;if(!l)return;o=!1,a.forEach(_=>_(n()));const I=((C=s.onRehydrateStorage)==null?void 0:C.call(s,n()))||void 0;return Js(l.getItem.bind(l))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var x;return b=s.merge(_,(x=n())!=null?x:y),r(b,!0),f()}).then(()=>{I==null||I(b,void 0),o=!0,c.forEach(_=>_(b))}).catch(_=>{I==null||I(void 0,_)})};return i.persist={setOptions:C=>{s={...s,...C},C.getStorage&&(l=C.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>E(),hasHydrated:()=>o,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},E(),b||y},x5=(t,e)=>(r,n,i)=>{let s={storage:E5(()=>localStorage),partialize:E=>E,version:0,merge:(E,C)=>({...C,...E}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...E)},n,i);const d=()=>{const E=s.partialize({...n()});return l.setItem(s.name,{state:E,version:s.version})},f=i.setState;i.setState=(E,C)=>{f(E,C),d()};const g=t((...E)=>{r(...E),d()},n,i);let y;const b=()=>{var E,C;if(!l)return;o=!1,a.forEach(_=>{var x;return _((x=n())!=null?x:g)});const I=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(E=n())!=null?E:g))||void 0;return Js(l.getItem.bind(l))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var x;return y=s.merge(_,(x=n())!=null?x:g),r(y,!0),d()}).then(()=>{I==null||I(y,void 0),y=n(),o=!0,c.forEach(_=>_(y))}).catch(_=>{I==null||I(void 0,_)})};return i.persist={setOptions:E=>{s={...s,...E},E.storage&&(l=E.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(c.add(E),()=>{c.delete(E)})},s.skipHydration||b(),y||g},C5=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((_5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),S5(t,e)):x5(t,e),Ll=V3()(C5((t,e)=>({account:void 0,chainId:"aleo:1",setAccount:r=>{t({account:r})},setChainId:r=>{t({chainId:r})},onDisconnect:()=>{t({account:void 0,chainId:void 0}),b5.clear(),console.log("onDisconnect called!")}}),{name:"puzzle-wallet-store"})),O5=async()=>{const t=await Tr(),e=await t.getSession();if(!e||!t)return{error:"no session or connection"};try{const r=await t.request({topic:e.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getSelectedAccount"}});return Ll.setState({account:r.account}),r}catch(r){const n=r.message;return console.error("getAccount error",n),{error:n}}},D5=async({address:t})=>{const e=await Tr(),r=await e.getSession();if(!r||!e)return{error:"no session or connection"};try{return await e.request({topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getBalance",params:{assetId:void 0,address:t}}})}catch(n){const i=n.message;return console.error("getBalance error",i),{error:i}}},I5=async()=>{const t=await Tr();if(!t)throw new Error("call setConnection() first!");const e=await t.getSession();if(e)return console.log("Already connected!",e),e;try{const r=await t.connect({requiredNamespaces:{aleo:{methods:hl,chains:ta,events:fl}}});return pl.emit("session_change"),window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE"),r}catch(r){console.error("connect error",r.message)}},T5=async t=>{const e=await Tr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{error:"no session or connection"};const n=t==null?void 0:t.inputs.map(i=>typeof i=="string"?i:i.plaintext);try{return await e.request({topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"requestCreateEvent",params:{...t,inputs:n}}})}catch(i){const s=i.message;return console.error("createEvent error",s),{error:s}}},A5=async()=>{const t=await Tr(),e=await(t==null?void 0:t.getSession());if(!e||!t)return{error:"no session or connection"};try{return await t.request({topic:e.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"createSharedState",params:{}}})}catch(r){const n=r.message;return console.error("createSharedState error",n),{error:n}}},R5=async t=>{const e=await Tr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{error:"no session or connection"};try{return await e.request({topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"decrypt",params:{ciphertexts:t}}})}catch(n){return console.error("decrypt error",n.message),{error:n.message}}},P5=async()=>{const t=await Tr(),e=await(t==null?void 0:t.getSession());if(!e||!t)return e||Ll.getState().onDisconnect(),{error:"no session or connection"};try{try{await t.disconnect({reason:Mt("USER_DISCONNECTED"),topic:e.topic}),pl.emit("session_change")}catch(r){console.warn(r)}return Ll.getState().onDisconnect(),{}}catch(r){const n=r.message;return console.error("error disconnecting",n),{error:n}}},$5=async({id:t,address:e})=>{const r=await Tr(),n=await(r==null?void 0:r.getSession());if(!n||!r)return{event:void 0,error:"no session or connection"};const i=async()=>await r.request({topic:n.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getEvent",params:{id:t,address:e}}});try{return await i()}catch(s){const o=s.message;return console.error("getEvents error",o),{error:o}}},N5=async t=>{const e=await Tr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{events:void 0,error:"no session or connection"};(t==null?void 0:t.programId)===""&&(t.programId=void 0);const n=async(i=0)=>await e.request({topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getEvents",params:{filter:t,page:i}}});try{return await n()}catch(i){const s=i.message;return console.error("getEvents error",s),{error:s}}},L5=async t=>{const e=await Tr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{error:"no session or connection"};try{return await e.request({topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"importSharedState",params:{seed:t}}})}catch(n){const i=n.message;return console.error("importSharedState error",i),{error:i}}},M5=async({address:t,filter:e,page:r=0})=>{const n=await Tr(),i=await(n==null?void 0:n.getSession());if(!i||!n)return{error:"no session or connection"};const s=async(o=0)=>await n.request({topic:i.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getRecords",params:{address:t,filter:e,page:o}}});try{return await s()}catch(o){const a=o.message;return console.error("getRecords error",a),{error:a}}},k5=async({message:t,address:e})=>{const r=await Tr(),n=await(r==null?void 0:r.getSession());if(!n||!r)return{error:"no session or connection"};try{return await r.request({topic:n.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"requestSignature",params:{message:t,address:Cl.test(e??"")?e:void 0}}})}catch(i){const s=i.message;return console.error("signature error",s),{error:s}}},F5=20;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const va=window,Ml=va.ShadowRoot&&(va.ShadyCSS===void 0||va.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,kl=Symbol(),s0=new WeakMap;let o0=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==kl)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Ml&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=s0.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&s0.set(r,e))}return e}toString(){return this.cssText}};const U5=t=>new o0(typeof t=="string"?t:t+"",void 0,kl),ot=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new o0(r,t,kl)},j5=(t,e)=>{Ml?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const n=document.createElement("style"),i=va.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)})},a0=Ml?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return U5(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Fl;const wa=window,c0=wa.trustedTypes,B5=c0?c0.emptyScript:"",l0=wa.reactiveElementPolyfillSupport,Ul={toAttribute(t,e){switch(e){case Boolean:t=t?B5:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},u0=(t,e)=>e!==t&&(e==e||t==t),jl={attribute:!0,type:String,converter:Ul,reflect:!1,hasChanged:u0},Bl="finalized";let zi=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((r,n)=>{const i=this._$Ep(n,r);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,r=jl){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){return{get(){return this[r]},set(i){const s=this[e];this[r]=i,this.requestUpdate(e,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||jl}static finalize(){if(this.hasOwnProperty(Bl))return!1;this[Bl]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const i of n)this.createProperty(i,r[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(a0(i))}else e!==void 0&&r.push(a0(e));return r}static _$Ep(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var e;const r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return j5(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EO(e,r,n=jl){var i;const s=this.constructor._$Ep(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:Ul).toAttribute(r,n.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:Ul;this._$El=s,this[s]=a.fromAttribute(r,o.type),this._$El=null}}requestUpdate(e,r,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||u0)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(n)):this._$Ek()}catch(i){throw r=!1,this._$Ek(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};zi[Bl]=!0,zi.elementProperties=new Map,zi.elementStyles=[],zi.shadowRootOptions={mode:"open"},l0==null||l0({ReactiveElement:zi}),((Fl=wa.reactiveElementVersions)!==null&&Fl!==void 0?Fl:wa.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ql;const ba=window,Wi=ba.trustedTypes,d0=Wi?Wi.createPolicy("lit-html",{createHTML:t=>t}):void 0,zl="$lit$",An=`lit$${(Math.random()+"").slice(9)}$`,h0="?"+An,q5=`<${h0}>`,ai=document,Xs=()=>ai.createComment(""),eo=t=>t===null||typeof t!="object"&&typeof t!="function",f0=Array.isArray,z5=t=>f0(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Wl=`[ 	
\f\r]`,to=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,p0=/-->/g,g0=/>/g,ci=RegExp(`>|${Wl}(?:([^\\s"'>=/]+)(${Wl}*=${Wl}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),m0=/'/g,y0=/"/g,v0=/^(?:script|style|textarea|title)$/i,w0=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),ae=w0(1),kt=w0(2),li=Symbol.for("lit-noChange"),Vt=Symbol.for("lit-nothing"),b0=new WeakMap,ui=ai.createTreeWalker(ai,129,null,!1);function _0(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return d0!==void 0?d0.createHTML(e):e}const W5=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=to;for(let a=0;a<r;a++){const c=t[a];let l,d,f=-1,g=0;for(;g<c.length&&(o.lastIndex=g,d=o.exec(c),d!==null);)g=o.lastIndex,o===to?d[1]==="!--"?o=p0:d[1]!==void 0?o=g0:d[2]!==void 0?(v0.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=ci):d[3]!==void 0&&(o=ci):o===ci?d[0]===">"?(o=i??to,f=-1):d[1]===void 0?f=-2:(f=o.lastIndex-d[2].length,l=d[1],o=d[3]===void 0?ci:d[3]==='"'?y0:m0):o===y0||o===m0?o=ci:o===p0||o===g0?o=to:(o=ci,i=void 0);const y=o===ci&&t[a+1].startsWith("/>")?" ":"";s+=o===to?c+q5:f>=0?(n.push(l),c.slice(0,f)+zl+c.slice(f)+An+y):c+An+(f===-2?(n.push(void 0),a):y)}return[_0(t,s+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class ro{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,d]=W5(e,r);if(this.el=ro.createElement(l,n),ui.currentNode=this.el.content,r===2){const f=this.el.content,g=f.firstChild;g.remove(),f.append(...g.childNodes)}for(;(i=ui.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const f=[];for(const g of i.getAttributeNames())if(g.endsWith(zl)||g.startsWith(An)){const y=d[o++];if(f.push(g),y!==void 0){const b=i.getAttribute(y.toLowerCase()+zl).split(An),E=/([.?@])?(.*)/.exec(y);c.push({type:1,index:s,name:E[2],strings:b,ctor:E[1]==="."?H5:E[1]==="?"?Z5:E[1]==="@"?G5:_a})}else c.push({type:6,index:s})}for(const g of f)i.removeAttribute(g)}if(v0.test(i.tagName)){const f=i.textContent.split(An),g=f.length-1;if(g>0){i.textContent=Wi?Wi.emptyScript:"";for(let y=0;y<g;y++)i.append(f[y],Xs()),ui.nextNode(),c.push({type:2,index:++s});i.append(f[g],Xs())}}}else if(i.nodeType===8)if(i.data===h0)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(An,f+1))!==-1;)c.push({type:7,index:s}),f+=An.length-1}s++}}static createElement(e,r){const n=ai.createElement("template");return n.innerHTML=e,n}}function Vi(t,e,r=t,n){var i,s,o,a;if(e===li)return e;let c=n!==void 0?(i=r._$Co)===null||i===void 0?void 0:i[n]:r._$Cl;const l=eo(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((s=c==null?void 0:c._$AO)===null||s===void 0||s.call(c,!1),l===void 0?c=void 0:(c=new l(t),c._$AT(t,r,n)),n!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:r._$Cl=c),c!==void 0&&(e=Vi(t,c._$AS(t,e.values),c,n)),e}class V5{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:ai).importNode(n,!0);ui.currentNode=s;let o=ui.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let d;l.type===2?d=new no(o,o.nextSibling,this,e):l.type===1?d=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(d=new Y5(o,this,e)),this._$AV.push(d),l=i[++c]}a!==(l==null?void 0:l.index)&&(o=ui.nextNode(),a++)}return ui.currentNode=ai,s}v(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class no{constructor(e,r,n,i){var s;this.type=2,this._$AH=Vt,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cp=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Vi(this,e,r),eo(e)?e===Vt||e==null||e===""?(this._$AH!==Vt&&this._$AR(),this._$AH=Vt):e!==this._$AH&&e!==li&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):z5(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Vt&&eo(this._$AH)?this._$AA.nextSibling.data=e:this.$(ai.createTextNode(e)),this._$AH=e}g(e){var r;const{values:n,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=ro.createElement(_0(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.v(n);else{const o=new V5(s,this),a=o.u(this.options);o.v(n),this.$(a),this._$AH=o}}_$AC(e){let r=b0.get(e.strings);return r===void 0&&b0.set(e.strings,r=new ro(e)),r}T(e){f0(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new no(this.k(Xs()),this.k(Xs()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cp=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class _a{constructor(e,r,n,i,s){this.type=1,this._$AH=Vt,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Vt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=Vi(this,e,r,0),o=!eo(e)||e!==this._$AH&&e!==li,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Vi(this,a[n+c],r,c),l===li&&(l=this._$AH[c]),o||(o=!eo(l)||l!==this._$AH[c]),l===Vt?e=Vt:e!==Vt&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Vt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class H5 extends _a{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Vt?void 0:e}}const K5=Wi?Wi.emptyScript:"";let Z5=class extends _a{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Vt?this.element.setAttribute(this.name,K5):this.element.removeAttribute(this.name)}};class G5 extends _a{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){var n;if((e=(n=Vi(this,e,r,0))!==null&&n!==void 0?n:Vt)===li)return;const i=this._$AH,s=e===Vt&&i!==Vt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Vt&&(i===Vt||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}let Y5=class{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Vi(this,e)}};const E0=ba.litHtmlPolyfillSupport;E0==null||E0(ro,no),((ql=ba.litHtmlVersions)!==null&&ql!==void 0?ql:ba.litHtmlVersions=[]).push("2.8.0");const Q5=(t,e,r)=>{var n,i;const s=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:e;let o=s._$litPart$;if(o===void 0){const a=(i=r==null?void 0:r.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new no(e.insertBefore(Xs(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Vl,Hl;class Ge extends zi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const n=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=n.firstChild),n}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Q5(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return li}}Ge.finalized=!0,Ge._$litElement$=!0,(Vl=globalThis.litElementHydrateSupport)===null||Vl===void 0||Vl.call(globalThis,{LitElement:Ge});const S0=globalThis.litElementPolyfillSupport;S0==null||S0({LitElement:Ge}),((Hl=globalThis.litElementVersions)!==null&&Hl!==void 0?Hl:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rt=t=>e=>typeof e=="function"?((r,n)=>(customElements.define(r,n),n))(t,e):((r,n)=>{const{kind:i,elements:s}=n;return{kind:i,elements:s,finisher(o){customElements.define(r,o)}}})(t,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const J5=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}},X5=(t,e,r)=>{e.constructor.createProperty(r,t)};function Fe(t){return(e,r)=>r!==void 0?X5(t,e,r):J5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Sr(t){return Fe({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Kl;((Kl=window.HTMLSlotElement)===null||Kl===void 0?void 0:Kl.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e6={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},t6=t=>(...e)=>({_$litDirective$:t,values:e});class r6{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fn=t6(class extends r6{constructor(t){var e;if(super(t),t.type!==e6.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((r=this.nt)===null||r===void 0)&&r.has(s))&&this.it.add(s);return this.render(e)}const i=t.element.classList;this.it.forEach(s=>{s in e||(i.remove(s),this.it.delete(s))});for(const s in e){const o=!!e[s];o===this.it.has(s)||!((n=this.nt)===null||n===void 0)&&n.has(s)||(o?(i.add(s),this.it.add(s)):(i.remove(s),this.it.delete(s)))}return li}});function n6(t,e){t.indexOf(e)===-1&&t.push(e)}const x0=(t,e,r)=>Math.min(Math.max(r,t),e),Nr={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Ea=t=>typeof t=="number",Hi=t=>Array.isArray(t)&&!Ea(t[0]),i6=(t,e,r)=>{const n=e-t;return((r-t)%n+n)%n+t};function s6(t,e){return Hi(t)?t[i6(0,t.length,e)]:t}const C0=(t,e,r)=>-r*t+r*e+t,O0=()=>{},Rn=t=>t,Zl=(t,e,r)=>e-t===0?1:(r-t)/(e-t);function D0(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Zl(0,e,n);t.push(C0(r,1,i))}}function o6(t){const e=[0];return D0(e,t-1),e}function a6(t,e=o6(t.length),r=Rn){const n=t.length,i=n-e.length;return i>0&&D0(e,i),s=>{let o=0;for(;o<n-2&&!(s<e[o+1]);o++);let a=x0(0,1,Zl(e[o],e[o+1],s));return a=s6(r,o)(a),C0(t[o],t[o+1],a)}}const I0=t=>Array.isArray(t)&&Ea(t[0]),Gl=t=>typeof t=="object"&&!!t.createAnimation,Ki=t=>typeof t=="function",c6=t=>typeof t=="string",io={ms:t=>t*1e3,s:t=>t/1e3},T0=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,l6=1e-7,u6=12;function d6(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=T0(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>l6&&++a<u6);return o}function so(t,e,r,n){if(t===e&&r===n)return Rn;const i=s=>d6(s,0,1,t,r);return s=>s===0||s===1?s:T0(i(s),e,n)}const h6=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return x0(0,1,i/t)},A0={ease:so(.25,.1,.25,1),"ease-in":so(.42,0,1,1),"ease-in-out":so(.42,0,.58,1),"ease-out":so(0,0,.58,1)},f6=/\((.*?)\)/;function R0(t){if(Ki(t))return t;if(I0(t))return so(...t);if(A0[t])return A0[t];if(t.startsWith("steps")){const e=f6.exec(t);if(e){const r=e[1].split(",");return h6(parseFloat(r[0]),r[1].trim())}}return Rn}class P0{constructor(e,r=[0,1],{easing:n,duration:i=Nr.duration,delay:s=Nr.delay,endDelay:o=Nr.endDelay,repeat:a=Nr.repeat,offset:c,direction:l="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Rn,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((f,g)=>{this.resolve=f,this.reject=g}),n=n||Nr.easing,Gl(n)){const f=n.createAnimation(r);n=f.easing,r=f.keyframes||r,i=f.duration||i}this.repeat=a,this.easing=Hi(n)?Rn:R0(n),this.updateDuration(i);const d=a6(r,c,Hi(n)?n.map(R0):Rn);this.tick=f=>{var g;s=s;let y=0;this.pauseTime!==void 0?y=this.pauseTime:y=(f-this.startTime)*this.rate,this.t=y,y/=1e3,y=Math.max(y-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(y=this.totalDuration);const b=y/this.duration;let E=Math.floor(b),C=b%1;!C&&b>=1&&(C=1),C===1&&E--;const I=E%2;(l==="reverse"||l==="alternate"&&I||l==="alternate-reverse"&&!I)&&(C=1-C);const _=y>=this.totalDuration?1:Math.min(C,1),x=d(this.easing(_));e(x),this.pauseTime===void 0&&(this.playState==="finished"||y>=this.totalDuration+o)?(this.playState="finished",(g=this.resolve)===null||g===void 0||g.call(this,x)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}var Yl=function(){};process.env.NODE_ENV!=="production"&&(Yl=function(t,e){if(!t)throw new Error(e)});class p6{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const Ql=new WeakMap;function $0(t){return Ql.has(t)||Ql.set(t,{transforms:[],values:new Map}),Ql.get(t)}function g6(t,e){return t.has(e)||t.set(e,new p6),t.get(e)}const m6=["","X","Y","Z"],y6=["translate","scale","rotate","skew"],Sa={x:"translateX",y:"translateY",z:"translateZ"},N0={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},v6={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:N0,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Rn},skew:N0},oo=new Map,Jl=t=>`--motion-${t}`,xa=["x","y","z"];y6.forEach(t=>{m6.forEach(e=>{xa.push(t+e),oo.set(Jl(t+e),v6[t])})});const w6=(t,e)=>xa.indexOf(t)-xa.indexOf(e),b6=new Set(xa),L0=t=>b6.has(t),_6=(t,e)=>{Sa[e]&&(e=Sa[e]);const{transforms:r}=$0(t);n6(r,e),t.style.transform=E6(r)},E6=t=>t.sort(w6).reduce(S6,"").trim(),S6=(t,e)=>`${t} ${e}(var(${Jl(e)}))`,Xl=t=>t.startsWith("--"),M0=new Set;function x6(t){if(!M0.has(t)){M0.add(t);try{const{syntax:e,initialValue:r}=oo.has(t)?oo.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch{}}}const eu=(t,e)=>document.createElement("div").animate(t,e),k0={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{eu({opacity:[1]})}catch{return!1}return!0},finished:()=>!!eu({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{eu({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},tu={},Zi={};for(const t in k0)Zi[t]=()=>(tu[t]===void 0&&(tu[t]=k0[t]()),tu[t]);const C6=.015,O6=(t,e)=>{let r="";const n=Math.round(e/C6);for(let i=0;i<n;i++)r+=t(Zl(0,n-1,i))+", ";return r.substring(0,r.length-2)},F0=(t,e)=>Ki(t)?Zi.linearEasing()?`linear(${O6(t,e)})`:Nr.easing:I0(t)?D6(t):t,D6=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function I6(t,e){for(let r=0;r<t.length;r++)t[r]===null&&(t[r]=r?t[r-1]:e());return t}const T6=t=>Array.isArray(t)?t:[t];function ru(t){return Sa[t]&&(t=Sa[t]),L0(t)?Jl(t):t}const Ca={get:(t,e)=>{e=ru(e);let r=Xl(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&r!==0){const n=oo.get(e);n&&(r=n.initialValue)}return r},set:(t,e,r)=>{e=ru(e),Xl(e)?t.style.setProperty(e,r):t.style[e]=r}};function U0(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function A6(t,e){var r;let n=(e==null?void 0:e.toDefaultUnit)||Rn;const i=t[t.length-1];if(c6(i)){const s=((r=i.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(n=o=>o+s)}return n}function R6(){return window.__MOTION_DEV_TOOLS_RECORD}function P6(t,e,r,n={},i){const s=R6(),o=n.record!==!1&&s;let a,{duration:c=Nr.duration,delay:l=Nr.delay,endDelay:d=Nr.endDelay,repeat:f=Nr.repeat,easing:g=Nr.easing,persist:y=!1,direction:b,offset:E,allowWebkitAcceleration:C=!1}=n;const I=$0(t),_=L0(e);let x=Zi.waapi();_&&_6(t,e);const w=ru(e),S=g6(I.values,w),m=oo.get(w);return U0(S.animation,!(Gl(g)&&S.generator)&&n.record!==!1),()=>{const u=()=>{var P,q;return(q=(P=Ca.get(t,w))!==null&&P!==void 0?P:m==null?void 0:m.initialValue)!==null&&q!==void 0?q:0};let v=I6(T6(r),u);const L=A6(v,m);if(Gl(g)){const P=g.createAnimation(v,e!=="opacity",u,w,S);g=P.easing,v=P.keyframes||v,c=P.duration||c}if(Xl(w)&&(Zi.cssRegisterProperty()?x6(w):x=!1),_&&!Zi.linearEasing()&&(Ki(g)||Hi(g)&&g.some(Ki))&&(x=!1),x){m&&(v=v.map(Z=>Ea(Z)?m.toDefaultUnit(Z):Z)),v.length===1&&(!Zi.partialKeyframes()||o)&&v.unshift(u());const P={delay:io.ms(l),duration:io.ms(c),endDelay:io.ms(d),easing:Hi(g)?void 0:F0(g,c),direction:b,iterations:f+1,fill:"both"};a=t.animate({[w]:v,offset:E,easing:Hi(g)?g.map(Z=>F0(Z,c)):void 0},P),a.finished||(a.finished=new Promise((Z,Q)=>{a.onfinish=Z,a.oncancel=Q}));const q=v[v.length-1];a.finished.then(()=>{y||(Ca.set(t,w,q),a.cancel())}).catch(O0),C||(a.playbackRate=1.000001)}else if(i&&_)v=v.map(P=>typeof P=="string"?parseFloat(P):P),v.length===1&&v.unshift(parseFloat(u())),a=new i(P=>{Ca.set(t,w,L?L(P):P)},v,Object.assign(Object.assign({},n),{duration:c,easing:g}));else{const P=v[v.length-1];Ca.set(t,w,m&&Ea(P)?m.toDefaultUnit(P):P)}return o&&s(t,e,v,{duration:c,delay:l,easing:g,repeat:f,offset:E},"motion-one"),S.setAnimation(a),a}}const $6=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function N6(t,e){var r;return typeof t=="string"?e?((r=e[t])!==null&&r!==void 0||(e[t]=document.querySelectorAll(t)),t=e[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const L6=t=>t(),j0=(t,e,r=Nr.duration)=>new Proxy({animations:t.map(L6).filter(Boolean),duration:r,options:e},k6),M6=t=>t.animations[0],k6={get:(t,e)=>{const r=M6(t);switch(e){case"duration":return t.duration;case"currentTime":return io.s((r==null?void 0:r[e])||0);case"playbackRate":case"playState":return r==null?void 0:r[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(F6)).catch(O0)),t.finished;case"stop":return()=>{t.animations.forEach(n=>U0(n))};case"forEachNative":return n=>{t.animations.forEach(i=>n(i,t))};default:return typeof(r==null?void 0:r[e])>"u"?void 0:()=>t.animations.forEach(n=>n[e]())}},set:(t,e,r)=>{switch(e){case"currentTime":r=io.ms(r);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},F6=t=>t.finished;function U6(t,e,r){return Ki(t)?t(e,r):t}function j6(t){return function(r,n,i={}){r=N6(r);const s=r.length;Yl(!!s,"No valid element provided."),Yl(!!n,"No keyframes defined.");const o=[];for(let a=0;a<s;a++){const c=r[a];for(const l in n){const d=$6(i,l);d.delay=U6(d.delay,a,s);const f=P6(c,l,n[l],d,t);o.push(f)}}return j0(o,i,i.duration)}}const B6=j6(P0);function q6(t,e={}){return j0([()=>{const r=new P0(t,[0,1],e);return r.finished.catch(()=>{}),r}],e,e.duration)}function di(t,e,r){return(Ki(t)?q6:B6)(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mr=t=>t??Vt;var ao={},z6=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},B0={},Ar={};let nu;const W6=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ar.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},Ar.getSymbolTotalCodewords=function(e){return W6[e]},Ar.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},Ar.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');nu=e},Ar.isKanjiModeEnabled=function(){return typeof nu<"u"},Ar.toSJIS=function(e){return nu(e)};var Oa={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Oa);function q0(){this.buffer=[],this.length=0}q0.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var V6=q0;function co(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}co.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},co.prototype.get=function(t,e){return this.data[t*this.size+e]},co.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},co.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var H6=co,z0={};(function(t){const e=Ar.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(z0);var W0={};const K6=Ar.getSymbolSize,V0=7;W0.getPositions=function(e){const r=K6(e);return[[0,0],[r-V0,0],[0,r-V0]]};var H0={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,d=null;for(let f=0;f<s;f++){a=c=0,l=d=null;for(let g=0;g<s;g++){let y=i.get(f,g);y===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=y,a=1),y=i.get(g,f),y===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=y,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(l,d),d>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(d,l),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),d<c&&(c=d,a=l)}return a}})(H0);var Da={};const Pn=Oa,Ia=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ta=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Da.getBlocksCount=function(e,r){switch(r){case Pn.L:return Ia[(e-1)*4+0];case Pn.M:return Ia[(e-1)*4+1];case Pn.Q:return Ia[(e-1)*4+2];case Pn.H:return Ia[(e-1)*4+3];default:return}},Da.getTotalCodewordsCount=function(e,r){switch(r){case Pn.L:return Ta[(e-1)*4+0];case Pn.M:return Ta[(e-1)*4+1];case Pn.Q:return Ta[(e-1)*4+2];case Pn.H:return Ta[(e-1)*4+3];default:return}};var K0={},Aa={};const lo=new Uint8Array(512),Ra=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)lo[r]=e,Ra[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)lo[r]=lo[r-255]})(),Aa.log=function(e){if(e<1)throw new Error("log("+e+")");return Ra[e]},Aa.exp=function(e){return lo[e]},Aa.mul=function(e,r){return e===0||r===0?0:lo[Ra[e]+Ra[r]]},function(t){const e=Aa;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(K0);const Z0=K0;function iu(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}iu.prototype.initialize=function(e){this.degree=e,this.genPoly=Z0.generateECPolynomial(this.degree)},iu.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=Z0.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var Z6=iu,G0={},$n={},su={};su.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var tn={};const Y0="[0-9]+",G6="[A-Z $%*+\\-./:]+";let uo="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";uo=uo.replace(/u/g,"\\u");const Y6="(?:(?![A-Z0-9 $%*+\\-./:]|"+uo+`)(?:.|[\r
]))+`;tn.KANJI=new RegExp(uo,"g"),tn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),tn.BYTE=new RegExp(Y6,"g"),tn.NUMERIC=new RegExp(Y0,"g"),tn.ALPHANUMERIC=new RegExp(G6,"g");const Q6=new RegExp("^"+uo+"$"),J6=new RegExp("^"+Y0+"$"),X6=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");tn.testKanji=function(e){return Q6.test(e)},tn.testNumeric=function(e){return J6.test(e)},tn.testAlphanumeric=function(e){return X6.test(e)},function(t){const e=su,r=tn;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}}($n),function(t){const e=Ar,r=Da,n=Oa,i=$n,s=su,o=7973,a=e.getBCHDigit(o);function c(g,y,b){for(let E=1;E<=40;E++)if(y<=t.getCapacity(E,b,g))return E}function l(g,y){return i.getCharCountIndicator(g,y)+4}function d(g,y){let b=0;return g.forEach(function(E){const C=l(E.mode,y);b+=C+E.getBitsLength()}),b}function f(g,y){for(let b=1;b<=40;b++)if(d(g,b)<=t.getCapacity(b,y,i.MIXED))return b}t.from=function(y,b){return s.isValid(y)?parseInt(y,10):b},t.getCapacity=function(y,b,E){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=i.BYTE);const C=e.getSymbolTotalCodewords(y),I=r.getTotalCodewordsCount(y,b),_=(C-I)*8;if(E===i.MIXED)return _;const x=_-l(E,y);switch(E){case i.NUMERIC:return Math.floor(x/10*3);case i.ALPHANUMERIC:return Math.floor(x/11*2);case i.KANJI:return Math.floor(x/13);case i.BYTE:default:return Math.floor(x/8)}},t.getBestVersionForData=function(y,b){let E;const C=n.from(b,n.M);if(Array.isArray(y)){if(y.length>1)return f(y,C);if(y.length===0)return 1;E=y[0]}else E=y;return c(E.mode,E.getLength(),C)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let b=y<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return y<<12|b}}(G0);var Q0={};const ou=Ar,J0=1335,e4=21522,X0=ou.getBCHDigit(J0);Q0.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;ou.getBCHDigit(i)-X0>=0;)i^=J0<<ou.getBCHDigit(i)-X0;return(n<<10|i)^e4};var eg={};const t4=$n;function Gi(t){this.mode=t4.NUMERIC,this.data=t.toString()}Gi.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},Gi.prototype.getLength=function(){return this.data.length},Gi.prototype.getBitsLength=function(){return Gi.getBitsLength(this.data.length)},Gi.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var r4=Gi;const n4=$n,au=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Yi(t){this.mode=n4.ALPHANUMERIC,this.data=t}Yi.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},Yi.prototype.getLength=function(){return this.data.length},Yi.prototype.getBitsLength=function(){return Yi.getBitsLength(this.data.length)},Yi.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=au.indexOf(this.data[r])*45;n+=au.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(au.indexOf(this.data[r]),6)};var i4=Yi,s4=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const o4=s4,a4=$n;function Qi(t){this.mode=a4.BYTE,typeof t=="string"&&(t=o4(t)),this.data=new Uint8Array(t)}Qi.getBitsLength=function(e){return e*8},Qi.prototype.getLength=function(){return this.data.length},Qi.prototype.getBitsLength=function(){return Qi.getBitsLength(this.data.length)},Qi.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var c4=Qi;const l4=$n,u4=Ar;function Ji(t){this.mode=l4.KANJI,this.data=t}Ji.getBitsLength=function(e){return e*13},Ji.prototype.getLength=function(){return this.data.length},Ji.prototype.getBitsLength=function(){return Ji.getBitsLength(this.data.length)},Ji.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=u4.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var d4=Ji,tg={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,d,f,g,y,b,E,C;!a.empty();){c=a.pop(),l=c.value,f=c.cost,g=r[l]||{};for(d in g)g.hasOwnProperty(d)&&(y=g[d],b=f+y,E=o[d],C=typeof o[d]>"u",(C||E>b)&&(o[d]=b,a.push(d,b),s[d]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var I=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(I)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(tg);var h4=tg.exports;(function(t){const e=$n,r=r4,n=i4,i=c4,s=d4,o=tn,a=Ar,c=h4;function l(I){return unescape(encodeURIComponent(I)).length}function d(I,_,x){const w=[];let S;for(;(S=I.exec(x))!==null;)w.push({data:S[0],index:S.index,mode:_,length:S[0].length});return w}function f(I){const _=d(o.NUMERIC,e.NUMERIC,I),x=d(o.ALPHANUMERIC,e.ALPHANUMERIC,I);let w,S;return a.isKanjiModeEnabled()?(w=d(o.BYTE,e.BYTE,I),S=d(o.KANJI,e.KANJI,I)):(w=d(o.BYTE_KANJI,e.BYTE,I),S=[]),_.concat(x,w,S).sort(function(u,v){return u.index-v.index}).map(function(u){return{data:u.data,mode:u.mode,length:u.length}})}function g(I,_){switch(_){case e.NUMERIC:return r.getBitsLength(I);case e.ALPHANUMERIC:return n.getBitsLength(I);case e.KANJI:return s.getBitsLength(I);case e.BYTE:return i.getBitsLength(I)}}function y(I){return I.reduce(function(_,x){const w=_.length-1>=0?_[_.length-1]:null;return w&&w.mode===x.mode?(_[_.length-1].data+=x.data,_):(_.push(x),_)},[])}function b(I){const _=[];for(let x=0;x<I.length;x++){const w=I[x];switch(w.mode){case e.NUMERIC:_.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:_.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:_.push([w,{data:w.data,mode:e.BYTE,length:l(w.data)}]);break;case e.BYTE:_.push([{data:w.data,mode:e.BYTE,length:l(w.data)}])}}return _}function E(I,_){const x={},w={start:{}};let S=["start"];for(let m=0;m<I.length;m++){const u=I[m],v=[];for(let L=0;L<u.length;L++){const P=u[L],q=""+m+L;v.push(q),x[q]={node:P,lastCount:0},w[q]={};for(let Z=0;Z<S.length;Z++){const Q=S[Z];x[Q]&&x[Q].node.mode===P.mode?(w[Q][q]=g(x[Q].lastCount+P.length,P.mode)-g(x[Q].lastCount,P.mode),x[Q].lastCount+=P.length):(x[Q]&&(x[Q].lastCount=P.length),w[Q][q]=g(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,_))}}S=v}for(let m=0;m<S.length;m++)w[S[m]].end=0;return{map:w,table:x}}function C(I,_){let x;const w=e.getBestModeForData(I);if(x=e.from(_,w),x!==e.BYTE&&x.bit<w.bit)throw new Error('"'+I+'" cannot be encoded with mode '+e.toString(x)+`.
 Suggested mode is: `+e.toString(w));switch(x===e.KANJI&&!a.isKanjiModeEnabled()&&(x=e.BYTE),x){case e.NUMERIC:return new r(I);case e.ALPHANUMERIC:return new n(I);case e.KANJI:return new s(I);case e.BYTE:return new i(I)}}t.fromArray=function(_){return _.reduce(function(x,w){return typeof w=="string"?x.push(C(w,null)):w.data&&x.push(C(w.data,w.mode)),x},[])},t.fromString=function(_,x){const w=f(_,a.isKanjiModeEnabled()),S=b(w),m=E(S,x),u=c.find_path(m.map,"start","end"),v=[];for(let L=1;L<u.length-1;L++)v.push(m.table[u[L]].node);return t.fromArray(y(v))},t.rawSplit=function(_){return t.fromArray(f(_,a.isKanjiModeEnabled()))}})(eg);const Pa=Ar,cu=Oa,f4=V6,p4=H6,g4=z0,m4=W0,lu=H0,uu=Da,y4=Z6,$a=G0,v4=Q0,w4=$n,du=eg;function b4(t,e){const r=t.size,n=m4.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function _4(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function E4(t,e){const r=g4.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function S4(t,e){const r=t.size,n=$a.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function hu(t,e,r){const n=t.size,i=v4.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function x4(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function C4(t,e,r){const n=new f4;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),w4.getCharCountIndicator(c.mode,t)),c.write(n)});const i=Pa.getSymbolTotalCodewords(t),s=uu.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return O4(n,t,e)}function O4(t,e,r){const n=Pa.getSymbolTotalCodewords(e),i=uu.getTotalCodewordsCount(e,r),s=n-i,o=uu.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),d=Math.floor(s/o),f=d+1,g=l-d,y=new y4(g);let b=0;const E=new Array(o),C=new Array(o);let I=0;const _=new Uint8Array(t.buffer);for(let u=0;u<o;u++){const v=u<c?d:f;E[u]=_.slice(b,b+v),C[u]=y.encode(E[u]),b+=v,I=Math.max(I,v)}const x=new Uint8Array(n);let w=0,S,m;for(S=0;S<I;S++)for(m=0;m<o;m++)S<E[m].length&&(x[w++]=E[m][S]);for(S=0;S<g;S++)for(m=0;m<o;m++)x[w++]=C[m][S];return x}function D4(t,e,r,n){let i;if(Array.isArray(t))i=du.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const d=du.rawSplit(t);l=$a.getBestVersionForData(d,r)}i=du.fromString(t,l||40)}else throw new Error("Invalid data");const s=$a.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=C4(e,r,i),a=Pa.getSymbolSize(e),c=new p4(a);return b4(c,e),_4(c),E4(c,e),hu(c,r,0),e>=7&&S4(c,e),x4(c,o),isNaN(n)&&(n=lu.getBestMask(c,hu.bind(null,c,r))),lu.applyMask(n,c),hu(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}B0.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=cu.M,i,s;return typeof r<"u"&&(n=cu.from(r.errorCorrectionLevel,cu.M),i=$a.from(r.version),s=lu.from(r.maskPattern),r.toSJISFunc&&Pa.setToSJISFunction(r.toSJISFunc)),D4(e,i,n,s)};var rg={},fu={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),d=s.margin*c,f=[s.color.light,s.color.dark];for(let g=0;g<l;g++)for(let y=0;y<l;y++){let b=(g*l+y)*4,E=s.color.light;if(g>=d&&y>=d&&g<l-d&&y<l-d){const C=Math.floor((g-d)/c),I=Math.floor((y-d)/c);E=f[a[C*o+I]?1:0]}n[b++]=E.r,n[b++]=E.g,n[b++]=E.b,n[b]=E.a}}})(fu),function(t){const e=fu;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const d=e.getImageWidth(s.modules.size,c),f=l.getContext("2d"),g=f.createImageData(d,d);return e.qrToImageData(g.data,s,c),r(f,l,d),f.putImageData(g,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),d=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(d,f.quality)}}(rg);var ng={};const I4=fu;function ig(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function pu(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function T4(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?pu("M",c+r,.5+l+r):pu("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=pu("h",o),o=0)):i++}return n}ng.render=function(e,r,n){const i=I4.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+ig(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+ig(i.color.dark,"stroke")+' d="'+T4(o,s,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,g),g};const A4=z6,gu=B0,sg=rg,R4=ng;function mu(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!A4())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const d=gu.create(r,n);c(t(d,e,n))}catch(d){l(d)}})}try{const c=gu.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}ao.create=gu.create,ao.toCanvas=mu.bind(null,sg.render),ao.toDataURL=mu.bind(null,sg.renderToDataURL),ao.toString=mu.bind(null,function(t,e,r){return R4.render(t,r)});var P4=Object.defineProperty,og=Object.getOwnPropertySymbols,$4=Object.prototype.hasOwnProperty,N4=Object.prototype.propertyIsEnumerable,ag=(t,e,r)=>e in t?P4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yu=(t,e)=>{for(var r in e||(e={}))$4.call(e,r)&&ag(t,r,e[r]);if(og)for(var r of og(e))N4.call(e,r)&&ag(t,r,e[r]);return t};function L4(){var t;const e=(t=bn.state.themeMode)!=null?t:"dark",r={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":r.foreground[1],"--wcm-color-fg-2":r.foreground[2],"--wcm-color-fg-3":r.foreground[3],"--wcm-color-bg-1":r.background[1],"--wcm-color-bg-2":r.background[2],"--wcm-color-bg-3":r.background[3],"--wcm-color-overlay":r.overlay}}function cg(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const Xe={getPreset(t){return cg()[t]},setTheme(){const t=document.querySelector(":root"),{themeVariables:e}=bn.state;if(t){const r=yu(yu(yu({},L4()),cg()),e);Object.entries(r).forEach(([n,i])=>t.style.setProperty(n,i))}},globalCss:ot`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},M4=ot`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var k4=Object.defineProperty,F4=Object.getOwnPropertyDescriptor,Xi=(t,e,r,n)=>{for(var i=n>1?void 0:n?F4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&k4(e,r,i),i};let Nn=class extends Ge{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const t={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),ae`<button class="${fn(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};Nn.styles=[Xe.globalCss,M4],Xi([Fe({type:Boolean})],Nn.prototype,"disabled",2),Xi([Fe()],Nn.prototype,"iconLeft",2),Xi([Fe()],Nn.prototype,"iconRight",2),Xi([Fe()],Nn.prototype,"onClick",2),Xi([Fe()],Nn.prototype,"variant",2),Nn=Xi([rt("wcm-button")],Nn);const U4=ot`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var j4=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,vu=(t,e,r,n)=>{for(var i=n>1?void 0:n?B4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&j4(e,r,i),i};let ho=class extends Ge{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"wcm-secondary":this.variant==="secondary"};return ae`<button ?disabled="${this.disabled}" class="${fn(t)}"><slot></slot></button>`}};ho.styles=[Xe.globalCss,U4],vu([Fe({type:Boolean})],ho.prototype,"disabled",2),vu([Fe()],ho.prototype,"variant",2),ho=vu([rt("wcm-button-big")],ho);const q4=ot`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var z4=Object.defineProperty,W4=Object.getOwnPropertyDescriptor,V4=(t,e,r,n)=>{for(var i=n>1?void 0:n?W4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&z4(e,r,i),i};let wu=class extends Ge{render(){return ae`<div><slot></slot></div>`}};wu.styles=[Xe.globalCss,q4],wu=V4([rt("wcm-info-footer")],wu);const at={CROSS_ICON:kt`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:kt`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:kt`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:kt`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:kt`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:kt`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:kt`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:kt`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:kt`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:kt`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:kt`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:kt`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:kt`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:kt`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:kt`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:kt`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:kt`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:kt`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},H4=ot`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var K4=Object.defineProperty,Z4=Object.getOwnPropertyDescriptor,G4=(t,e,r,n)=>{for(var i=n>1?void 0:n?Z4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&K4(e,r,i),i};let bu=class extends Ge{render(){return ae`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${at.WALLET_CONNECT_LOGO} <button @click="${qn.close}">${at.CROSS_ICON}</button></div>`}};bu.styles=[Xe.globalCss,H4],bu=G4([rt("wcm-modal-backcard")],bu);const Y4=ot`main{padding:20px;padding-top:0;width:100%}`;var Q4=Object.defineProperty,J4=Object.getOwnPropertyDescriptor,X4=(t,e,r,n)=>{for(var i=n>1?void 0:n?J4(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Q4(e,r,i),i};let _u=class extends Ge{render(){return ae`<main><slot></slot></main>`}};_u.styles=[Xe.globalCss,Y4],_u=X4([rt("wcm-modal-content")],_u);const eS=ot`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var tS=Object.defineProperty,rS=Object.getOwnPropertyDescriptor,nS=(t,e,r,n)=>{for(var i=n>1?void 0:n?rS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&tS(e,r,i),i};let Eu=class extends Ge{render(){return ae`<footer><slot></slot></footer>`}};Eu.styles=[Xe.globalCss,eS],Eu=nS([rt("wcm-modal-footer")],Eu);const iS=ot`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var sS=Object.defineProperty,oS=Object.getOwnPropertyDescriptor,fo=(t,e,r,n)=>{for(var i=n>1?void 0:n?oS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&sS(e,r,i),i};let hi=class extends Ge{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return ae`<button class="wcm-back-btn" @click="${Rt.goBack}">${at.BACK_ICON}</button>`}actionBtnTemplate(){return ae`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"wcm-border":this.border},e=Rt.state.history.length>1,r=this.title?ae`<wcm-text variant="big-bold">${this.title}</wcm-text>`:ae`<slot></slot>`;return ae`<header class="${fn(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};hi.styles=[Xe.globalCss,iS],fo([Fe()],hi.prototype,"title",2),fo([Fe()],hi.prototype,"onAction",2),fo([Fe()],hi.prototype,"actionIcon",2),fo([Fe({type:Boolean})],hi.prototype,"border",2),hi=fo([rt("wcm-modal-header")],hi);const Ie={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletIcon({id:t,image_id:e}){const{walletImages:r}=Cr.state;return r!=null&&r[t]?r[t]:e?wr.getWalletImageUrl(e):""},getWalletName(t,e=!1){return e&&t.length>8?`${t.substring(0,8)}..`:t},isMobileAnimation(){return window.innerWidth<=Ie.MOBILE_BREAKPOINT},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,ve.wait(3e3)])},getErrorMessage(t){return t instanceof Error?t.message:"Unknown Error"},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},handleMobileLinking(t){const{walletConnectUri:e}=jt.state,{mobile:r,name:n}=t,i=r==null?void 0:r.native,s=r==null?void 0:r.universal;Ie.setRecentWallet(t);function o(a){let c="";i?c=ve.formatUniversalUrl(i,a,n):s&&(c=ve.formatNativeUrl(s,a,n)),ve.openHref(c,"_self")}e&&o(e)},handleAndroidLinking(){const{walletConnectUri:t}=jt.state;t&&(ve.setWalletConnectAndroidDeepLink(t),ve.openHref(t,"_self"))},async handleUriCopy(){const{walletConnectUri:t}=jt.state;if(t)try{await navigator.clipboard.writeText(t),_n.openToast("Link copied","success")}catch{_n.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:t}=Cr.state,e=Object.values(t??{});return Object.values(e)},truncate(t,e=8){return t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`},setRecentWallet(t){try{localStorage.setItem(Ie.WCM_RECENT_WALLET_DATA,JSON.stringify(t))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const t=localStorage.getItem(Ie.WCM_RECENT_WALLET_DATA);return t?JSON.parse(t):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(t,e){return t.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){ve.openHref(Ie.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:t,mobile:e}=ve.getWalletRouterData(),r=!!(t!=null&&t.native),n=!!(t!=null&&t.universal),i=!!(e!=null&&e.native)||!!(e!=null&&e.universal);return{isDesktop:r,isMobile:i,isWeb:n}},goToConnectingView(t){Rt.setData({Wallet:t});const e=ve.isMobile(),{isDesktop:r,isWeb:n,isMobile:i}=Ie.getCachedRouterWalletPlatforms();e?i?Rt.push("MobileConnecting"):n?Rt.push("WebConnecting"):Rt.push("InstallWallet"):r?Rt.push("DesktopConnecting"):n?Rt.push("WebConnecting"):i?Rt.push("MobileQrcodeConnecting"):Rt.push("InstallWallet")}},aS=ot`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var cS=Object.defineProperty,lS=Object.getOwnPropertyDescriptor,Su=(t,e,r,n)=>{for(var i=n>1?void 0:n?lS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&cS(e,r,i),i};let po=class extends Ge{constructor(){super(),this.view=Rt.state.view,this.prevView=Rt.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=Rt.subscribe(t=>{this.view!==t.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([t])=>{const e=`${t.contentRect.height}px`;this.oldHeight!=="0px"&&di(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;(t=this.unsubscribe)==null||t.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return Ie.getShadowRootElement(this,".wcm-router")}get contentEl(){return Ie.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return ae`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return ae`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return ae`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return ae`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return ae`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return ae`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return ae`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return ae`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return ae`<div>Not Found</div>`}}async onChangeRoute(){await di(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=Rt.state.view,di(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return ae`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};po.styles=[Xe.globalCss,aS],Su([Sr()],po.prototype,"view",2),Su([Sr()],po.prototype,"prevView",2),po=Su([rt("wcm-modal-router")],po);const uS=ot`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var dS=Object.defineProperty,hS=Object.getOwnPropertyDescriptor,lg=(t,e,r,n)=>{for(var i=n>1?void 0:n?hS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&dS(e,r,i),i};let Na=class extends Ge{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=_n.subscribe(t=>{t.open?(this.open=!0,this.timeout=setTimeout(()=>_n.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var t;(t=this.unsubscribe)==null||t.call(this),clearTimeout(this.timeout),_n.closeToast()}render(){const{message:t,variant:e}=_n.state,r={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?ae`<div class="${fn(r)}">${e==="success"?at.CHECKMARK_ICON:null} ${e==="error"?at.CROSS_ICON:null}<wcm-text variant="small-regular">${t}</wcm-text></div>`:null}};Na.styles=[Xe.globalCss,uS],lg([Sr()],Na.prototype,"open",2),Na=lg([rt("wcm-modal-toast")],Na);const fS=.1,ug=2.5,pn=7;function xu(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+fS}function pS(t,e){const r=Array.prototype.slice.call(ao.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const gS={generate(t,e,r){const n="#141414",i="#ffffff",s=[],o=pS(t,"Q"),a=e/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach(({x:b,y:E})=>{const C=(o.length-pn)*a*b,I=(o.length-pn)*a*E,_=.45;for(let x=0;x<c.length;x+=1){const w=a*(pn-x*2);s.push(kt`<rect fill="${x%2===0?n:i}" height="${w}" rx="${w*_}" ry="${w*_}" width="${w}" x="${C+a*x}" y="${I+a*x}">`)}});const l=Math.floor((r+25)/a),d=o.length/2-l/2,f=o.length/2+l/2-1,g=[];o.forEach((b,E)=>{b.forEach((C,I)=>{if(o[E][I]&&!(E<pn&&I<pn||E>o.length-(pn+1)&&I<pn||E<pn&&I>o.length-(pn+1))&&!(E>d&&E<f&&I>d&&I<f)){const _=E*a+a/2,x=I*a+a/2;g.push([_,x])}})});const y={};return g.forEach(([b,E])=>{y[b]?y[b].push(E):y[b]=[E]}),Object.entries(y).map(([b,E])=>{const C=E.filter(I=>E.every(_=>!xu(I,_,a)));return[Number(b),C]}).forEach(([b,E])=>{E.forEach(C=>{s.push(kt`<circle cx="${b}" cy="${C}" fill="${n}" r="${a/ug}">`)})}),Object.entries(y).filter(([b,E])=>E.length>1).map(([b,E])=>{const C=E.filter(I=>E.some(_=>xu(I,_,a)));return[Number(b),C]}).map(([b,E])=>{E.sort((I,_)=>I<_?-1:1);const C=[];for(const I of E){const _=C.find(x=>x.some(w=>xu(I,w,a)));_?_.push(I):C.push([I])}return[b,C.map(I=>[I[0],I[I.length-1]])]}).forEach(([b,E])=>{E.forEach(([C,I])=>{s.push(kt`<line x1="${b}" x2="${b}" y1="${C}" y2="${I}" stroke="${n}" stroke-width="${a/(ug/2)}" stroke-linecap="round">`)})}),s}},mS=ot`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var yS=Object.defineProperty,vS=Object.getOwnPropertyDescriptor,es=(t,e,r,n)=>{for(var i=n>1?void 0:n?vS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&yS(e,r,i),i};let gn=class extends Ge{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const t=bn.state.themeMode==="light"?this.size:this.size-36;return kt`<svg height="${t}" width="${t}">${gS.generate(this.uri,t,t/4)}</svg>`}render(){const t={"wcm-dark":bn.state.themeMode==="dark"};return ae`<div style="${`width: ${this.size}px`}" class="${fn(t)}">${this.walletId||this.imageUrl?ae`<wcm-wallet-image walletId="${mr(this.walletId)}" imageId="${mr(this.imageId)}" imageUrl="${mr(this.imageUrl)}"></wcm-wallet-image>`:at.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};gn.styles=[Xe.globalCss,mS],es([Fe()],gn.prototype,"uri",2),es([Fe({type:Number})],gn.prototype,"size",2),es([Fe()],gn.prototype,"imageId",2),es([Fe()],gn.prototype,"walletId",2),es([Fe()],gn.prototype,"imageUrl",2),gn=es([rt("wcm-qrcode")],gn);const wS=ot`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var bS=Object.defineProperty,_S=Object.getOwnPropertyDescriptor,dg=(t,e,r,n)=>{for(var i=n>1?void 0:n?_S(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&bS(e,r,i),i};let La=class extends Ge{constructor(){super(...arguments),this.onChange=()=>null}render(){return ae`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${at.SEARCH_ICON}`}};La.styles=[Xe.globalCss,wS],dg([Fe()],La.prototype,"onChange",2),La=dg([rt("wcm-search-input")],La);const ES=ot`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var SS=Object.defineProperty,xS=Object.getOwnPropertyDescriptor,CS=(t,e,r,n)=>{for(var i=n>1?void 0:n?xS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&SS(e,r,i),i};let Cu=class extends Ge{render(){return ae`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Cu.styles=[Xe.globalCss,ES],Cu=CS([rt("wcm-spinner")],Cu);const OS=ot`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var DS=Object.defineProperty,IS=Object.getOwnPropertyDescriptor,Ou=(t,e,r,n)=>{for(var i=n>1?void 0:n?IS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&DS(e,r,i),i};let go=class extends Ge{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const t={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return ae`<span><slot class="${fn(t)}"></slot></span>`}};go.styles=[Xe.globalCss,OS],Ou([Fe()],go.prototype,"variant",2),Ou([Fe()],go.prototype,"color",2),go=Ou([rt("wcm-text")],go);const TS=ot`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var AS=Object.defineProperty,RS=Object.getOwnPropertyDescriptor,Ln=(t,e,r,n)=>{for(var i=n>1?void 0:n?RS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&AS(e,r,i),i};let rn=class extends Ge{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?ae`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?ae`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){ed.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var t;return ae`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${mr(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(t=this.label)!=null?t:Ie.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};rn.styles=[Xe.globalCss,TS],Ln([Fe()],rn.prototype,"onClick",2),Ln([Fe()],rn.prototype,"name",2),Ln([Fe()],rn.prototype,"walletId",2),Ln([Fe()],rn.prototype,"label",2),Ln([Fe()],rn.prototype,"imageId",2),Ln([Fe({type:Boolean})],rn.prototype,"installed",2),Ln([Fe({type:Boolean})],rn.prototype,"recent",2),rn=Ln([rt("wcm-wallet-button")],rn);const PS=ot`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var $S=Object.defineProperty,NS=Object.getOwnPropertyDescriptor,Ma=(t,e,r,n)=>{for(var i=n>1?void 0:n?NS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&$S(e,r,i),i};let ts=class extends Ge{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var t;const e=(t=this.imageUrl)!=null&&t.length?this.imageUrl:Ie.getWalletIcon({id:this.walletId,image_id:this.imageId});return ae`${e.length?ae`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:at.WALLET_PLACEHOLDER}`}};ts.styles=[Xe.globalCss,PS],Ma([Fe()],ts.prototype,"walletId",2),Ma([Fe()],ts.prototype,"imageId",2),Ma([Fe()],ts.prototype,"imageUrl",2),ts=Ma([rt("wcm-wallet-image")],ts);var LS=Object.defineProperty,MS=Object.getOwnPropertyDescriptor,hg=(t,e,r,n)=>{for(var i=n>1?void 0:n?MS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&LS(e,r,i),i};let Du=class extends Ge{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(t){try{t!=null&&t.length&&await Promise.all(t.map(async e=>Ie.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",t)}}async preloadListings(){if(Cr.state.enableExplorer){await wr.getRecomendedWallets(),jt.setIsDataLoaded(!0);const{recomendedWallets:t}=wr.state,e=t.map(r=>Ie.getWalletIcon(r));await this.loadImages(e)}else jt.setIsDataLoaded(!0)}async preloadCustomImages(){const t=Ie.getCustomImageUrls();await this.loadImages(t)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(t){console.error(t),_n.openToast("Failed preloading","error")}}};hg([Sr()],Du.prototype,"preload",2),Du=hg([rt("wcm-explorer-context")],Du);var kS=Object.defineProperty,FS=Object.getOwnPropertyDescriptor,US=(t,e,r,n)=>{for(var i=n>1?void 0:n?FS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&kS(e,r,i),i};let fg=class extends Ge{constructor(){super(),this.unsubscribeTheme=void 0,Xe.setTheme(),this.unsubscribeTheme=bn.subscribe(Xe.setTheme)}disconnectedCallback(){var t;(t=this.unsubscribeTheme)==null||t.call(this)}};fg=US([rt("wcm-theme-context")],fg);const jS=ot`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var BS=Object.defineProperty,qS=Object.getOwnPropertyDescriptor,zS=(t,e,r,n)=>{for(var i=n>1?void 0:n?qS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&BS(e,r,i),i};let Iu=class extends Ge{onGoToQrcode(){Rt.push("Qrcode")}render(){const{recomendedWallets:t}=wr.state,e=[...t,...t],r=ve.RECOMMENDED_WALLET_AMOUNT*2;return ae`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${at.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${at.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map((n,i)=>{const s=e[i%e.length];return s?ae`<wcm-wallet-image walletId="${s.id}" imageId="${s.image_id}"></wcm-wallet-image>`:at.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${Ie.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Iu.styles=[Xe.globalCss,jS],Iu=zS([rt("wcm-android-wallet-selection")],Iu);const WS=ot`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var VS=Object.defineProperty,HS=Object.getOwnPropertyDescriptor,rs=(t,e,r,n)=>{for(var i=n>1?void 0:n?HS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&VS(e,r,i),i};let Mn=class extends Ge{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var t,e;const r=(e=(t=bn.state.themeVariables)==null?void 0:t["--wcm-wallet-icon-large-border-radius"])!=null?e:Xe.getPreset("--wcm-wallet-icon-large-border-radius");let n=0;r.includes("%")?n=88/100*parseInt(r,10):n=parseInt(r,10),n*=1.17;const i=317-n*1.57,s=425-n*1.8;return ae`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${n}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${i}" stroke-dashoffset="${s}"></use></svg>`}render(){const t={"wcm-error":this.isError,"wcm-stale":this.isStale};return ae`<div class="${fn(t)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${mr(this.walletId)}" imageId="${mr(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Mn.styles=[Xe.globalCss,WS],rs([Fe()],Mn.prototype,"walletId",2),rs([Fe()],Mn.prototype,"imageId",2),rs([Fe({type:Boolean})],Mn.prototype,"isError",2),rs([Fe({type:Boolean})],Mn.prototype,"isStale",2),rs([Fe()],Mn.prototype,"label",2),Mn=rs([rt("wcm-connector-waiting")],Mn);const ns={manualWallets(){var t,e;const{mobileWallets:r,desktopWallets:n}=Cr.state,i=(t=ns.recentWallet())==null?void 0:t.id,s=ve.isMobile()?r:n,o=s==null?void 0:s.filter(a=>i!==a.id);return(e=ve.isMobile()?o==null?void 0:o.map(({id:a,name:c,links:l})=>({id:a,name:c,mobile:l,links:l})):o==null?void 0:o.map(({id:a,name:c,links:l})=>({id:a,name:c,desktop:l,links:l})))!=null?e:[]},recentWallet(){return Ie.getRecentWallet()},recomendedWallets(t=!1){var e;const r=t||(e=ns.recentWallet())==null?void 0:e.id,{recomendedWallets:n}=wr.state;return n.filter(i=>r!==i.id)}},kn={onConnecting(t){Ie.goToConnectingView(t)},manualWalletsTemplate(){return ns.manualWallets().map(t=>ae`<wcm-wallet-button walletId="${t.id}" name="${t.name}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(t=!1){return ns.recomendedWallets(t).map(e=>ae`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${e.image_id}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recentWalletTemplate(){const t=ns.recentWallet();if(t)return ae`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${mr(t.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`}},KS=ot`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var ZS=Object.defineProperty,GS=Object.getOwnPropertyDescriptor,YS=(t,e,r,n)=>{for(var i=n>1?void 0:n?GS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&ZS(e,r,i),i};let Tu=class extends Ge{render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=Cr.state,r=t!=="ALL"&&e,n=kn.manualWalletsTemplate(),i=kn.recomendedWalletsTemplate();let s=[kn.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>4||r;let a=[];o?a=s.slice(0,3):a=s;const c=!!a.length;return ae`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Ie.handleUriCopy}" .actionIcon="${at.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${at.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${at.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${c?ae`<wcm-modal-footer><div class="wcm-desktop-title">${at.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${a} ${o?ae`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};Tu.styles=[Xe.globalCss,KS],Tu=YS([rt("wcm-desktop-wallet-selection")],Tu);const QS=ot`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var JS=Object.defineProperty,XS=Object.getOwnPropertyDescriptor,ex=(t,e,r,n)=>{for(var i=n>1?void 0:n?XS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&JS(e,r,i),i};let Au=class extends Ge{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=Cr.state;return t??e?ae`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${t?ae`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?ae`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};Au.styles=[Xe.globalCss,QS],Au=ex([rt("wcm-legal-notice")],Au);const tx=ot`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var rx=Object.defineProperty,nx=Object.getOwnPropertyDescriptor,ix=(t,e,r,n)=>{for(var i=n>1?void 0:n?nx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&rx(e,r,i),i};let Ru=class extends Ge{onQrcode(){Rt.push("Qrcode")}render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=Cr.state,r=t!=="ALL"&&e,n=kn.manualWalletsTemplate(),i=kn.recomendedWalletsTemplate();let s=[kn.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>8||r;let a=[];o?a=s.slice(0,7):a=s;const c=!!a.length;return ae`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${at.QRCODE_ICON}"></wcm-modal-header>${c?ae`<wcm-modal-content><div>${a} ${o?ae`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};Ru.styles=[Xe.globalCss,tx],Ru=ix([rt("wcm-mobile-wallet-selection")],Ru);const sx=ot`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var ox=Object.defineProperty,ax=Object.getOwnPropertyDescriptor,Pu=(t,e,r,n)=>{for(var i=n>1?void 0:n?ax(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&ox(e,r,i),i};let is=class extends Ge{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=qn.subscribe(t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var t;(t=this.unsubscribeModal)==null||t.call(this)}get overlayEl(){return Ie.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Ie.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(t){if(document.querySelector("body"))if(t){const e=document.getElementById("wcm-styles");e==null||e.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(t){t.target===t.currentTarget&&qn.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const t=Ie.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,r=.2;await Promise.all([di(this.overlayEl,{opacity:[0,1]},{delay:e,duration:r}).finished,di(this.containerEl,t,{delay:e,duration:r}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const t=Ie.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([di(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,di(this.containerEl,t,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",t=>{var e;t.key==="Escape"?qn.close():t.key==="Tab"&&((e=t.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;(t=this.abortController)==null||t.abort(),this.abortController=void 0}render(){const t={"wcm-overlay":!0,"wcm-active":this.active};return ae`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${fn(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?ae`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};is.styles=[Xe.globalCss,sx],Pu([Sr()],is.prototype,"open",2),Pu([Sr()],is.prototype,"active",2),is=Pu([rt("wcm-modal")],is);const cx=ot`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var lx=Object.defineProperty,ux=Object.getOwnPropertyDescriptor,mo=(t,e,r,n)=>{for(var i=n>1?void 0:n?ux(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&lx(e,r,i),i};let fi=class extends Ge{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){ve.isMobile()?Rt.replace("MobileConnecting"):Rt.replace("MobileQrcodeConnecting")}onDesktop(){Rt.replace("DesktopConnecting")}onWeb(){Rt.replace("WebConnecting")}render(){return ae`<div>${this.isRetry?ae`<slot></slot>`:null} ${this.isMobile?ae`<wcm-button .onClick="${this.onMobile}" .iconLeft="${at.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?ae`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${at.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?ae`<wcm-button .onClick="${this.onWeb}" .iconLeft="${at.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};fi.styles=[Xe.globalCss,cx],mo([Fe({type:Boolean})],fi.prototype,"isMobile",2),mo([Fe({type:Boolean})],fi.prototype,"isDesktop",2),mo([Fe({type:Boolean})],fi.prototype,"isWeb",2),mo([Fe({type:Boolean})],fi.prototype,"isRetry",2),fi=mo([rt("wcm-platform-selection")],fi);const dx=ot`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var hx=Object.defineProperty,fx=Object.getOwnPropertyDescriptor,px=(t,e,r,n)=>{for(var i=n>1?void 0:n?fx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&hx(e,r,i),i};let $u=class extends Ge{onClick(){Rt.push("WalletExplorer")}render(){const{recomendedWallets:t}=wr.state,e=ns.manualWallets(),r=[...t,...e].reverse().slice(0,4);return ae`<button @click="${this.onClick}"><div class="wcm-icons">${r.map(n=>{const i=Ie.getWalletIcon(n);if(i)return ae`<img crossorigin="anonymous" src="${i}">`;const s=Ie.getWalletIcon({id:n.id});return s?ae`<img crossorigin="anonymous" src="${s}">`:at.WALLET_PLACEHOLDER})} ${[...Array(4-r.length)].map(()=>at.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};$u.styles=[Xe.globalCss,dx],$u=px([rt("wcm-view-all-wallets-button")],$u);const gx=ot`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var mx=Object.defineProperty,yx=Object.getOwnPropertyDescriptor,ka=(t,e,r,n)=>{for(var i=n>1?void 0:n?yx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&mx(e,r,i),i};let ss=class extends Ge{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:t}=jt.state;this.uri=t},0)}get overlayEl(){return Ie.getShadowRootElement(this,".wcm-qr-container")}render(){return ae`<div class="wcm-qr-container">${this.uri?ae`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${mr(this.walletId)}" imageId="${mr(this.imageId)}"></wcm-qrcode>`:ae`<wcm-spinner></wcm-spinner>`}</div>`}};ss.styles=[Xe.globalCss,gx],ka([Fe()],ss.prototype,"walletId",2),ka([Fe()],ss.prototype,"imageId",2),ka([Sr()],ss.prototype,"uri",2),ss=ka([rt("wcm-walletconnect-qr")],ss);var vx=Object.defineProperty,wx=Object.getOwnPropertyDescriptor,bx=(t,e,r,n)=>{for(var i=n>1?void 0:n?wx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&vx(e,r,i),i};let Nu=class extends Ge{viewTemplate(){return ve.isAndroid()?ae`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:ve.isMobile()?ae`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:ae`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return ae`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};Nu.styles=[Xe.globalCss],Nu=bx([rt("wcm-connect-wallet-view")],Nu);const _x=ot`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Ex=Object.defineProperty,Sx=Object.getOwnPropertyDescriptor,pg=(t,e,r,n)=>{for(var i=n>1?void 0:n?Sx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Ex(e,r,i),i};let Fa=class extends Ge{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(t){const{desktop:e,name:r}=ve.getWalletRouterData(),n=e==null?void 0:e.native;if(n){const i=ve.formatNativeUrl(n,t,r);ve.openHref(i,"_self")}}openDesktopApp(){const{walletConnectUri:t}=jt.state,e=ve.getWalletRouterData();Ie.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=ve.getWalletRouterData(),{isMobile:n,isWeb:i}=Ie.getCachedRouterWalletPlatforms();return ae`<wcm-modal-header title="${t}" .onAction="${Ie.handleUriCopy}" .actionIcon="${at.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${t} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${at.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Fa.styles=[Xe.globalCss,_x],pg([Sr()],Fa.prototype,"isError",2),Fa=pg([rt("wcm-desktop-connecting-view")],Fa);const xx=ot`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var Cx=Object.defineProperty,Ox=Object.getOwnPropertyDescriptor,Dx=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ox(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Cx(e,r,i),i};let Lu=class extends Ge{onInstall(t){t&&ve.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,homepage:n}=ve.getWalletRouterData();return ae`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${t} to continue. If multiple browser extensions are installed, disable non ${t} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${at.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};Lu.styles=[Xe.globalCss,xx],Lu=Dx([rt("wcm-install-wallet-view")],Lu);const Ix=ot`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var Tx=Object.defineProperty,Ax=Object.getOwnPropertyDescriptor,gg=(t,e,r,n)=>{for(var i=n>1?void 0:n?Ax(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Tx(e,r,i),i};let Ua=class extends Ge{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(t,e=!1){const{mobile:r,name:n}=ve.getWalletRouterData(),i=r==null?void 0:r.native,s=r==null?void 0:r.universal;if(i&&!e){const o=ve.formatNativeUrl(i,t,n);ve.openHref(o,"_self")}else if(s){const o=ve.formatUniversalUrl(s,t,n);ve.openHref(o,"_self")}}openMobileApp(t=!1){const{walletConnectUri:e}=jt.state,r=ve.getWalletRouterData();Ie.setRecentWallet(r),e&&this.onFormatAndRedirect(e,t)}onGoToAppStore(t){t&&ve.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,app:n,mobile:i}=ve.getWalletRouterData(),{isWeb:s}=Ie.getCachedRouterWalletPlatforms(),o=n==null?void 0:n.ios,a=i==null?void 0:i.universal;return ae`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${at.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?ae`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${mr(r)}"></wcm-wallet-image><wcm-text>${`Get ${t}`}</wcm-text></div><wcm-button .iconRight="${at.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Ua.styles=[Xe.globalCss,Ix],gg([Sr()],Ua.prototype,"isError",2),Ua=gg([rt("wcm-mobile-connecting-view")],Ua);const Rx=ot`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var Px=Object.defineProperty,$x=Object.getOwnPropertyDescriptor,Nx=(t,e,r,n)=>{for(var i=n>1?void 0:n?$x(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Px(e,r,i),i};let Mu=class extends Ge{render(){const{name:t,id:e,image_id:r}=ve.getWalletRouterData(),{isDesktop:n,isWeb:i}=Ie.getCachedRouterWalletPlatforms();return ae`<wcm-modal-header title="${t}" .onAction="${Ie.handleUriCopy}" .actionIcon="${at.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${mr(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${t} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};Mu.styles=[Xe.globalCss,Rx],Mu=Nx([rt("wcm-mobile-qr-connecting-view")],Mu);var Lx=Object.defineProperty,Mx=Object.getOwnPropertyDescriptor,kx=(t,e,r,n)=>{for(var i=n>1?void 0:n?Mx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Lx(e,r,i),i};let ku=class extends Ge{render(){return ae`<wcm-modal-header title="Scan the code" .onAction="${Ie.handleUriCopy}" .actionIcon="${at.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};ku.styles=[Xe.globalCss],ku=kx([rt("wcm-qrcode-view")],ku);const Fx=ot`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var Ux=Object.defineProperty,jx=Object.getOwnPropertyDescriptor,yo=(t,e,r,n)=>{for(var i=n>1?void 0:n?jx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Ux(e,r,i),i};const Fu=40;let pi=class extends Ge{constructor(){super(...arguments),this.loading=!wr.state.wallets.listings.length,this.firstFetch=!wr.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Ie.debounce(t=>{t.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=t,wr.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),wr.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;(t=this.intersectionObserver)==null||t.disconnect()}get placeholderEl(){return Ie.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([t])=>{t.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=wr.state,{listings:r,total:n}=this.search?e:t;return n<=Fu||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=wr.state,{listings:n,total:i,page:s}=this.search?r:e;if(!this.endReached&&(this.firstFetch||i>Fu&&n.length<i))try{this.loading=!0;const o=(t=jt.state.chains)==null?void 0:t.join(","),{listings:a}=await wr.getWallets({page:this.firstFetch?1:s+1,entries:Fu,search:this.search,version:2,chains:o}),c=a.map(l=>Ie.getWalletIcon(l));await Promise.all([...c.map(async l=>Ie.preloadImage(l)),ve.wait(300)]),this.endReached=this.isLastPage()}catch(o){console.error(o),_n.openToast(Ie.getErrorMessage(o),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(t){ve.isAndroid()?Ie.handleMobileLinking(t):Ie.goToConnectingView(t)}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}render(){const{wallets:t,search:e}=wr.state,{listings:r}=this.search?e:t,n=this.loading&&!r.length,i=this.search.length>=3;let s=kn.manualWalletsTemplate(),o=kn.recomendedWalletsTemplate(!0);i&&(s=s.filter(({values:l})=>Ie.caseSafeIncludes(l[0],this.search)),o=o.filter(({values:l})=>Ie.caseSafeIncludes(l[0],this.search)));const a=!this.loading&&!r.length&&!o.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return ae`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${fn(c)}"><div class="wcm-grid">${n?null:s} ${n?null:o} ${n?null:r.map(l=>ae`${l?ae`<wcm-wallet-button imageId="${l.image_id}" name="${l.name}" walletId="${l.id}" .onClick="${()=>this.onConnect(l)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${a?ae`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?ae`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};pi.styles=[Xe.globalCss,Fx],yo([Sr()],pi.prototype,"loading",2),yo([Sr()],pi.prototype,"firstFetch",2),yo([Sr()],pi.prototype,"search",2),yo([Sr()],pi.prototype,"endReached",2),pi=yo([rt("wcm-wallet-explorer-view")],pi);const Bx=ot`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var qx=Object.defineProperty,zx=Object.getOwnPropertyDescriptor,mg=(t,e,r,n)=>{for(var i=n>1?void 0:n?zx(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&qx(e,r,i),i};let ja=class extends Ge{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(t){const{desktop:e,name:r}=ve.getWalletRouterData(),n=e==null?void 0:e.universal;if(n){const i=ve.formatUniversalUrl(n,t,r);ve.openHref(i,"_blank")}}openWebWallet(){const{walletConnectUri:t}=jt.state,e=ve.getWalletRouterData();Ie.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=ve.getWalletRouterData(),{isMobile:n,isDesktop:i}=Ie.getCachedRouterWalletPlatforms(),s=ve.isMobile();return ae`<wcm-modal-header title="${t}" .onAction="${Ie.handleUriCopy}" .actionIcon="${at.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${t} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${s?!1:i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${at.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};ja.styles=[Xe.globalCss,Bx],mg([Sr()],ja.prototype,"isError",2),ja=mg([rt("wcm-web-connecting-view")],ja);const Wx=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return is},get WcmQrCode(){return gn}},Symbol.toStringTag,{value:"Module"}));ie.ICore=Kd,ie.ICrypto=o1,ie.IEchoClient=rh,ie.IEngine=ih,ie.IEngineEvents=d1,ie.IExpirer=eh,ie.IJsonRpcHistory=Zd,ie.IKeyChain=c1,ie.IMessageTracker=Gd,ie.IPairing=l1,ie.IPublisher=Yd,ie.IRelayer=Qd,ie.ISignClient=nh,ie.ISignClientEvents=u1,ie.IStore=Jd,ie.ISubscriber=Xd,ie.ISubscriberTopicMap=a1,ie.IVerify=th,ie.PAGE_SIZE=F5,ie.aleoAddressRegex=Cl,ie.aleoFieldRegex=Up,ie.aleoPrivateKeyRegex=kp,ie.aleoTransactionIdRegex=Fp,ie.aleoU32=jp,ie.aleoU64=Bp,ie.aleoViewKeyRegex=Mp,ie.configureConnection=A3,ie.connect=I5,ie.createSharedState=A5,ie.decrypt=R5,ie.disconnect=P5,ie.emitter=pl,ie.getAccount=O5,ie.getBalance=D5,ie.getEvent=$5,ie.getEvents=N5,ie.getRecords=M5,ie.getWalletConnectModalSignClient=Tr,ie.importSharedState=L5,ie.log_sdk=r0,ie.projectId=hp,ie.requestCreateEvent=T5,ie.requestSignature=k5,ie.signClient_puzzleProps=T3,ie.wc_aleo_chains=ta,ie.wc_aleo_methods=hl,ie.wc_events=fl,ie.web3modal_puzzle_props=fp,ie.zodAddress=UE,ie.zodEventStatus=KE,ie.zodEventType=HE,ie.zodField=zE,ie.zodNetwork=ZE,ie.zodPrivateKey=BE,ie.zodTransactionId=qE,ie.zodU32=WE,ie.zodU64=VE,ie.zodViewKey=jE,ie.zodVisibility=GE,Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"})});
