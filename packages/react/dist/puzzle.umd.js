(function(Z,ut){typeof exports=="object"&&typeof module<"u"?ut(exports,require("react"),require("zustand"),require("@tanstack/react-query"),require("@walletconnect/utils"),require("use-debounce"),require("events"),require("@walletconnect/modal-sign-html"),require("debug")):typeof define=="function"&&define.amd?define(["exports","react","zustand","@tanstack/react-query","@walletconnect/utils","use-debounce","events","@walletconnect/modal-sign-html","debug"],ut):(Z=typeof globalThis<"u"?globalThis:Z||self,ut(Z["@puzzlehq/sdk-react"]=Z["@puzzlehq/sdk-react"]||{},Z.React,Z.zustand,Z.reactQuery,Z.utils,Z.useDebounce,Z.EventEmitter,Z.modalSignHtml,Z.debug))})(this,function(Z,ut,wg,Ln,tl,oh,ah,bg,_g){"use strict";function Eg(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}const L=Eg(ut),xg=Symbol(),ch=Object.getPrototypeOf,rl=new WeakMap,Sg=t=>t&&(rl.has(t)?rl.get(t):ch(t)===Object.prototype||ch(t)===Array.prototype),Ig=t=>Sg(t)&&t[xg]||null,lh=(t,e=!0)=>{rl.set(t,e)};var ga={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const nl=t=>typeof t=="object"&&t!==null,jn=new WeakMap,ya=new WeakSet,Cg=(t=Object.is,e=(l,u)=>new Proxy(l,u),r=l=>nl(l)&&!ya.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,p=n)=>{const f=i.get(l);if((f==null?void 0:f[0])===u)return f[1];const m=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return lh(m,!0),i.set(l,[u,m]),Reflect.ownKeys(l).forEach(g=>{if(Object.getOwnPropertyDescriptor(m,g))return;const w=Reflect.get(l,g),C={value:w,enumerable:!0,configurable:!0};if(ya.has(w))lh(w,!1);else if(w instanceof Promise)delete C.value,C.get=()=>p(w);else if(jn.has(w)){const[I,_]=jn.get(w);C.value=s(I,_(),p)}Object.defineProperty(m,g,C)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],c=l=>{if(!nl(l))throw new Error("object required");const u=o.get(l);if(u)return u;let p=a[0];const f=new Set,m=(y,T=++a[0])=>{p!==T&&(p=T,f.forEach(R=>R(y,T)))};let g=a[1];const w=(y=++a[1])=>(g!==y&&!f.size&&(g=y,I.forEach(([T])=>{const R=T[1](y);R>p&&(p=R)})),p),C=y=>(T,R)=>{const D=[...T];D[1]=[y,...D[1]],m(D,R)},I=new Map,_=(y,T)=>{if((ga?"production":void 0)!=="production"&&I.has(y))throw new Error("prop listener already exists");if(f.size){const R=T[3](C(y));I.set(y,[T,R])}else I.set(y,[T])},E=y=>{var T;const R=I.get(y);R&&(I.delete(y),(T=R[1])==null||T.call(R))},b=y=>(f.add(y),f.size===1&&I.forEach(([T,R],D)=>{if((ga?"production":void 0)!=="production"&&R)throw new Error("remove already exists");const G=T[3](C(D));I.set(D,[T,G])}),()=>{f.delete(y),f.size===0&&I.forEach(([T,R],D)=>{R&&(R(),I.set(D,[T]))})}),x=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),v=e(x,{deleteProperty(y,T){const R=Reflect.get(y,T);E(T);const D=Reflect.deleteProperty(y,T);return D&&m(["delete",[T],R]),D},set(y,T,R,D){const G=Reflect.has(y,T),q=Reflect.get(y,T,D);if(G&&(t(q,R)||o.has(R)&&t(q,o.get(R))))return!0;E(T),nl(R)&&(R=Ig(R)||R);let A=R;if(R instanceof Promise)R.then(P=>{R.status="fulfilled",R.value=P,m(["resolve",[T],P])}).catch(P=>{R.status="rejected",R.reason=P,m(["reject",[T],P])});else{!jn.has(R)&&r(R)&&(A=c(R));const P=!ya.has(A)&&jn.get(A);P&&_(T,P)}return Reflect.set(y,T,A,D),m(["set",[T],R,q]),!0}});o.set(l,v);const d=[x,w,s,b];return jn.set(v,d),Reflect.ownKeys(l).forEach(y=>{const T=Object.getOwnPropertyDescriptor(l,y);"value"in T&&(v[y]=l[y],delete T.value,delete T.writable),Object.defineProperty(x,y,T)}),v})=>[c,jn,ya,t,e,r,n,i,s,o,a],[Og]=Cg();function Mn(t={}){return Og(t)}function fi(t,e,r){const n=jn.get(t);(ga?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const c=o(l=>{if(s.push(l),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function kg(t,e){const r=jn.get(t);(ga?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}const Vt=Mn({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),bt={state:Vt,subscribe(t){return fi(Vt,()=>t(Vt))},push(t,e){t!==Vt.view&&(Vt.view=t,e&&(Vt.data=e),Vt.history.push(t))},reset(t){Vt.view=t,Vt.history=[t]},replace(t){Vt.history.length>1&&(Vt.history[Vt.history.length-1]=t,Vt.view=t)},goBack(){if(Vt.history.length>1){Vt.history.pop();const[t]=Vt.history.slice(-1);Vt.view=t}},setData(t){Vt.data=t}},he={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return he.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const t=navigator.userAgent.toLowerCase();return he.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},isArray(t){return Array.isArray(t)&&t.length>0},formatNativeUrl(t,e,r){if(he.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!he.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e){window.open(t,e,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(he.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(he.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(he.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(he.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=(t=bt.state.data)==null?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},Tg=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Jt=Mn({enabled:Tg,userSessionId:"",events:[],connectedWalletId:void 0}),uh={state:Jt,subscribe(t){return fi(Jt.events,()=>t(kg(Jt.events[Jt.events.length-1])))},initialize(){Jt.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(Jt.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){Jt.connectedWalletId=t},click(t){if(Jt.enabled){const e={type:"CLICK",name:t.name,userSessionId:Jt.userSessionId,timestamp:Date.now(),data:t};Jt.events.push(e)}},track(t){if(Jt.enabled){const e={type:"TRACK",name:t.name,userSessionId:Jt.userSessionId,timestamp:Date.now(),data:t};Jt.events.push(e)}},view(t){if(Jt.enabled){const e={type:"VIEW",name:t.name,userSessionId:Jt.userSessionId,timestamp:Date.now(),data:t};Jt.events.push(e)}}},en=Mn({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),Rt={state:en,subscribe(t){return fi(en,()=>t(en))},setChains(t){en.chains=t},setWalletConnectUri(t){en.walletConnectUri=t},setIsCustomDesktop(t){en.isCustomDesktop=t},setIsCustomMobile(t){en.isCustomMobile=t},setIsDataLoaded(t){en.isDataLoaded=t},setIsUiLoaded(t){en.isUiLoaded=t},setIsAuth(t){en.isAuth=t}},va=Mn({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Sr={state:va,subscribe(t){return fi(va,()=>t(va))},setConfig(t){var e,r;uh.initialize(),Rt.setChains(t.chains),Rt.setIsAuth(!!t.enableAuthMode),Rt.setIsCustomMobile(!!((e=t.mobileWallets)!=null&&e.length)),Rt.setIsCustomDesktop(!!((r=t.desktopWallets)!=null&&r.length)),he.setModalVersionInStorage(),Object.assign(va,t)}};var Ag=Object.defineProperty,dh=Object.getOwnPropertySymbols,Pg=Object.prototype.hasOwnProperty,Rg=Object.prototype.propertyIsEnumerable,hh=(t,e,r)=>e in t?Ag(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ng=(t,e)=>{for(var r in e||(e={}))Pg.call(e,r)&&hh(t,r,e[r]);if(dh)for(var r of dh(e))Rg.call(e,r)&&hh(t,r,e[r]);return t};const il="https://explorer-api.walletconnect.com",sl="wcm",ol="js-2.6.2";async function wa(t,e){const r=Ng({sdkType:sl,sdkVersion:ol},e),n=new URL(t,il);return n.searchParams.append("projectId",Sr.state.projectId),Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,String(s))}),(await fetch(n)).json()}const mi={async getDesktopListings(t){return wa("/w3m/v1/getDesktopListings",t)},async getMobileListings(t){return wa("/w3m/v1/getMobileListings",t)},async getInjectedListings(t){return wa("/w3m/v1/getInjectedListings",t)},async getAllListings(t){return wa("/w3m/v1/getAllListings",t)},getWalletImageUrl(t){return`${il}/w3m/v1/getWalletImage/${t}?projectId=${Sr.state.projectId}&sdkType=${sl}&sdkVersion=${ol}`},getAssetImageUrl(t){return`${il}/w3m/v1/getAssetImage/${t}?projectId=${Sr.state.projectId}&sdkType=${sl}&sdkVersion=${ol}`}};var $g=Object.defineProperty,ph=Object.getOwnPropertySymbols,Lg=Object.prototype.hasOwnProperty,jg=Object.prototype.propertyIsEnumerable,fh=(t,e,r)=>e in t?$g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mg=(t,e)=>{for(var r in e||(e={}))Lg.call(e,r)&&fh(t,r,e[r]);if(ph)for(var r of ph(e))jg.call(e,r)&&fh(t,r,e[r]);return t};const mh=he.isMobile(),tn=Mn({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),gr={state:tn,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=Sr.state;if(t==="NONE"||e==="ALL"&&!t)return tn.recomendedWallets;if(he.isArray(t)){const r={recommendedIds:t.join(",")},{listings:n}=await mi.getAllListings(r),i=Object.values(n);i.sort((s,o)=>{const a=t.indexOf(s.id),c=t.indexOf(o.id);return a-c}),tn.recomendedWallets=i}else{const{chains:r,isAuth:n}=Rt.state,i=r==null?void 0:r.join(","),s=he.isArray(e),o={page:1,sdks:n?"auth_v1":void 0,entries:he.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:s?e.join(","):void 0},{listings:a}=mh?await mi.getMobileListings(o):await mi.getDesktopListings(o);tn.recomendedWallets=Object.values(a)}return tn.recomendedWallets},async getWallets(t){const e=Mg({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=Sr.state,{recomendedWallets:i}=tn;if(n==="ALL")return tn.wallets;i.length?e.excludedIds=i.map(p=>p.id).join(","):he.isArray(r)&&(e.excludedIds=r.join(",")),he.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),Rt.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:o}=t,{listings:a,total:c}=mh?await mi.getMobileListings(e):await mi.getDesktopListings(e),l=Object.values(a),u=o?"search":"wallets";return tn[u]={listings:[...tn[u].listings,...l],total:c,page:s??1},{listings:l,total:c}},getWalletImageUrl(t){return mi.getWalletImageUrl(t)},getAssetImageUrl(t){return mi.getAssetImageUrl(t)},resetSearch(){tn.search={listings:[],total:0,page:1}}},Hi=Mn({open:!1}),gi={state:Hi,subscribe(t){return fi(Hi,()=>t(Hi))},async open(t){return new Promise(e=>{const{isUiLoaded:r,isDataLoaded:n}=Rt.state;if(he.removeWalletConnectDeepLink(),Rt.setWalletConnectUri(t==null?void 0:t.uri),Rt.setChains(t==null?void 0:t.chains),bt.reset("ConnectWallet"),r&&n)Hi.open=!0,e();else{const i=setInterval(()=>{const s=Rt.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(i),Hi.open=!0,e())},200)}})},close(){Hi.open=!1}};var Dg=Object.defineProperty,gh=Object.getOwnPropertySymbols,zg=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable,yh=(t,e,r)=>e in t?Dg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wg=(t,e)=>{for(var r in e||(e={}))zg.call(e,r)&&yh(t,r,e[r]);if(gh)for(var r of gh(e))Ug.call(e,r)&&yh(t,r,e[r]);return t};function Vg(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Ds=Mn({themeMode:Vg()?"dark":"light"}),Dn={state:Ds,subscribe(t){return fi(Ds,()=>t(Ds))},setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(Ds.themeMode=e),r&&(Ds.themeVariables=Wg({},r))}},yi=Mn({open:!1,message:"",variant:"success"}),zn={state:yi,subscribe(t){return fi(yi,()=>t(yi))},openToast(t,e){yi.open=!0,yi.message=t,yi.variant=e},closeToast(){yi.open=!1}};let Bg=class{constructor(t){this.openModal=gi.open,this.closeModal=gi.close,this.subscribeModal=gi.subscribe,this.setTheme=Dn.setThemeConfig,Dn.setThemeConfig(t),Sr.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(()=>NC);const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),Rt.setIsUiLoaded(!0)}}};var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _a(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var al={exports:{}},Zi=typeof Reflect=="object"?Reflect:null,vh=Zi&&typeof Zi.apply=="function"?Zi.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},Ea;Zi&&typeof Zi.ownKeys=="function"?Ea=Zi.ownKeys:Object.getOwnPropertySymbols?Ea=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ea=function(t){return Object.getOwnPropertyNames(t)};function qg(t){console&&console.warn&&console.warn(t)}var wh=Number.isNaN||function(t){return t!==t};function lt(){lt.init.call(this)}al.exports=lt,al.exports.once=Kg,lt.EventEmitter=lt,lt.prototype._events=void 0,lt.prototype._eventsCount=0,lt.prototype._maxListeners=void 0;var bh=10;function xa(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(lt,"defaultMaxListeners",{enumerable:!0,get:function(){return bh},set:function(t){if(typeof t!="number"||t<0||wh(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bh=t}}),lt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},lt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||wh(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _h(t){return t._maxListeners===void 0?lt.defaultMaxListeners:t._maxListeners}lt.prototype.getMaxListeners=function(){return _h(this)},lt.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")vh(a,this,e);else for(var c=a.length,l=Ch(a,c),r=0;r<c;++r)vh(l[r],this,e);return!0};function Eh(t,e,r,n){var i,s,o;if(xa(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=_h(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,qg(a)}return t}lt.prototype.addListener=function(t,e){return Eh(this,t,e,!1)},lt.prototype.on=lt.prototype.addListener,lt.prototype.prependListener=function(t,e){return Eh(this,t,e,!0)};function Hg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xh(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Hg.bind(n);return i.listener=r,n.wrapFn=i,i}lt.prototype.once=function(t,e){return xa(e),this.on(t,xh(this,t,e)),this},lt.prototype.prependOnceListener=function(t,e){return xa(e),this.prependListener(t,xh(this,t,e)),this},lt.prototype.removeListener=function(t,e){var r,n,i,s,o;if(xa(e),n=this._events,n===void 0)return this;if(r=n[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():Zg(r,i),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,o||e)}return this},lt.prototype.off=lt.prototype.removeListener,lt.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),s;for(n=0;n<i.length;++n)s=i[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this};function Sh(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Fg(i):Ch(i,i.length)}lt.prototype.listeners=function(t){return Sh(this,t,!0)},lt.prototype.rawListeners=function(t){return Sh(this,t,!1)},lt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ih.call(t,e)},lt.prototype.listenerCount=Ih;function Ih(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}lt.prototype.eventNames=function(){return this._eventsCount>0?Ea(this._events):[]};function Ch(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Zg(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Fg(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Kg(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Oh(t,e,s,{once:!0}),e!=="error"&&Yg(t,i,{once:!0})})}function Yg(t,e,r){typeof t.on=="function"&&Oh(t,"error",e,r)}function Oh(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ur=al.exports;const cl=ba(Ur),Gg=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Qg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Jg=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Xg(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ey(t);return}return e}function ey(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Sa(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Jg.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Gg.test(t)||Qg.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Xg)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function ty(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Bt(t,...e){try{return ty(t(...e))}catch(r){return Promise.reject(r)}}function ry(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function ny(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Ia(t){if(ry(t))return String(t);if(ny(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Ia(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function kh(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const ll="base64:";function iy(t){if(typeof t=="string")return t;kh();const e=Buffer.from(t).toString("base64");return ll+e}function sy(t){return typeof t!="string"||!t.startsWith(ll)?t:(kh(),Buffer.from(t.slice(ll.length),"base64"))}function yr(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function oy(...t){return yr(t.join(":"))}function Ca(t){return t=yr(t),t?t+":":""}const ay="memory",cy=()=>{const t=new Map;return{name:ay,options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function ly(t={}){const e={mounts:{"":t.driver||cy()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(p=>p.startsWith(l)||u&&l.startsWith(p)).map(p=>({relativeBase:l.length>p.length?l.slice(p.length):void 0,mountpoint:p,driver:e.mounts[p]})),i=(l,u)=>{if(e.watching){u=yr(u);for(const p of e.watchListeners)p(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await Th(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,p)=>{const f=new Map,m=g=>{let w=f.get(g.base);return w||(w={driver:g.driver,base:g.base,items:[]},f.set(g.base,w)),w};for(const g of l){const w=typeof g=="string",C=yr(w?g:g.key),I=w?void 0:g.value,_=w||!g.options?u:{...u,...g.options},E=r(C);m(E).items.push({key:C,value:I,relativeKey:E.relativeKey,options:_})}return Promise.all([...f.values()].map(g=>p(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=yr(l);const{relativeKey:p,driver:f}=r(l);return Bt(f.hasItem,p,u)},getItem(l,u={}){l=yr(l);const{relativeKey:p,driver:f}=r(l);return Bt(f.getItem,p,u).then(m=>Sa(m))},getItems(l,u){return a(l,u,p=>p.driver.getItems?Bt(p.driver.getItems,p.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(m=>({key:oy(p.base,m.key),value:Sa(m.value)}))):Promise.all(p.items.map(f=>Bt(p.driver.getItem,f.relativeKey,f.options).then(m=>({key:f.key,value:Sa(m)})))))},getItemRaw(l,u={}){l=yr(l);const{relativeKey:p,driver:f}=r(l);return f.getItemRaw?Bt(f.getItemRaw,p,u):Bt(f.getItem,p,u).then(m=>sy(m))},async setItem(l,u,p={}){if(u===void 0)return c.removeItem(l);l=yr(l);const{relativeKey:f,driver:m}=r(l);m.setItem&&(await Bt(m.setItem,f,Ia(u),p),m.watch||i("update",l))},async setItems(l,u){await a(l,u,async p=>{p.driver.setItems&&await Bt(p.driver.setItems,p.items.map(f=>({key:f.relativeKey,value:Ia(f.value),options:f.options})),u),p.driver.setItem&&await Promise.all(p.items.map(f=>Bt(p.driver.setItem,f.relativeKey,Ia(f.value),f.options)))})},async setItemRaw(l,u,p={}){if(u===void 0)return c.removeItem(l,p);l=yr(l);const{relativeKey:f,driver:m}=r(l);if(m.setItemRaw)await Bt(m.setItemRaw,f,u,p);else if(m.setItem)await Bt(m.setItem,f,iy(u),p);else return;m.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=yr(l);const{relativeKey:p,driver:f}=r(l);f.removeItem&&(await Bt(f.removeItem,p,u),(u.removeMeta||u.removeMata)&&await Bt(f.removeItem,p+"$",u),f.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=yr(l);const{relativeKey:p,driver:f}=r(l),m=Object.create(null);if(f.getMeta&&Object.assign(m,await Bt(f.getMeta,p,u)),!u.nativeOnly){const g=await Bt(f.getItem,p+"$",u).then(w=>Sa(w));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(m,g))}return m},setMeta(l,u,p={}){return this.setItem(l+"$",u,p)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=Ca(l);const p=n(l,!0);let f=[];const m=[];for(const g of p){const w=(await Bt(g.driver.getKeys,g.relativeBase,u)).map(C=>g.mountpoint+yr(C)).filter(C=>!f.some(I=>C.startsWith(I)));m.push(...w),f=[g.mountpoint,...f.filter(C=>!C.startsWith(g.mountpoint))]}return l?m.filter(g=>g.startsWith(l)&&!g.endsWith("$")):m.filter(g=>!g.endsWith("$"))},async clear(l,u={}){l=Ca(l),await Promise.all(n(l,!1).map(async p=>{if(p.driver.clear)return Bt(p.driver.clear,p.relativeBase,u);if(p.driver.removeItem){const f=await p.driver.getKeys(p.relativeBase||"",u);return Promise.all(f.map(m=>p.driver.removeItem(m,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>Ah(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Ca(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((p,f)=>f.length-p.length)),e.mounts[l]=u,e.watching&&Promise.resolve(Th(u,i,l)).then(p=>{e.unwatch[l]=p}).catch(console.error),c},async unmount(l,u=!0){l=Ca(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l](),delete e.unwatch[l]),u&&await Ah(e.mounts[l]),e.mountpoints=e.mountpoints.filter(p=>p!==l),delete e.mounts[l])},getMount(l=""){l=yr(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=yr(l),n(l,u.parents).map(p=>({driver:p.driver,base:p.mountpoint}))}};return c}function Th(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function Ah(t){typeof t.dispose=="function"&&await Bt(t.dispose)}function vi(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function Ph(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=vi(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let ul;function zs(){return ul||(ul=Ph("keyval-store","keyval")),ul}function Rh(t,e=zs()){return e("readonly",r=>vi(r.get(t)))}function uy(t,e,r=zs()){return r("readwrite",n=>(n.put(e,t),vi(n.transaction)))}function dy(t,e=zs()){return e("readwrite",r=>(r.delete(t),vi(r.transaction)))}function hy(t=zs()){return t("readwrite",e=>(e.clear(),vi(e.transaction)))}function py(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},vi(t.transaction)}function fy(t=zs()){return t("readonly",e=>{if(e.getAllKeys)return vi(e.getAllKeys());const r=[];return py(e,n=>r.push(n.key)).then(()=>r)})}const my=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),gy=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Oa(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return gy(t)}catch{return t}}function Us(t){return typeof t=="string"?t:my(t)||""}const yy="idb-keyval";var vy=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=Ph(t.dbName,t.storeName)),{name:yy,options:t,async hasItem(i){return!(typeof await Rh(r(i),n)>"u")},async getItem(i){return await Rh(r(i),n)??null},setItem(i,s){return uy(r(i),s,n)},removeItem(i){return dy(r(i),n)},getKeys(){return fy(n)},clear(){return hy(n)}}};const wy="WALLET_CONNECT_V2_INDEXED_DB",by="keyvaluestorage";let _y=class{constructor(){this.indexedDb=ly({driver:vy({dbName:wy,storeName:by})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const e=await this.indexedDb.getItem(t);if(e!==null)return e}async setItem(t,e){await this.indexedDb.setItem(t,Us(e))}async removeItem(t){await this.indexedDb.removeItem(t)}};var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ka={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof dl<"u"&&dl.localStorage?ka.exports=dl.localStorage:typeof window<"u"&&window.localStorage?ka.exports=window.localStorage:ka.exports=new e})();function Ey(t){var e;return[t[0],Oa((e=t[1])!=null?e:"")]}class xy{constructor(){this.localStorage=ka.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Ey)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Oa(r)}async setItem(e,r){this.localStorage.setItem(e,Us(r))}async removeItem(e){this.localStorage.removeItem(e)}}const Sy="wc_storage_version",Nh=1,Iy=async(t,e,r)=>{const n=Sy,i=await e.getItem(n);if(i&&i>=Nh){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,Nh),r(e),Cy(t,o)},Cy=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let Oy=class{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const t=new xy;this.storage=t;try{const e=new _y;Iy(t,e,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const e=setInterval(()=>{this.initialized&&(clearInterval(e),t())},20)})}};var Fi={};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var hl=function(t,e){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hl(t,e)};function ky(t,e){hl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pl=function(){return pl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pl.apply(this,arguments)};function Ty(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ay(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Py(t,e){return function(r,n){e(r,n,t)}}function Ry(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ny(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(p){o(p)}}function c(u){try{l(n.throw(u))}catch(p){o(p)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function $y(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ly(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function jy(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function fl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $h(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function My(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($h(arguments[e]));return t}function Dy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ws(t){return this instanceof Ws?(this.v=t,this):new Ws(t)}function zy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(m){return new Promise(function(g,w){s.push([f,m,g,w])>1||a(f,m)})})}function a(f,m){try{c(n[f](m))}catch(g){p(s[0][3],g)}}function c(f){f.value instanceof Ws?Promise.resolve(f.value.v).then(l,u):p(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function p(f,m){f(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Uy(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Ws(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Wy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fl=="function"?fl(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Vy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function By(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function qy(t){return t&&t.__esModule?t:{default:t}}function Hy(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Zy(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Fy=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return pl},__asyncDelegator:Uy,__asyncGenerator:zy,__asyncValues:Wy,__await:Ws,__awaiter:Ny,__classPrivateFieldGet:Hy,__classPrivateFieldSet:Zy,__createBinding:Ly,__decorate:Ay,__exportStar:jy,__extends:ky,__generator:$y,__importDefault:qy,__importStar:By,__makeTemplateObject:Vy,__metadata:Ry,__param:Py,__read:$h,__rest:Ty,__spread:My,__spreadArrays:Dy,__values:fl},Symbol.toStringTag,{value:"Module"})),rn=_a(Fy);var Vs={},de={},Lh={},Bs={},jh;function Ky(){if(jh)return Bs;jh=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Bs.delay=t,Bs}var wi={},Mh={},Ki={},Dh;function Yy(){return Dh||(Dh=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.ONE_THOUSAND=Ki.ONE_HUNDRED=void 0,Ki.ONE_HUNDRED=100,Ki.ONE_THOUSAND=1e3),Ki}var zh={},Uh;function Gy(){return Uh||(Uh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(zh)),zh}var Wh;function Vh(){return Wh||(Wh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rn;e.__exportStar(Yy(),t),e.__exportStar(Gy(),t)}(Mh)),Mh}var Bh;function Qy(){if(Bh)return wi;Bh=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.fromMiliseconds=wi.toMiliseconds=void 0;const t=Vh();function e(n){return n*t.ONE_THOUSAND}wi.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return wi.fromMiliseconds=r,wi}var qh;function Jy(){return qh||(qh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rn;e.__exportStar(Ky(),t),e.__exportStar(Qy(),t)}(Lh)),Lh}var Yi={},Hh;function Xy(){if(Hh)return Yi;Hh=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Yi.Watch=t,Yi.default=t,Yi}var Zh={},qs={},Fh;function ev(){if(Fh)return qs;Fh=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.IWatch=void 0;class t{}return qs.IWatch=t,qs}var Kh;function tv(){return Kh||(Kh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),rn.__exportStar(ev(),t)}(Zh)),Zh}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rn;e.__exportStar(Jy(),t),e.__exportStar(Xy(),t),e.__exportStar(tv(),t),e.__exportStar(Vh(),t)})(de);var Yh={},Hs={};let bi=class{};const rv=Object.freeze(Object.defineProperty({__proto__:null,IEvents:bi},Symbol.toStringTag,{value:"Module"})),nv=_a(rv);var Gh;function iv(){if(Gh)return Hs;Gh=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.IHeartBeat=void 0;const t=nv;class e extends t.IEvents{constructor(n){super()}}return Hs.IHeartBeat=e,Hs}var Qh;function Jh(){return Qh||(Qh=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),rn.__exportStar(iv(),t)}(Yh)),Yh}var Xh={},_i={},ep;function sv(){if(ep)return _i;ep=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.HEARTBEAT_EVENTS=_i.HEARTBEAT_INTERVAL=void 0;const t=de;return _i.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,_i.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},_i}var tp;function rp(){return tp||(tp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),rn.__exportStar(sv(),t)}(Xh)),Xh}var np;function ov(){if(np)return Vs;np=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.HeartBeat=void 0;const t=rn,e=Ur,r=de,n=Jh(),i=rp();class s extends n.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=(a==null?void 0:a.interval)||i.HEARTBEAT_INTERVAL}static init(a){return t.__awaiter(this,void 0,void 0,function*(){const c=new s(a);return yield c.init(),c})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return Vs.HeartBeat=s,Vs}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rn;e.__exportStar(ov(),t),e.__exportStar(Jh(),t),e.__exportStar(rp(),t)})(Fi);var Ge={},ml,ip;function av(){if(ip)return ml;ip=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}ml=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var p="",f=1-o,m=-1,g=r&&r.length||0,w=0;w<g;){if(r.charCodeAt(w)===37&&w+1<g){switch(m=m>-1?m:0,r.charCodeAt(w+1)){case 100:case 102:if(f>=u||n[f]==null)break;m<w&&(p+=r.slice(m,w)),p+=Number(n[f]),m=w+2,w++;break;case 105:if(f>=u||n[f]==null)break;m<w&&(p+=r.slice(m,w)),p+=Math.floor(Number(n[f])),m=w+2,w++;break;case 79:case 111:case 106:if(f>=u||n[f]===void 0)break;m<w&&(p+=r.slice(m,w));var C=typeof n[f];if(C==="string"){p+="'"+n[f]+"'",m=w+2,w++;break}if(C==="function"){p+=n[f].name||"<anonymous>",m=w+2,w++;break}p+=s(n[f]),m=w+2,w++;break;case 115:if(f>=u)break;m<w&&(p+=r.slice(m,w)),p+=String(n[f]),m=w+2,w++;break;case 37:m<w&&(p+=r.slice(m,w)),p+="%",m=w+2,w++,f--;break}++f}++w}return m===-1?r:(m<g&&(p+=r.slice(m)),p)}return ml}var gl,sp;function cv(){if(sp)return gl;sp=1;const t=av();gl=i;const e=x().console||{},r={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:g,res:g,err:f};function n(v,d){return Array.isArray(v)?v.filter(function(y){return y!=="!stdSerializers.err"}):v===!0?Object.keys(d):!1}function i(v){v=v||{},v.browser=v.browser||{};const d=v.browser.transmit;if(d&&typeof d.send!="function")throw Error("pino: transmit option must have a send function");const y=v.browser.write||e;v.browser.write&&(v.browser.asObject=!0);const T=v.serializers||{},R=n(v.browser.serialize,T);let D=v.browser.serialize;Array.isArray(v.browser.serialize)&&v.browser.serialize.indexOf("!stdSerializers.err")>-1&&(D=!1);const G=["error","fatal","warn","info","debug","trace"];typeof y=="function"&&(y.error=y.fatal=y.warn=y.info=y.debug=y.trace=y),v.enabled===!1&&(v.level="silent");const q=v.level||"info",A=Object.create(y);A.log||(A.log=C),Object.defineProperty(A,"levelVal",{get:Y}),Object.defineProperty(A,"level",{get:V,set:z});const P={transmit:d,serialize:R,asObject:v.browser.asObject,levels:G,timestamp:m(v)};A.levels=i.levels,A.level=q,A.setMaxListeners=A.getMaxListeners=A.emit=A.addListener=A.on=A.prependListener=A.once=A.prependOnceListener=A.removeListener=A.removeAllListeners=A.listeners=A.listenerCount=A.eventNames=A.write=A.flush=C,A.serializers=T,A._serialize=R,A._stdErrSerialize=D,A.child=B,d&&(A._logEvent=p());function Y(){return this.level==="silent"?1/0:this.levels.values[this.level]}function V(){return this._level}function z(U){if(U!=="silent"&&!this.levels.values[U])throw Error("unknown level "+U);this._level=U,s(P,A,"error","log"),s(P,A,"fatal","error"),s(P,A,"warn","error"),s(P,A,"info","log"),s(P,A,"debug","log"),s(P,A,"trace","log")}function B(U,K){if(!U)throw new Error("missing bindings for child Pino");K=K||{},R&&U.serializers&&(K.serializers=U.serializers);const fe=K.serializers;if(R&&fe){var F=Object.assign({},T,fe),pe=v.browser.serialize===!0?Object.keys(F):R;delete U.serializers,c([U],pe,F,this._stdErrSerialize)}function ne(ue){this._childLevel=(ue._childLevel|0)+1,this.error=l(ue,U,"error"),this.fatal=l(ue,U,"fatal"),this.warn=l(ue,U,"warn"),this.info=l(ue,U,"info"),this.debug=l(ue,U,"debug"),this.trace=l(ue,U,"trace"),F&&(this.serializers=F,this._serialize=pe),d&&(this._logEvent=p([].concat(ue._logEvent.bindings,U)))}return ne.prototype=this,new ne(this)}return A}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:I,epochTime:_,unixTime:E,isoTime:b});function s(v,d,y,T){const R=Object.getPrototypeOf(d);d[y]=d.levelVal>d.levels.values[y]?C:R[y]?R[y]:e[y]||e[T]||C,o(v,d,y)}function o(v,d,y){!v.transmit&&d[y]===C||(d[y]=function(T){return function(){const R=v.timestamp(),D=new Array(arguments.length),G=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var q=0;q<D.length;q++)D[q]=arguments[q];if(v.serialize&&!v.asObject&&c(D,this._serialize,this.serializers,this._stdErrSerialize),v.asObject?T.call(G,a(this,y,D,R)):T.apply(G,D),v.transmit){const A=v.transmit.level||d.level,P=i.levels.values[A],Y=i.levels.values[y];if(Y<P)return;u(this,{ts:R,methodLevel:y,methodValue:Y,transmitLevel:A,transmitValue:i.levels.values[v.transmit.level||d.level],send:v.transmit.send,val:d.levelVal},D)}}}(d[y]))}function a(v,d,y,T){v._serialize&&c(y,v._serialize,v.serializers,v._stdErrSerialize);const R=y.slice();let D=R[0];const G={};T&&(G.time=T),G.level=i.levels.values[d];let q=(v._childLevel|0)+1;if(q<1&&(q=1),D!==null&&typeof D=="object"){for(;q--&&typeof R[0]=="object";)Object.assign(G,R.shift());D=R.length?t(R.shift(),R):void 0}else typeof D=="string"&&(D=t(R.shift(),R));return D!==void 0&&(G.msg=D),G}function c(v,d,y,T){for(const R in v)if(T&&v[R]instanceof Error)v[R]=i.stdSerializers.err(v[R]);else if(typeof v[R]=="object"&&!Array.isArray(v[R]))for(const D in v[R])d&&d.indexOf(D)>-1&&D in y&&(v[R][D]=y[D](v[R][D]))}function l(v,d,y){return function(){const T=new Array(1+arguments.length);T[0]=d;for(var R=1;R<T.length;R++)T[R]=arguments[R-1];return v[y].apply(this,T)}}function u(v,d,y){const T=d.send,R=d.ts,D=d.methodLevel,G=d.methodValue,q=d.val,A=v._logEvent.bindings;c(y,v._serialize||Object.keys(v.serializers),v.serializers,v._stdErrSerialize===void 0?!0:v._stdErrSerialize),v._logEvent.ts=R,v._logEvent.messages=y.filter(function(P){return A.indexOf(P)===-1}),v._logEvent.level.label=D,v._logEvent.level.value=G,T(D,v._logEvent,q),v._logEvent=p(A)}function p(v){return{ts:0,messages:[],bindings:v||[],level:{label:"",value:0}}}function f(v){const d={type:v.constructor.name,msg:v.message,stack:v.stack};for(const y in v)d[y]===void 0&&(d[y]=v[y]);return d}function m(v){return typeof v.timestamp=="function"?v.timestamp:v.timestamp===!1?I:_}function g(){return{}}function w(v){return v}function C(){}function I(){return!1}function _(){return Date.now()}function E(){return Math.round(Date.now()/1e3)}function b(){return new Date(Date.now()).toISOString()}function x(){function v(d){return typeof d<"u"&&d}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return v(self)||v(window)||v(this)||{}}}return gl}var Gi={},op;function ap(){return op||(op=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.PINO_CUSTOM_CONTEXT_KEY=Gi.PINO_LOGGER_DEFAULTS=void 0,Gi.PINO_LOGGER_DEFAULTS={level:"info"},Gi.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Gi}var sr={},cp;function lv(){if(cp)return sr;cp=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.generateChildLogger=sr.formatChildLoggerContext=sr.getLoggerContext=sr.setBrowserLoggerContext=sr.getBrowserLoggerContext=sr.getDefaultLoggerOptions=void 0;const t=ap();function e(a){return Object.assign(Object.assign({},a),{level:(a==null?void 0:a.level)||t.PINO_LOGGER_DEFAULTS.level})}sr.getDefaultLoggerOptions=e;function r(a,c=t.PINO_CUSTOM_CONTEXT_KEY){return a[c]||""}sr.getBrowserLoggerContext=r;function n(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){return a[l]=c,a}sr.setBrowserLoggerContext=n;function i(a,c=t.PINO_CUSTOM_CONTEXT_KEY){let l="";return typeof a.bindings>"u"?l=r(a,c):l=a.bindings().context||"",l}sr.getLoggerContext=i;function s(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const u=i(a,l);return u.trim()?`${u}/${c}`:c}sr.formatChildLoggerContext=s;function o(a,c,l=t.PINO_CUSTOM_CONTEXT_KEY){const u=s(a,c,l),p=a.child({context:u});return n(p,u,l)}return sr.generateChildLogger=o,sr}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=rn,r=e.__importDefault(cv());Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(ap(),t),e.__exportStar(lv(),t)})(Ge);let uv=class extends bi{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},dv=class extends bi{constructor(t,e){super(),this.core=t,this.logger=e,this.records=new Map}},hv=class{constructor(t,e){this.logger=t,this.core=e}},pv=class extends bi{constructor(t,e){super(),this.relayer=t,this.logger=e}},fv=class extends bi{constructor(t){super()}},mv=class{constructor(t,e,r,n){this.core=t,this.logger=e,this.name=r}};class gv extends bi{constructor(e,r){super(),this.relayer=e,this.logger=r}}class yv extends bi{constructor(e,r){super(),this.core=e,this.logger=r}}let vv=class{constructor(t,e){this.projectId=t,this.logger=e}},wv=class{constructor(t,e){this.projectId=t,this.logger=e}},bv=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},_v=class{constructor(t){this.client=t}};var yl={},Qi={},Ta={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.BrowserRandomSource=void 0;const lp=65536;class Ev{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=lp)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,lp)));return r}}Aa.BrowserRandomSource=Ev;function xv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pa={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});function Sv(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Ir.wipe=Sv;const Iv={},Cv=Object.freeze(Object.defineProperty({__proto__:null,default:Iv},Symbol.toStringTag,{value:"Module"})),Ov=_a(Cv);Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.NodeRandomSource=void 0;const kv=Ir;class Tv{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof xv<"u"){const e=Ov;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,kv.wipe)(r),n}}Pa.NodeRandomSource=Tv,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.SystemRandomSource=void 0;const Av=Aa,Pv=Pa;class Rv{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Av.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Pv.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Ta.SystemRandomSource=Rv;var Ce={},up={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,u=a&65535,p=c>>>16&65535,f=c&65535;return u*f+(l*f+u*p<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(up),Object.defineProperty(Ce,"__esModule",{value:!0});var dp=up;function Nv(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ce.readInt16BE=Nv;function $v(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ce.readUint16BE=$v;function Lv(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ce.readInt16LE=Lv;function jv(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ce.readUint16LE=jv;function hp(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ce.writeUint16BE=hp,Ce.writeInt16BE=hp;function pp(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ce.writeUint16LE=pp,Ce.writeInt16LE=pp;function vl(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ce.readInt32BE=vl;function wl(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ce.readUint32BE=wl;function bl(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ce.readInt32LE=bl;function _l(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ce.readUint32LE=_l;function Ra(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ce.writeUint32BE=Ra,Ce.writeInt32BE=Ra;function Na(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ce.writeUint32LE=Na,Ce.writeInt32LE=Na;function Mv(t,e){e===void 0&&(e=0);var r=vl(t,e),n=vl(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ce.readInt64BE=Mv;function Dv(t,e){e===void 0&&(e=0);var r=wl(t,e),n=wl(t,e+4);return r*4294967296+n}Ce.readUint64BE=Dv;function zv(t,e){e===void 0&&(e=0);var r=bl(t,e),n=bl(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ce.readInt64LE=zv;function Uv(t,e){e===void 0&&(e=0);var r=_l(t,e),n=_l(t,e+4);return n*4294967296+r}Ce.readUint64LE=Uv;function fp(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Ra(t/4294967296>>>0,e,r),Ra(t>>>0,e,r+4),e}Ce.writeUint64BE=fp,Ce.writeInt64BE=fp;function mp(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Na(t>>>0,e,r),Na(t/4294967296>>>0,e,r+4),e}Ce.writeUint64LE=mp,Ce.writeInt64LE=mp;function Wv(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Ce.readUintBE=Wv;function Vv(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Ce.readUintLE=Vv;function Bv(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!dp.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Ce.writeUintBE=Bv;function qv(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!dp.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Ce.writeUintLE=qv;function Hv(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ce.readFloat32BE=Hv;function Zv(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ce.readFloat32LE=Zv;function Fv(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ce.readFloat64BE=Fv;function Kv(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ce.readFloat64LE=Kv;function Yv(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ce.writeFloat32BE=Yv;function Gv(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ce.writeFloat32LE=Gv;function Qv(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ce.writeFloat64BE=Qv;function Jv(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ce.writeFloat64LE=Jv,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Ta,r=Ce,n=Ir;t.defaultRandomSource=new e.SystemRandomSource;function i(l,u=t.defaultRandomSource){return u.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const u=i(4,l),p=(0,r.readUint32LE)(u);return(0,n.wipe)(u),p}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,u=o,p=t.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let f="";const m=u.length,g=256-256%m;for(;l>0;){const w=i(Math.ceil(l*256/g),p);for(let C=0;C<w.length&&l>0;C++){const I=w[C];I<g&&(f+=u.charAt(I%m),l--)}(0,n.wipe)(w)}return f}t.randomString=a;function c(l,u=o,p=t.defaultRandomSource){const f=Math.ceil(l/(Math.log(u.length)/Math.LN2));return a(f,u,p)}t.randomStringForEntropy=c}(Qi);var gp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ce,r=Ir;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,p=l/536870912|0,f=l<<3,m=l%128<112?128:256;this._buffer[u]=128;for(var g=u+1;g<m-8;g++)this._buffer[g]=0;e.writeUint32BE(p,this._buffer,m-8),e.writeUint32BE(f,this._buffer,m-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,m),this._finished=!0}for(var g=0;g<this.digestLength/8;g++)e.writeUint32BE(this._stateHi[g],c,g*8),e.writeUint32BE(this._stateLo[g],c,g*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,u,p,f,m){for(var g=l[0],w=l[1],C=l[2],I=l[3],_=l[4],E=l[5],b=l[6],x=l[7],v=u[0],d=u[1],y=u[2],T=u[3],R=u[4],D=u[5],G=u[6],q=u[7],A,P,Y,V,z,B,U,K;m>=128;){for(var fe=0;fe<16;fe++){var F=8*fe+f;a[fe]=e.readUint32BE(p,F),c[fe]=e.readUint32BE(p,F+4)}for(var fe=0;fe<80;fe++){var pe=g,ne=w,ue=C,M=I,j=_,N=E,h=b,k=x,X=v,ie=d,Ue=y,We=T,Pe=R,Je=D,vt=G,dt=q;if(A=x,P=q,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=(_>>>14|R<<18)^(_>>>18|R<<14)^(R>>>9|_<<23),P=(R>>>14|_<<18)^(R>>>18|_<<14)^(_>>>9|R<<23),z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,A=_&E^~_&b,P=R&D^~R&G,z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,A=i[fe*2],P=i[fe*2+1],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,A=a[fe%16],P=c[fe%16],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,Y=U&65535|K<<16,V=z&65535|B<<16,A=Y,P=V,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=(g>>>28|v<<4)^(v>>>2|g<<30)^(v>>>7|g<<25),P=(v>>>28|g<<4)^(g>>>2|v<<30)^(g>>>7|v<<25),z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,A=g&w^g&C^w&C,P=v&d^v&y^d&y,z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,k=U&65535|K<<16,dt=z&65535|B<<16,A=M,P=We,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=Y,P=V,z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,M=U&65535|K<<16,We=z&65535|B<<16,w=pe,C=ne,I=ue,_=M,E=j,b=N,x=h,g=k,d=X,y=ie,T=Ue,R=We,D=Pe,G=Je,q=vt,v=dt,fe%16===15)for(var F=0;F<16;F++)A=a[F],P=c[F],z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=a[(F+9)%16],P=c[(F+9)%16],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,Y=a[(F+1)%16],V=c[(F+1)%16],A=(Y>>>1|V<<31)^(Y>>>8|V<<24)^Y>>>7,P=(V>>>1|Y<<31)^(V>>>8|Y<<24)^(V>>>7|Y<<25),z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,Y=a[(F+14)%16],V=c[(F+14)%16],A=(Y>>>19|V<<13)^(V>>>29|Y<<3)^Y>>>6,P=(V>>>19|Y<<13)^(Y>>>29|V<<3)^(V>>>6|Y<<26),z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,a[F]=U&65535|K<<16,c[F]=z&65535|B<<16}A=g,P=v,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[0],P=u[0],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[0]=g=U&65535|K<<16,u[0]=v=z&65535|B<<16,A=w,P=d,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[1],P=u[1],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[1]=w=U&65535|K<<16,u[1]=d=z&65535|B<<16,A=C,P=y,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[2],P=u[2],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[2]=C=U&65535|K<<16,u[2]=y=z&65535|B<<16,A=I,P=T,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[3],P=u[3],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[3]=I=U&65535|K<<16,u[3]=T=z&65535|B<<16,A=_,P=R,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[4],P=u[4],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[4]=_=U&65535|K<<16,u[4]=R=z&65535|B<<16,A=E,P=D,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[5],P=u[5],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[5]=E=U&65535|K<<16,u[5]=D=z&65535|B<<16,A=b,P=G,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[6],P=u[6],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[6]=b=U&65535|K<<16,u[6]=G=z&65535|B<<16,A=x,P=q,z=P&65535,B=P>>>16,U=A&65535,K=A>>>16,A=l[7],P=u[7],z+=P&65535,B+=P>>>16,U+=A&65535,K+=A>>>16,B+=z>>>16,U+=B>>>16,K+=U>>>16,l[7]=x=U&65535|K<<16,u[7]=q=z&65535|B<<16,f+=128,m-=128}return f}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(gp),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Qi,r=gp,n=Ir;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(M){const j=new Float64Array(16);if(M)for(let N=0;N<M.length;N++)j[N]=M[N];return j}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(M,j){for(let N=0;N<16;N++)M[N]=j[N]|0}function g(M){let j=1;for(let N=0;N<16;N++){let h=M[N]+j+65535;j=Math.floor(h/65536),M[N]=h-j*65536}M[0]+=j-1+37*(j-1)}function w(M,j,N){const h=~(N-1);for(let k=0;k<16;k++){const X=h&(M[k]^j[k]);M[k]^=X,j[k]^=X}}function C(M,j){const N=i(),h=i();for(let k=0;k<16;k++)h[k]=j[k];g(h),g(h),g(h);for(let k=0;k<2;k++){N[0]=h[0]-65517;for(let ie=1;ie<15;ie++)N[ie]=h[ie]-65535-(N[ie-1]>>16&1),N[ie-1]&=65535;N[15]=h[15]-32767-(N[14]>>16&1);const X=N[15]>>16&1;N[14]&=65535,w(h,N,1-X)}for(let k=0;k<16;k++)M[2*k]=h[k]&255,M[2*k+1]=h[k]>>8}function I(M,j){let N=0;for(let h=0;h<32;h++)N|=M[h]^j[h];return(1&N-1>>>8)-1}function _(M,j){const N=new Uint8Array(32),h=new Uint8Array(32);return C(N,M),C(h,j),I(N,h)}function E(M){const j=new Uint8Array(32);return C(j,M),j[0]&1}function b(M,j){for(let N=0;N<16;N++)M[N]=j[2*N]+(j[2*N+1]<<8);M[15]&=32767}function x(M,j,N){for(let h=0;h<16;h++)M[h]=j[h]+N[h]}function v(M,j,N){for(let h=0;h<16;h++)M[h]=j[h]-N[h]}function d(M,j,N){let h,k,X=0,ie=0,Ue=0,We=0,Pe=0,Je=0,vt=0,dt=0,Fe=0,qe=0,Re=0,Me=0,Ne=0,Oe=0,Ie=0,ye=0,De=0,Ve=0,_e=0,He=0,Xe=0,st=0,ot=0,et=0,Ar=0,jr=0,fn=0,Yt=0,mn=0,Mr=0,li=0,wt=N[0],ft=N[1],Ot=N[2],Et=N[3],kt=N[4],mt=N[5],$t=N[6],Mt=N[7],Dt=N[8],Lt=N[9],zt=N[10],jt=N[11],Tt=N[12],pt=N[13],O=N[14],W=N[15];h=j[0],X+=h*wt,ie+=h*ft,Ue+=h*Ot,We+=h*Et,Pe+=h*kt,Je+=h*mt,vt+=h*$t,dt+=h*Mt,Fe+=h*Dt,qe+=h*Lt,Re+=h*zt,Me+=h*jt,Ne+=h*Tt,Oe+=h*pt,Ie+=h*O,ye+=h*W,h=j[1],ie+=h*wt,Ue+=h*ft,We+=h*Ot,Pe+=h*Et,Je+=h*kt,vt+=h*mt,dt+=h*$t,Fe+=h*Mt,qe+=h*Dt,Re+=h*Lt,Me+=h*zt,Ne+=h*jt,Oe+=h*Tt,Ie+=h*pt,ye+=h*O,De+=h*W,h=j[2],Ue+=h*wt,We+=h*ft,Pe+=h*Ot,Je+=h*Et,vt+=h*kt,dt+=h*mt,Fe+=h*$t,qe+=h*Mt,Re+=h*Dt,Me+=h*Lt,Ne+=h*zt,Oe+=h*jt,Ie+=h*Tt,ye+=h*pt,De+=h*O,Ve+=h*W,h=j[3],We+=h*wt,Pe+=h*ft,Je+=h*Ot,vt+=h*Et,dt+=h*kt,Fe+=h*mt,qe+=h*$t,Re+=h*Mt,Me+=h*Dt,Ne+=h*Lt,Oe+=h*zt,Ie+=h*jt,ye+=h*Tt,De+=h*pt,Ve+=h*O,_e+=h*W,h=j[4],Pe+=h*wt,Je+=h*ft,vt+=h*Ot,dt+=h*Et,Fe+=h*kt,qe+=h*mt,Re+=h*$t,Me+=h*Mt,Ne+=h*Dt,Oe+=h*Lt,Ie+=h*zt,ye+=h*jt,De+=h*Tt,Ve+=h*pt,_e+=h*O,He+=h*W,h=j[5],Je+=h*wt,vt+=h*ft,dt+=h*Ot,Fe+=h*Et,qe+=h*kt,Re+=h*mt,Me+=h*$t,Ne+=h*Mt,Oe+=h*Dt,Ie+=h*Lt,ye+=h*zt,De+=h*jt,Ve+=h*Tt,_e+=h*pt,He+=h*O,Xe+=h*W,h=j[6],vt+=h*wt,dt+=h*ft,Fe+=h*Ot,qe+=h*Et,Re+=h*kt,Me+=h*mt,Ne+=h*$t,Oe+=h*Mt,Ie+=h*Dt,ye+=h*Lt,De+=h*zt,Ve+=h*jt,_e+=h*Tt,He+=h*pt,Xe+=h*O,st+=h*W,h=j[7],dt+=h*wt,Fe+=h*ft,qe+=h*Ot,Re+=h*Et,Me+=h*kt,Ne+=h*mt,Oe+=h*$t,Ie+=h*Mt,ye+=h*Dt,De+=h*Lt,Ve+=h*zt,_e+=h*jt,He+=h*Tt,Xe+=h*pt,st+=h*O,ot+=h*W,h=j[8],Fe+=h*wt,qe+=h*ft,Re+=h*Ot,Me+=h*Et,Ne+=h*kt,Oe+=h*mt,Ie+=h*$t,ye+=h*Mt,De+=h*Dt,Ve+=h*Lt,_e+=h*zt,He+=h*jt,Xe+=h*Tt,st+=h*pt,ot+=h*O,et+=h*W,h=j[9],qe+=h*wt,Re+=h*ft,Me+=h*Ot,Ne+=h*Et,Oe+=h*kt,Ie+=h*mt,ye+=h*$t,De+=h*Mt,Ve+=h*Dt,_e+=h*Lt,He+=h*zt,Xe+=h*jt,st+=h*Tt,ot+=h*pt,et+=h*O,Ar+=h*W,h=j[10],Re+=h*wt,Me+=h*ft,Ne+=h*Ot,Oe+=h*Et,Ie+=h*kt,ye+=h*mt,De+=h*$t,Ve+=h*Mt,_e+=h*Dt,He+=h*Lt,Xe+=h*zt,st+=h*jt,ot+=h*Tt,et+=h*pt,Ar+=h*O,jr+=h*W,h=j[11],Me+=h*wt,Ne+=h*ft,Oe+=h*Ot,Ie+=h*Et,ye+=h*kt,De+=h*mt,Ve+=h*$t,_e+=h*Mt,He+=h*Dt,Xe+=h*Lt,st+=h*zt,ot+=h*jt,et+=h*Tt,Ar+=h*pt,jr+=h*O,fn+=h*W,h=j[12],Ne+=h*wt,Oe+=h*ft,Ie+=h*Ot,ye+=h*Et,De+=h*kt,Ve+=h*mt,_e+=h*$t,He+=h*Mt,Xe+=h*Dt,st+=h*Lt,ot+=h*zt,et+=h*jt,Ar+=h*Tt,jr+=h*pt,fn+=h*O,Yt+=h*W,h=j[13],Oe+=h*wt,Ie+=h*ft,ye+=h*Ot,De+=h*Et,Ve+=h*kt,_e+=h*mt,He+=h*$t,Xe+=h*Mt,st+=h*Dt,ot+=h*Lt,et+=h*zt,Ar+=h*jt,jr+=h*Tt,fn+=h*pt,Yt+=h*O,mn+=h*W,h=j[14],Ie+=h*wt,ye+=h*ft,De+=h*Ot,Ve+=h*Et,_e+=h*kt,He+=h*mt,Xe+=h*$t,st+=h*Mt,ot+=h*Dt,et+=h*Lt,Ar+=h*zt,jr+=h*jt,fn+=h*Tt,Yt+=h*pt,mn+=h*O,Mr+=h*W,h=j[15],ye+=h*wt,De+=h*ft,Ve+=h*Ot,_e+=h*Et,He+=h*kt,Xe+=h*mt,st+=h*$t,ot+=h*Mt,et+=h*Dt,Ar+=h*Lt,jr+=h*zt,fn+=h*jt,Yt+=h*Tt,mn+=h*pt,Mr+=h*O,li+=h*W,X+=38*De,ie+=38*Ve,Ue+=38*_e,We+=38*He,Pe+=38*Xe,Je+=38*st,vt+=38*ot,dt+=38*et,Fe+=38*Ar,qe+=38*jr,Re+=38*fn,Me+=38*Yt,Ne+=38*mn,Oe+=38*Mr,Ie+=38*li,k=1,h=X+k+65535,k=Math.floor(h/65536),X=h-k*65536,h=ie+k+65535,k=Math.floor(h/65536),ie=h-k*65536,h=Ue+k+65535,k=Math.floor(h/65536),Ue=h-k*65536,h=We+k+65535,k=Math.floor(h/65536),We=h-k*65536,h=Pe+k+65535,k=Math.floor(h/65536),Pe=h-k*65536,h=Je+k+65535,k=Math.floor(h/65536),Je=h-k*65536,h=vt+k+65535,k=Math.floor(h/65536),vt=h-k*65536,h=dt+k+65535,k=Math.floor(h/65536),dt=h-k*65536,h=Fe+k+65535,k=Math.floor(h/65536),Fe=h-k*65536,h=qe+k+65535,k=Math.floor(h/65536),qe=h-k*65536,h=Re+k+65535,k=Math.floor(h/65536),Re=h-k*65536,h=Me+k+65535,k=Math.floor(h/65536),Me=h-k*65536,h=Ne+k+65535,k=Math.floor(h/65536),Ne=h-k*65536,h=Oe+k+65535,k=Math.floor(h/65536),Oe=h-k*65536,h=Ie+k+65535,k=Math.floor(h/65536),Ie=h-k*65536,h=ye+k+65535,k=Math.floor(h/65536),ye=h-k*65536,X+=k-1+37*(k-1),k=1,h=X+k+65535,k=Math.floor(h/65536),X=h-k*65536,h=ie+k+65535,k=Math.floor(h/65536),ie=h-k*65536,h=Ue+k+65535,k=Math.floor(h/65536),Ue=h-k*65536,h=We+k+65535,k=Math.floor(h/65536),We=h-k*65536,h=Pe+k+65535,k=Math.floor(h/65536),Pe=h-k*65536,h=Je+k+65535,k=Math.floor(h/65536),Je=h-k*65536,h=vt+k+65535,k=Math.floor(h/65536),vt=h-k*65536,h=dt+k+65535,k=Math.floor(h/65536),dt=h-k*65536,h=Fe+k+65535,k=Math.floor(h/65536),Fe=h-k*65536,h=qe+k+65535,k=Math.floor(h/65536),qe=h-k*65536,h=Re+k+65535,k=Math.floor(h/65536),Re=h-k*65536,h=Me+k+65535,k=Math.floor(h/65536),Me=h-k*65536,h=Ne+k+65535,k=Math.floor(h/65536),Ne=h-k*65536,h=Oe+k+65535,k=Math.floor(h/65536),Oe=h-k*65536,h=Ie+k+65535,k=Math.floor(h/65536),Ie=h-k*65536,h=ye+k+65535,k=Math.floor(h/65536),ye=h-k*65536,X+=k-1+37*(k-1),M[0]=X,M[1]=ie,M[2]=Ue,M[3]=We,M[4]=Pe,M[5]=Je,M[6]=vt,M[7]=dt,M[8]=Fe,M[9]=qe,M[10]=Re,M[11]=Me,M[12]=Ne,M[13]=Oe,M[14]=Ie,M[15]=ye}function y(M,j){d(M,j,j)}function T(M,j){const N=i();let h;for(h=0;h<16;h++)N[h]=j[h];for(h=253;h>=0;h--)y(N,N),h!==2&&h!==4&&d(N,N,j);for(h=0;h<16;h++)M[h]=N[h]}function R(M,j){const N=i();let h;for(h=0;h<16;h++)N[h]=j[h];for(h=250;h>=0;h--)y(N,N),h!==1&&d(N,N,j);for(h=0;h<16;h++)M[h]=N[h]}function D(M,j){const N=i(),h=i(),k=i(),X=i(),ie=i(),Ue=i(),We=i(),Pe=i(),Je=i();v(N,M[1],M[0]),v(Je,j[1],j[0]),d(N,N,Je),x(h,M[0],M[1]),x(Je,j[0],j[1]),d(h,h,Je),d(k,M[3],j[3]),d(k,k,l),d(X,M[2],j[2]),x(X,X,X),v(ie,h,N),v(Ue,X,k),x(We,X,k),x(Pe,h,N),d(M[0],ie,Ue),d(M[1],Pe,We),d(M[2],We,Ue),d(M[3],ie,Pe)}function G(M,j,N){for(let h=0;h<4;h++)w(M[h],j[h],N)}function q(M,j){const N=i(),h=i(),k=i();T(k,j[2]),d(N,j[0],k),d(h,j[1],k),C(M,h),M[31]^=E(N)<<7}function A(M,j,N){m(M[0],o),m(M[1],a),m(M[2],a),m(M[3],o);for(let h=255;h>=0;--h){const k=N[h/8|0]>>(h&7)&1;G(M,j,k),D(j,M),D(M,M),G(M,j,k)}}function P(M,j){const N=[i(),i(),i(),i()];m(N[0],u),m(N[1],p),m(N[2],a),d(N[3],u,p),A(M,N,j)}function Y(M){if(M.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const j=(0,r.hash)(M);j[0]&=248,j[31]&=127,j[31]|=64;const N=new Uint8Array(32),h=[i(),i(),i(),i()];P(h,j),q(N,h);const k=new Uint8Array(64);return k.set(M),k.set(N,32),{publicKey:N,secretKey:k}}t.generateKeyPairFromSeed=Y;function V(M){const j=(0,e.randomBytes)(32,M),N=Y(j);return(0,n.wipe)(j),N}t.generateKeyPair=V;function z(M){if(M.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(M.subarray(32))}t.extractPublicKeyFromSecretKey=z;const B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function U(M,j){let N,h,k,X;for(h=63;h>=32;--h){for(N=0,k=h-32,X=h-12;k<X;++k)j[k]+=N-16*j[h]*B[k-(h-32)],N=Math.floor((j[k]+128)/256),j[k]-=N*256;j[k]+=N,j[h]=0}for(N=0,k=0;k<32;k++)j[k]+=N-(j[31]>>4)*B[k],N=j[k]>>8,j[k]&=255;for(k=0;k<32;k++)j[k]-=N*B[k];for(h=0;h<32;h++)j[h+1]+=j[h]>>8,M[h]=j[h]&255}function K(M){const j=new Float64Array(64);for(let N=0;N<64;N++)j[N]=M[N];for(let N=0;N<64;N++)M[N]=0;U(M,j)}function fe(M,j){const N=new Float64Array(64),h=[i(),i(),i(),i()],k=(0,r.hash)(M.subarray(0,32));k[0]&=248,k[31]&=127,k[31]|=64;const X=new Uint8Array(64);X.set(k.subarray(32),32);const ie=new r.SHA512;ie.update(X.subarray(32)),ie.update(j);const Ue=ie.digest();ie.clean(),K(Ue),P(h,Ue),q(X,h),ie.reset(),ie.update(X.subarray(0,32)),ie.update(M.subarray(32)),ie.update(j);const We=ie.digest();K(We);for(let Pe=0;Pe<32;Pe++)N[Pe]=Ue[Pe];for(let Pe=0;Pe<32;Pe++)for(let Je=0;Je<32;Je++)N[Pe+Je]+=We[Pe]*k[Je];return U(X.subarray(32),N),X}t.sign=fe;function F(M,j){const N=i(),h=i(),k=i(),X=i(),ie=i(),Ue=i(),We=i();return m(M[2],a),b(M[1],j),y(k,M[1]),d(X,k,c),v(k,k,M[2]),x(X,M[2],X),y(ie,X),y(Ue,ie),d(We,Ue,ie),d(N,We,k),d(N,N,X),R(N,N),d(N,N,k),d(N,N,X),d(N,N,X),d(M[0],N,X),y(h,M[0]),d(h,h,X),_(h,k)&&d(M[0],M[0],f),y(h,M[0]),d(h,h,X),_(h,k)?-1:(E(M[0])===j[31]>>7&&v(M[0],o,M[0]),d(M[3],M[0],M[1]),0)}function pe(M,j,N){const h=new Uint8Array(32),k=[i(),i(),i(),i()],X=[i(),i(),i(),i()];if(N.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(F(X,M))return!1;const ie=new r.SHA512;ie.update(N.subarray(0,32)),ie.update(M),ie.update(j);const Ue=ie.digest();return K(Ue),A(k,X,Ue),P(X,N.subarray(32)),D(k,X),q(h,k),!I(N,h)}t.verify=pe;function ne(M){let j=[i(),i(),i(),i()];if(F(j,M))throw new Error("Ed25519: invalid public key");let N=i(),h=i(),k=j[1];x(N,a,k),v(h,a,k),T(h,h),d(N,N,h);let X=new Uint8Array(32);return C(X,N),X}t.convertPublicKeyToX25519=ne;function ue(M){const j=(0,r.hash)(M.subarray(0,32));j[0]&=248,j[31]&=127,j[31]|=64;const N=new Uint8Array(j.subarray(0,32));return(0,n.wipe)(j),N}t.convertSecretKeyToX25519=ue}(yl);const Xv="EdDSA",ew="JWT",yp=".",vp="base64url",tw="utf8",rw="utf8",nw=":",iw="did",sw="key",wp="base58btc",ow="z",aw="K36",cw=32;function El(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function bp(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?El(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function xl(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=bp(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return El(r)}function lw(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function p(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var w=0,C=0,I=0,_=g.length;I!==_&&g[I]===0;)I++,w++;for(var E=(_-I)*u+1>>>0,b=new Uint8Array(E);I!==_;){for(var x=g[I],v=0,d=E-1;(x!==0||v<C)&&d!==-1;d--,v++)x+=256*b[d]>>>0,b[d]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");C=v,I++}for(var y=E-C;y!==E&&b[y]===0;)y++;for(var T=c.repeat(w);y<E;++y)T+=t.charAt(b[y]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var w=0;if(g[w]!==" "){for(var C=0,I=0;g[w]===c;)C++,w++;for(var _=(g.length-w)*l+1>>>0,E=new Uint8Array(_);g[w];){var b=r[g.charCodeAt(w)];if(b===255)return;for(var x=0,v=_-1;(b!==0||x<I)&&v!==-1;v--,x++)b+=a*E[v]>>>0,E[v]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");I=x,w++}if(g[w]!==" "){for(var d=_-I;d!==_&&E[d]===0;)d++;for(var y=new Uint8Array(C+(_-d)),T=C;d!==_;)y[T++]=E[d++];return y}}}function m(g){var w=f(g);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:f,decode:m}}var uw=lw,dw=uw;const hw=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},pw=t=>new TextEncoder().encode(t),fw=t=>new TextDecoder().decode(t);class mw{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gw{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return _p(this,e)}}class yw{constructor(e){this.decoders=e}or(e){return _p(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _p=(t,e)=>new yw({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class vw{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new mw(e,r,n),this.decoder=new gw(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $a=({name:t,prefix:e,encode:r,decode:n})=>new vw(t,e,r,n),Zs=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=dw(r,e);return $a({prefix:t,name:e,encode:n,decode:s=>hw(i(s))})},ww=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const p=i[t[u]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|p,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},bw=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ft=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>$a({prefix:e,name:t,encode(i){return bw(i,n,r)},decode(i){return ww(i,n,r,t)}}),_w=$a({prefix:"\0",name:"identity",encode:t=>fw(t),decode:t=>pw(t)}),Ew=Object.freeze(Object.defineProperty({__proto__:null,identity:_w},Symbol.toStringTag,{value:"Module"})),xw=Ft({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Sw=Object.freeze(Object.defineProperty({__proto__:null,base2:xw},Symbol.toStringTag,{value:"Module"})),Iw=Ft({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Cw=Object.freeze(Object.defineProperty({__proto__:null,base8:Iw},Symbol.toStringTag,{value:"Module"})),Ow=Zs({prefix:"9",name:"base10",alphabet:"0123456789"}),kw=Object.freeze(Object.defineProperty({__proto__:null,base10:Ow},Symbol.toStringTag,{value:"Module"})),Tw=Ft({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Aw=Ft({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Pw=Object.freeze(Object.defineProperty({__proto__:null,base16:Tw,base16upper:Aw},Symbol.toStringTag,{value:"Module"})),Rw=Ft({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Nw=Ft({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$w=Ft({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Lw=Ft({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jw=Ft({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Mw=Ft({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Dw=Ft({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zw=Ft({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Uw=Ft({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ww=Object.freeze(Object.defineProperty({__proto__:null,base32:Rw,base32hex:jw,base32hexpad:Dw,base32hexpadupper:zw,base32hexupper:Mw,base32pad:$w,base32padupper:Lw,base32upper:Nw,base32z:Uw},Symbol.toStringTag,{value:"Module"})),Vw=Zs({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bw=Zs({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),qw=Object.freeze(Object.defineProperty({__proto__:null,base36:Vw,base36upper:Bw},Symbol.toStringTag,{value:"Module"})),Hw=Zs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Zw=Zs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Fw=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Hw,base58flickr:Zw},Symbol.toStringTag,{value:"Module"})),Kw=Ft({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Yw=Ft({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Gw=Ft({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Qw=Ft({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Jw=Object.freeze(Object.defineProperty({__proto__:null,base64:Kw,base64pad:Yw,base64url:Gw,base64urlpad:Qw},Symbol.toStringTag,{value:"Module"})),Ep=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Xw=Ep.reduce((t,e,r)=>(t[r]=e,t),[]),e2=Ep.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function t2(t){return t.reduce((e,r)=>(e+=Xw[r],e),"")}function r2(t){const e=[];for(const r of t){const n=e2[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const n2=$a({prefix:"🚀",name:"base256emoji",encode:t2,decode:r2}),i2=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:n2},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const xp={...Ew,...Sw,...Cw,...kw,...Pw,...Ww,...qw,...Fw,...Jw,...i2};function Sp(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ip=Sp("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Sl=Sp("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=bp(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Cp={utf8:Ip,"utf-8":Ip,hex:xp.base16,latin1:Sl,ascii:Sl,binary:Sl,...xp};function or(t,e="utf8"){const r=Cp[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function vr(t,e="utf8"){const r=Cp[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?El(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function La(t){return or(vr(Us(t),tw),vp)}function Op(t){const e=vr(aw,wp),r=ow+or(xl([e,t]),wp);return[iw,sw,r].join(nw)}function s2(t){return or(t,vp)}function o2(t){return vr([La(t.header),La(t.payload)].join(yp),rw)}function a2(t){return[La(t.header),La(t.payload),s2(t.signature)].join(yp)}function kp(t=Qi.randomBytes(cw)){return yl.generateKeyPairFromSeed(t)}async function c2(t,e,r,n,i=de.fromMiliseconds(Date.now())){const s={alg:Xv,typ:ew},o=Op(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=o2({header:s,payload:c}),u=yl.sign(n.secretKey,l);return a2({header:s,payload:c,signature:u})}var Il={},ja={};Object.defineProperty(ja,"__esModule",{value:!0});var Xt=Ce,Cl=Ir,l2=20;function u2(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],u=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],w=e[3]<<24|e[2]<<16|e[1]<<8|e[0],C=e[7]<<24|e[6]<<16|e[5]<<8|e[4],I=e[11]<<24|e[10]<<16|e[9]<<8|e[8],_=e[15]<<24|e[14]<<16|e[13]<<8|e[12],E=n,b=i,x=s,v=o,d=a,y=c,T=l,R=u,D=p,G=f,q=m,A=g,P=w,Y=C,V=I,z=_,B=0;B<l2;B+=2)E=E+d|0,P^=E,P=P>>>16|P<<16,D=D+P|0,d^=D,d=d>>>20|d<<12,b=b+y|0,Y^=b,Y=Y>>>16|Y<<16,G=G+Y|0,y^=G,y=y>>>20|y<<12,x=x+T|0,V^=x,V=V>>>16|V<<16,q=q+V|0,T^=q,T=T>>>20|T<<12,v=v+R|0,z^=v,z=z>>>16|z<<16,A=A+z|0,R^=A,R=R>>>20|R<<12,x=x+T|0,V^=x,V=V>>>24|V<<8,q=q+V|0,T^=q,T=T>>>25|T<<7,v=v+R|0,z^=v,z=z>>>24|z<<8,A=A+z|0,R^=A,R=R>>>25|R<<7,b=b+y|0,Y^=b,Y=Y>>>24|Y<<8,G=G+Y|0,y^=G,y=y>>>25|y<<7,E=E+d|0,P^=E,P=P>>>24|P<<8,D=D+P|0,d^=D,d=d>>>25|d<<7,E=E+y|0,z^=E,z=z>>>16|z<<16,q=q+z|0,y^=q,y=y>>>20|y<<12,b=b+T|0,P^=b,P=P>>>16|P<<16,A=A+P|0,T^=A,T=T>>>20|T<<12,x=x+R|0,Y^=x,Y=Y>>>16|Y<<16,D=D+Y|0,R^=D,R=R>>>20|R<<12,v=v+d|0,V^=v,V=V>>>16|V<<16,G=G+V|0,d^=G,d=d>>>20|d<<12,x=x+R|0,Y^=x,Y=Y>>>24|Y<<8,D=D+Y|0,R^=D,R=R>>>25|R<<7,v=v+d|0,V^=v,V=V>>>24|V<<8,G=G+V|0,d^=G,d=d>>>25|d<<7,b=b+T|0,P^=b,P=P>>>24|P<<8,A=A+P|0,T^=A,T=T>>>25|T<<7,E=E+y|0,z^=E,z=z>>>24|z<<8,q=q+z|0,y^=q,y=y>>>25|y<<7;Xt.writeUint32LE(E+n|0,t,0),Xt.writeUint32LE(b+i|0,t,4),Xt.writeUint32LE(x+s|0,t,8),Xt.writeUint32LE(v+o|0,t,12),Xt.writeUint32LE(d+a|0,t,16),Xt.writeUint32LE(y+c|0,t,20),Xt.writeUint32LE(T+l|0,t,24),Xt.writeUint32LE(R+u|0,t,28),Xt.writeUint32LE(D+p|0,t,32),Xt.writeUint32LE(G+f|0,t,36),Xt.writeUint32LE(q+m|0,t,40),Xt.writeUint32LE(A+g|0,t,44),Xt.writeUint32LE(P+w|0,t,48),Xt.writeUint32LE(Y+C|0,t,52),Xt.writeUint32LE(V+I|0,t,56),Xt.writeUint32LE(z+_|0,t,60)}function Tp(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){u2(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];h2(s,0,o)}return Cl.wipe(a),i===0&&Cl.wipe(s),n}ja.streamXOR=Tp;function d2(t,e,r,n){return n===void 0&&(n=0),Cl.wipe(r),Tp(t,e,r,r,n)}ja.stream=d2;function h2(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Ap={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});function p2(t,e,r){return~(t-1)&e|t-1&r}Wn.select=p2;function f2(t,e){return(t|0)-(e|0)-1>>>31&1}Wn.lessOrEqual=f2;function Pp(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Wn.compare=Pp;function m2(t,e){return t.length===0||e.length===0?!1:Pp(t,e)!==0}Wn.equal=m2,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Wn,r=Ir;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var u=a[4]|a[5]<<8;this._r[2]=(l>>>10|u<<6)&7939;var p=a[6]|a[7]<<8;this._r[3]=(u>>>7|p<<9)&8191;var f=a[8]|a[9]<<8;this._r[4]=(p>>>4|f<<12)&255,this._r[5]=f>>>1&8190;var m=a[10]|a[11]<<8;this._r[6]=(f>>>14|m<<2)&8191;var g=a[12]|a[13]<<8;this._r[7]=(m>>>11|g<<5)&8065;var w=a[14]|a[15]<<8;this._r[8]=(g>>>8|w<<8)&8191,this._r[9]=w>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var u=this._fin?0:2048,p=this._h[0],f=this._h[1],m=this._h[2],g=this._h[3],w=this._h[4],C=this._h[5],I=this._h[6],_=this._h[7],E=this._h[8],b=this._h[9],x=this._r[0],v=this._r[1],d=this._r[2],y=this._r[3],T=this._r[4],R=this._r[5],D=this._r[6],G=this._r[7],q=this._r[8],A=this._r[9];l>=16;){var P=a[c+0]|a[c+1]<<8;p+=P&8191;var Y=a[c+2]|a[c+3]<<8;f+=(P>>>13|Y<<3)&8191;var V=a[c+4]|a[c+5]<<8;m+=(Y>>>10|V<<6)&8191;var z=a[c+6]|a[c+7]<<8;g+=(V>>>7|z<<9)&8191;var B=a[c+8]|a[c+9]<<8;w+=(z>>>4|B<<12)&8191,C+=B>>>1&8191;var U=a[c+10]|a[c+11]<<8;I+=(B>>>14|U<<2)&8191;var K=a[c+12]|a[c+13]<<8;_+=(U>>>11|K<<5)&8191;var fe=a[c+14]|a[c+15]<<8;E+=(K>>>8|fe<<8)&8191,b+=fe>>>5|u;var F=0,pe=F;pe+=p*x,pe+=f*(5*A),pe+=m*(5*q),pe+=g*(5*G),pe+=w*(5*D),F=pe>>>13,pe&=8191,pe+=C*(5*R),pe+=I*(5*T),pe+=_*(5*y),pe+=E*(5*d),pe+=b*(5*v),F+=pe>>>13,pe&=8191;var ne=F;ne+=p*v,ne+=f*x,ne+=m*(5*A),ne+=g*(5*q),ne+=w*(5*G),F=ne>>>13,ne&=8191,ne+=C*(5*D),ne+=I*(5*R),ne+=_*(5*T),ne+=E*(5*y),ne+=b*(5*d),F+=ne>>>13,ne&=8191;var ue=F;ue+=p*d,ue+=f*v,ue+=m*x,ue+=g*(5*A),ue+=w*(5*q),F=ue>>>13,ue&=8191,ue+=C*(5*G),ue+=I*(5*D),ue+=_*(5*R),ue+=E*(5*T),ue+=b*(5*y),F+=ue>>>13,ue&=8191;var M=F;M+=p*y,M+=f*d,M+=m*v,M+=g*x,M+=w*(5*A),F=M>>>13,M&=8191,M+=C*(5*q),M+=I*(5*G),M+=_*(5*D),M+=E*(5*R),M+=b*(5*T),F+=M>>>13,M&=8191;var j=F;j+=p*T,j+=f*y,j+=m*d,j+=g*v,j+=w*x,F=j>>>13,j&=8191,j+=C*(5*A),j+=I*(5*q),j+=_*(5*G),j+=E*(5*D),j+=b*(5*R),F+=j>>>13,j&=8191;var N=F;N+=p*R,N+=f*T,N+=m*y,N+=g*d,N+=w*v,F=N>>>13,N&=8191,N+=C*x,N+=I*(5*A),N+=_*(5*q),N+=E*(5*G),N+=b*(5*D),F+=N>>>13,N&=8191;var h=F;h+=p*D,h+=f*R,h+=m*T,h+=g*y,h+=w*d,F=h>>>13,h&=8191,h+=C*v,h+=I*x,h+=_*(5*A),h+=E*(5*q),h+=b*(5*G),F+=h>>>13,h&=8191;var k=F;k+=p*G,k+=f*D,k+=m*R,k+=g*T,k+=w*y,F=k>>>13,k&=8191,k+=C*d,k+=I*v,k+=_*x,k+=E*(5*A),k+=b*(5*q),F+=k>>>13,k&=8191;var X=F;X+=p*q,X+=f*G,X+=m*D,X+=g*R,X+=w*T,F=X>>>13,X&=8191,X+=C*y,X+=I*d,X+=_*v,X+=E*x,X+=b*(5*A),F+=X>>>13,X&=8191;var ie=F;ie+=p*A,ie+=f*q,ie+=m*G,ie+=g*D,ie+=w*R,F=ie>>>13,ie&=8191,ie+=C*T,ie+=I*y,ie+=_*d,ie+=E*v,ie+=b*x,F+=ie>>>13,ie&=8191,F=(F<<2)+F|0,F=F+pe|0,pe=F&8191,F=F>>>13,ne+=F,p=pe,f=ne,m=ue,g=M,w=j,C=N,I=h,_=k,E=X,b=ie,c+=16,l-=16}this._h[0]=p,this._h[1]=f,this._h[2]=m,this._h[3]=g,this._h[4]=w,this._h[5]=C,this._h[6]=I,this._h[7]=_,this._h[8]=E,this._h[9]=b},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),u,p,f,m;if(this._leftover){for(m=this._leftover,this._buffer[m++]=1;m<16;m++)this._buffer[m]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,m=2;m<10;m++)this._h[m]+=u,u=this._h[m]>>>13,this._h[m]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,l[0]=this._h[0]+5,u=l[0]>>>13,l[0]&=8191,m=1;m<10;m++)l[m]=this._h[m]+u,u=l[m]>>>13,l[m]&=8191;for(l[9]-=8192,p=(u^1)-1,m=0;m<10;m++)l[m]&=p;for(p=~p,m=0;m<10;m++)this._h[m]=this._h[m]&p|l[m];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,f=this._h[0]+this._pad[0],this._h[0]=f&65535,m=1;m<8;m++)f=(this._h[m]+this._pad[m]|0)+(f>>>16)|0,this._h[m]=f&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,u;if(this._leftover){u=16-this._leftover,u>l&&(u=l);for(var p=0;p<u;p++)this._buffer[this._leftover+p]=a[c+p];if(l-=u,c+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(u=l-l%16,this._blocks(a,c,u),c+=u,l-=u),l){for(var p=0;p<l;p++)this._buffer[this._leftover+p]=a[c+p];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s}(Ap),function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ja,r=Ap,n=Ir,i=Ce,s=Wn;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,u,p,f){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var m=new Uint8Array(16);m.set(l,m.length-l.length);var g=new Uint8Array(32);e.stream(this._key,m,g,4);var w=u.length+this.tagLength,C;if(f){if(f.length!==w)throw new Error("ChaCha20Poly1305: incorrect destination length");C=f}else C=new Uint8Array(w);return e.streamXOR(this._key,m,u,C,4),this._authenticate(C.subarray(C.length-this.tagLength,C.length),g,C.subarray(0,C.length-this.tagLength),p),n.wipe(m),C},c.prototype.open=function(l,u,p,f){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var m=new Uint8Array(16);m.set(l,m.length-l.length);var g=new Uint8Array(32);e.stream(this._key,m,g,4);var w=new Uint8Array(this.tagLength);if(this._authenticate(w,g,u.subarray(0,u.length-this.tagLength),p),!s.equal(w,u.subarray(u.length-this.tagLength,u.length)))return null;var C=u.length-this.tagLength,I;if(f){if(f.length!==C)throw new Error("ChaCha20Poly1305: incorrect destination length");I=f}else I=new Uint8Array(C);return e.streamXOR(this._key,m,u.subarray(0,u.length-this.tagLength),I,4),n.wipe(m),I},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,u,p,f){var m=new r.Poly1305(u);f&&(m.update(f),f.length%16>0&&m.update(o.subarray(f.length%16))),m.update(p),p.length%16>0&&m.update(o.subarray(p.length%16));var g=new Uint8Array(8);f&&i.writeUint64LE(f.length,g),m.update(g),i.writeUint64LE(p.length,g),m.update(g);for(var w=m.digest(),C=0;C<w.length;C++)l[C]=w[C];m.clean(),n.wipe(w),n.wipe(g)},c}();t.ChaCha20Poly1305=a}(Il);var Rp={},Fs={},Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});function g2(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Ol.isSerializableHash=g2,Object.defineProperty(Fs,"__esModule",{value:!0});var nn=Ol,y2=Wn,v2=Ir,Np=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),nn.isSerializableHash(this._inner)&&nn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),v2.wipe(n)}return t.prototype.reset=function(){if(!nn.isSerializableHash(this._inner)||!nn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){nn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),nn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!nn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!nn.isSerializableHash(this._inner)||!nn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!nn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Fs.HMAC=Np;function w2(t,e,r){var n=new Np(t,e);n.update(r);var i=n.digest();return n.clean(),i}Fs.hmac=w2,Fs.equal=y2.equal,Object.defineProperty(Rp,"__esModule",{value:!0});var $p=Fs,Lp=Ir,b2=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=$p.hmac(this._hash,n,r);this._hmac=new $p.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),Lp.wipe(this._buffer),Lp.wipe(this._counter),this._bufpos=0},t}(),_2=Rp.HKDF=b2,Ma={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ce,r=Ir;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=s(this._temp,this._state,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,p=l/536870912|0,f=l<<3,m=l%64<56?64:128;this._buffer[u]=128;for(var g=u+1;g<m-8;g++)this._buffer[g]=0;e.writeUint32BE(p,this._buffer,m-8),e.writeUint32BE(f,this._buffer,m-4),s(this._temp,this._state,this._buffer,0,m),this._finished=!0}for(var g=0;g<this.digestLength/4;g++)e.writeUint32BE(this._state[g],c,g*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,u,p){for(;p>=64;){for(var f=c[0],m=c[1],g=c[2],w=c[3],C=c[4],I=c[5],_=c[6],E=c[7],b=0;b<16;b++){var x=u+b*4;a[b]=e.readUint32BE(l,x)}for(var b=16;b<64;b++){var v=a[b-2],d=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10;v=a[b-15];var y=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;a[b]=(d+a[b-7]|0)+(y+a[b-16]|0)}for(var b=0;b<64;b++){var d=(((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&I^~C&_)|0)+(E+(i[b]+a[b]|0)|0)|0,y=((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+(f&m^f&g^m&g)|0;E=_,_=I,I=C,C=w+d|0,w=g,g=m,m=f,f=d+y|0}c[0]+=f,c[1]+=m,c[2]+=g,c[3]+=w,c[4]+=C,c[5]+=I,c[6]+=_,c[7]+=E,u+=64,p-=64}return u}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(Ma);var kl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Qi,r=Ir;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(b){const x=new Float64Array(16);if(b)for(let v=0;v<b.length;v++)x[v]=b[v];return x}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(b){let x=1;for(let v=0;v<16;v++){let d=b[v]+x+65535;x=Math.floor(d/65536),b[v]=d-x*65536}b[0]+=x-1+37*(x-1)}function a(b,x,v){const d=~(v-1);for(let y=0;y<16;y++){const T=d&(b[y]^x[y]);b[y]^=T,x[y]^=T}}function c(b,x){const v=n(),d=n();for(let y=0;y<16;y++)d[y]=x[y];o(d),o(d),o(d);for(let y=0;y<2;y++){v[0]=d[0]-65517;for(let R=1;R<15;R++)v[R]=d[R]-65535-(v[R-1]>>16&1),v[R-1]&=65535;v[15]=d[15]-32767-(v[14]>>16&1);const T=v[15]>>16&1;v[14]&=65535,a(d,v,1-T)}for(let y=0;y<16;y++)b[2*y]=d[y]&255,b[2*y+1]=d[y]>>8}function l(b,x){for(let v=0;v<16;v++)b[v]=x[2*v]+(x[2*v+1]<<8);b[15]&=32767}function u(b,x,v){for(let d=0;d<16;d++)b[d]=x[d]+v[d]}function p(b,x,v){for(let d=0;d<16;d++)b[d]=x[d]-v[d]}function f(b,x,v){let d,y,T=0,R=0,D=0,G=0,q=0,A=0,P=0,Y=0,V=0,z=0,B=0,U=0,K=0,fe=0,F=0,pe=0,ne=0,ue=0,M=0,j=0,N=0,h=0,k=0,X=0,ie=0,Ue=0,We=0,Pe=0,Je=0,vt=0,dt=0,Fe=v[0],qe=v[1],Re=v[2],Me=v[3],Ne=v[4],Oe=v[5],Ie=v[6],ye=v[7],De=v[8],Ve=v[9],_e=v[10],He=v[11],Xe=v[12],st=v[13],ot=v[14],et=v[15];d=x[0],T+=d*Fe,R+=d*qe,D+=d*Re,G+=d*Me,q+=d*Ne,A+=d*Oe,P+=d*Ie,Y+=d*ye,V+=d*De,z+=d*Ve,B+=d*_e,U+=d*He,K+=d*Xe,fe+=d*st,F+=d*ot,pe+=d*et,d=x[1],R+=d*Fe,D+=d*qe,G+=d*Re,q+=d*Me,A+=d*Ne,P+=d*Oe,Y+=d*Ie,V+=d*ye,z+=d*De,B+=d*Ve,U+=d*_e,K+=d*He,fe+=d*Xe,F+=d*st,pe+=d*ot,ne+=d*et,d=x[2],D+=d*Fe,G+=d*qe,q+=d*Re,A+=d*Me,P+=d*Ne,Y+=d*Oe,V+=d*Ie,z+=d*ye,B+=d*De,U+=d*Ve,K+=d*_e,fe+=d*He,F+=d*Xe,pe+=d*st,ne+=d*ot,ue+=d*et,d=x[3],G+=d*Fe,q+=d*qe,A+=d*Re,P+=d*Me,Y+=d*Ne,V+=d*Oe,z+=d*Ie,B+=d*ye,U+=d*De,K+=d*Ve,fe+=d*_e,F+=d*He,pe+=d*Xe,ne+=d*st,ue+=d*ot,M+=d*et,d=x[4],q+=d*Fe,A+=d*qe,P+=d*Re,Y+=d*Me,V+=d*Ne,z+=d*Oe,B+=d*Ie,U+=d*ye,K+=d*De,fe+=d*Ve,F+=d*_e,pe+=d*He,ne+=d*Xe,ue+=d*st,M+=d*ot,j+=d*et,d=x[5],A+=d*Fe,P+=d*qe,Y+=d*Re,V+=d*Me,z+=d*Ne,B+=d*Oe,U+=d*Ie,K+=d*ye,fe+=d*De,F+=d*Ve,pe+=d*_e,ne+=d*He,ue+=d*Xe,M+=d*st,j+=d*ot,N+=d*et,d=x[6],P+=d*Fe,Y+=d*qe,V+=d*Re,z+=d*Me,B+=d*Ne,U+=d*Oe,K+=d*Ie,fe+=d*ye,F+=d*De,pe+=d*Ve,ne+=d*_e,ue+=d*He,M+=d*Xe,j+=d*st,N+=d*ot,h+=d*et,d=x[7],Y+=d*Fe,V+=d*qe,z+=d*Re,B+=d*Me,U+=d*Ne,K+=d*Oe,fe+=d*Ie,F+=d*ye,pe+=d*De,ne+=d*Ve,ue+=d*_e,M+=d*He,j+=d*Xe,N+=d*st,h+=d*ot,k+=d*et,d=x[8],V+=d*Fe,z+=d*qe,B+=d*Re,U+=d*Me,K+=d*Ne,fe+=d*Oe,F+=d*Ie,pe+=d*ye,ne+=d*De,ue+=d*Ve,M+=d*_e,j+=d*He,N+=d*Xe,h+=d*st,k+=d*ot,X+=d*et,d=x[9],z+=d*Fe,B+=d*qe,U+=d*Re,K+=d*Me,fe+=d*Ne,F+=d*Oe,pe+=d*Ie,ne+=d*ye,ue+=d*De,M+=d*Ve,j+=d*_e,N+=d*He,h+=d*Xe,k+=d*st,X+=d*ot,ie+=d*et,d=x[10],B+=d*Fe,U+=d*qe,K+=d*Re,fe+=d*Me,F+=d*Ne,pe+=d*Oe,ne+=d*Ie,ue+=d*ye,M+=d*De,j+=d*Ve,N+=d*_e,h+=d*He,k+=d*Xe,X+=d*st,ie+=d*ot,Ue+=d*et,d=x[11],U+=d*Fe,K+=d*qe,fe+=d*Re,F+=d*Me,pe+=d*Ne,ne+=d*Oe,ue+=d*Ie,M+=d*ye,j+=d*De,N+=d*Ve,h+=d*_e,k+=d*He,X+=d*Xe,ie+=d*st,Ue+=d*ot,We+=d*et,d=x[12],K+=d*Fe,fe+=d*qe,F+=d*Re,pe+=d*Me,ne+=d*Ne,ue+=d*Oe,M+=d*Ie,j+=d*ye,N+=d*De,h+=d*Ve,k+=d*_e,X+=d*He,ie+=d*Xe,Ue+=d*st,We+=d*ot,Pe+=d*et,d=x[13],fe+=d*Fe,F+=d*qe,pe+=d*Re,ne+=d*Me,ue+=d*Ne,M+=d*Oe,j+=d*Ie,N+=d*ye,h+=d*De,k+=d*Ve,X+=d*_e,ie+=d*He,Ue+=d*Xe,We+=d*st,Pe+=d*ot,Je+=d*et,d=x[14],F+=d*Fe,pe+=d*qe,ne+=d*Re,ue+=d*Me,M+=d*Ne,j+=d*Oe,N+=d*Ie,h+=d*ye,k+=d*De,X+=d*Ve,ie+=d*_e,Ue+=d*He,We+=d*Xe,Pe+=d*st,Je+=d*ot,vt+=d*et,d=x[15],pe+=d*Fe,ne+=d*qe,ue+=d*Re,M+=d*Me,j+=d*Ne,N+=d*Oe,h+=d*Ie,k+=d*ye,X+=d*De,ie+=d*Ve,Ue+=d*_e,We+=d*He,Pe+=d*Xe,Je+=d*st,vt+=d*ot,dt+=d*et,T+=38*ne,R+=38*ue,D+=38*M,G+=38*j,q+=38*N,A+=38*h,P+=38*k,Y+=38*X,V+=38*ie,z+=38*Ue,B+=38*We,U+=38*Pe,K+=38*Je,fe+=38*vt,F+=38*dt,y=1,d=T+y+65535,y=Math.floor(d/65536),T=d-y*65536,d=R+y+65535,y=Math.floor(d/65536),R=d-y*65536,d=D+y+65535,y=Math.floor(d/65536),D=d-y*65536,d=G+y+65535,y=Math.floor(d/65536),G=d-y*65536,d=q+y+65535,y=Math.floor(d/65536),q=d-y*65536,d=A+y+65535,y=Math.floor(d/65536),A=d-y*65536,d=P+y+65535,y=Math.floor(d/65536),P=d-y*65536,d=Y+y+65535,y=Math.floor(d/65536),Y=d-y*65536,d=V+y+65535,y=Math.floor(d/65536),V=d-y*65536,d=z+y+65535,y=Math.floor(d/65536),z=d-y*65536,d=B+y+65535,y=Math.floor(d/65536),B=d-y*65536,d=U+y+65535,y=Math.floor(d/65536),U=d-y*65536,d=K+y+65535,y=Math.floor(d/65536),K=d-y*65536,d=fe+y+65535,y=Math.floor(d/65536),fe=d-y*65536,d=F+y+65535,y=Math.floor(d/65536),F=d-y*65536,d=pe+y+65535,y=Math.floor(d/65536),pe=d-y*65536,T+=y-1+37*(y-1),y=1,d=T+y+65535,y=Math.floor(d/65536),T=d-y*65536,d=R+y+65535,y=Math.floor(d/65536),R=d-y*65536,d=D+y+65535,y=Math.floor(d/65536),D=d-y*65536,d=G+y+65535,y=Math.floor(d/65536),G=d-y*65536,d=q+y+65535,y=Math.floor(d/65536),q=d-y*65536,d=A+y+65535,y=Math.floor(d/65536),A=d-y*65536,d=P+y+65535,y=Math.floor(d/65536),P=d-y*65536,d=Y+y+65535,y=Math.floor(d/65536),Y=d-y*65536,d=V+y+65535,y=Math.floor(d/65536),V=d-y*65536,d=z+y+65535,y=Math.floor(d/65536),z=d-y*65536,d=B+y+65535,y=Math.floor(d/65536),B=d-y*65536,d=U+y+65535,y=Math.floor(d/65536),U=d-y*65536,d=K+y+65535,y=Math.floor(d/65536),K=d-y*65536,d=fe+y+65535,y=Math.floor(d/65536),fe=d-y*65536,d=F+y+65535,y=Math.floor(d/65536),F=d-y*65536,d=pe+y+65535,y=Math.floor(d/65536),pe=d-y*65536,T+=y-1+37*(y-1),b[0]=T,b[1]=R,b[2]=D,b[3]=G,b[4]=q,b[5]=A,b[6]=P,b[7]=Y,b[8]=V,b[9]=z,b[10]=B,b[11]=U,b[12]=K,b[13]=fe,b[14]=F,b[15]=pe}function m(b,x){f(b,x,x)}function g(b,x){const v=n();for(let d=0;d<16;d++)v[d]=x[d];for(let d=253;d>=0;d--)m(v,v),d!==2&&d!==4&&f(v,v,x);for(let d=0;d<16;d++)b[d]=v[d]}function w(b,x){const v=new Uint8Array(32),d=new Float64Array(80),y=n(),T=n(),R=n(),D=n(),G=n(),q=n();for(let V=0;V<31;V++)v[V]=b[V];v[31]=b[31]&127|64,v[0]&=248,l(d,x);for(let V=0;V<16;V++)T[V]=d[V];y[0]=D[0]=1;for(let V=254;V>=0;--V){const z=v[V>>>3]>>>(V&7)&1;a(y,T,z),a(R,D,z),u(G,y,R),p(y,y,R),u(R,T,D),p(T,T,D),m(D,G),m(q,y),f(y,R,y),f(R,T,G),u(G,y,R),p(y,y,R),m(T,y),p(R,D,q),f(y,R,s),u(y,y,D),f(R,R,y),f(y,D,q),f(D,T,d),m(T,G),a(y,T,z),a(R,D,z)}for(let V=0;V<16;V++)d[V+16]=y[V],d[V+32]=R[V],d[V+48]=T[V],d[V+64]=D[V];const A=d.subarray(32),P=d.subarray(16);g(A,A),f(P,P,A);const Y=new Uint8Array(32);return c(Y,P),Y}t.scalarMult=w;function C(b){return w(b,i)}t.scalarMultBase=C;function I(b){if(b.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const x=new Uint8Array(b);return{publicKey:C(x),secretKey:x}}t.generateKeyPairFromSeed=I;function _(b){const x=(0,e.randomBytes)(32,b),v=I(x);return(0,r.wipe)(x),v}t.generateKeyPair=_;function E(b,x,v=!1){if(b.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(x.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const d=w(b,x);if(v){let y=0;for(let T=0;T<d.length;T++)y|=d[T];if(y===0)throw new Error("X25519: invalid shared key")}return d}t.sharedKey=E})(kl);var jp=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},E2=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),x2=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),S2=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),I2=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),C2=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),O2=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,k2=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Mp=3,T2=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",O2]],Dp=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function A2(t){return t?zp(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new C2:typeof navigator<"u"?zp(navigator.userAgent):N2()}function P2(t){return t!==""&&T2.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function zp(t){var e=P2(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new I2;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Mp&&(i=jp(jp([],i,!0),$2(Mp-i.length),!0)):i=[];var s=i.join("."),o=R2(t),a=k2.exec(t);return a&&a[1]?new S2(r,s,o,a[1]):new E2(r,s,o)}function R2(t){for(var e=0,r=Dp.length;e<r;e++){var n=Dp[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function N2(){var t=typeof process<"u"&&process.version;return t?new x2(process.version.slice(1)):null}function $2(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.getLocalStorage=ht.getLocalStorageOrThrow=ht.getCrypto=ht.getCryptoOrThrow=Up=ht.getLocation=ht.getLocationOrThrow=Al=ht.getNavigator=ht.getNavigatorOrThrow=Tl=ht.getDocument=ht.getDocumentOrThrow=ht.getFromWindowOrThrow=ht.getFromWindow=void 0;function Ei(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}ht.getFromWindow=Ei;function Ji(t){const e=Ei(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}ht.getFromWindowOrThrow=Ji;function L2(){return Ji("document")}ht.getDocumentOrThrow=L2;function j2(){return Ei("document")}var Tl=ht.getDocument=j2;function M2(){return Ji("navigator")}ht.getNavigatorOrThrow=M2;function D2(){return Ei("navigator")}var Al=ht.getNavigator=D2;function z2(){return Ji("location")}ht.getLocationOrThrow=z2;function U2(){return Ei("location")}var Up=ht.getLocation=U2;function W2(){return Ji("crypto")}ht.getCryptoOrThrow=W2;function V2(){return Ei("crypto")}ht.getCrypto=V2;function B2(){return Ji("localStorage")}ht.getLocalStorageOrThrow=B2;function q2(){return Ei("localStorage")}ht.getLocalStorage=q2;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});var Wp=Pl.getWindowMetadata=void 0;const Vp=ht;function H2(){let t,e;try{t=Vp.getDocumentOrThrow(),e=Vp.getLocationOrThrow()}catch{return null}function r(){const u=t.getElementsByTagName("link"),p=[];for(let f=0;f<u.length;f++){const m=u[f],g=m.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const w=m.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let C=e.protocol+"//"+e.host;if(w.indexOf("/")===0)C+=w;else{const I=e.pathname.split("/");I.pop();const _=I.join("/");C+=_+"/"+w}p.push(C)}else if(w.indexOf("//")===0){const C=e.protocol+w;p.push(C)}else p.push(w)}}return p}function n(...u){const p=t.getElementsByTagName("meta");for(let f=0;f<p.length;f++){const m=p[f],g=["itemprop","property","name"].map(w=>m.getAttribute(w)).filter(w=>w?u.includes(w):!1);if(g.length&&g){const w=m.getAttribute("content");if(w)return w}}return""}function i(){let u=n("name","og:site_name","og:title","twitter:title");return u||(u=t.title),u}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}Wp=Pl.getWindowMetadata=H2;var Ks={},Z2=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Bp="%[a-f0-9]{2}",qp=new RegExp("("+Bp+")|([^%]+?)","gi"),Hp=new RegExp("("+Bp+")+","gi");function Rl(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Rl(r),Rl(n))}function F2(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(qp)||[],r=1;r<e.length;r++)t=Rl(e,r).join(""),e=t.match(qp)||[];return t}}function K2(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=Hp.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=F2(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Hp.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var Y2=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return K2(t)}},G2=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},Q2=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=Z2,r=Y2,n=G2,i=Q2,s=_=>_==null,o=Symbol("encodeFragmentIdentifier");function a(_){switch(_.arrayFormat){case"index":return E=>(b,x)=>{const v=b.length;return x===void 0||_.skipNull&&x===null||_.skipEmptyString&&x===""?b:x===null?[...b,[u(E,_),"[",v,"]"].join("")]:[...b,[u(E,_),"[",u(v,_),"]=",u(x,_)].join("")]};case"bracket":return E=>(b,x)=>x===void 0||_.skipNull&&x===null||_.skipEmptyString&&x===""?b:x===null?[...b,[u(E,_),"[]"].join("")]:[...b,[u(E,_),"[]=",u(x,_)].join("")];case"colon-list-separator":return E=>(b,x)=>x===void 0||_.skipNull&&x===null||_.skipEmptyString&&x===""?b:x===null?[...b,[u(E,_),":list="].join("")]:[...b,[u(E,_),":list=",u(x,_)].join("")];case"comma":case"separator":case"bracket-separator":{const E=_.arrayFormat==="bracket-separator"?"[]=":"=";return b=>(x,v)=>v===void 0||_.skipNull&&v===null||_.skipEmptyString&&v===""?x:(v=v===null?"":v,x.length===0?[[u(b,_),E,u(v,_)].join("")]:[[x,u(v,_)].join(_.arrayFormatSeparator)])}default:return E=>(b,x)=>x===void 0||_.skipNull&&x===null||_.skipEmptyString&&x===""?b:x===null?[...b,u(E,_)]:[...b,[u(E,_),"=",u(x,_)].join("")]}}function c(_){let E;switch(_.arrayFormat){case"index":return(b,x,v)=>{if(E=/\[(\d*)\]$/.exec(b),b=b.replace(/\[\d*\]$/,""),!E){v[b]=x;return}v[b]===void 0&&(v[b]={}),v[b][E[1]]=x};case"bracket":return(b,x,v)=>{if(E=/(\[\])$/.exec(b),b=b.replace(/\[\]$/,""),!E){v[b]=x;return}if(v[b]===void 0){v[b]=[x];return}v[b]=[].concat(v[b],x)};case"colon-list-separator":return(b,x,v)=>{if(E=/(:list)$/.exec(b),b=b.replace(/:list$/,""),!E){v[b]=x;return}if(v[b]===void 0){v[b]=[x];return}v[b]=[].concat(v[b],x)};case"comma":case"separator":return(b,x,v)=>{const d=typeof x=="string"&&x.includes(_.arrayFormatSeparator),y=typeof x=="string"&&!d&&p(x,_).includes(_.arrayFormatSeparator);x=y?p(x,_):x;const T=d||y?x.split(_.arrayFormatSeparator).map(R=>p(R,_)):x===null?x:p(x,_);v[b]=T};case"bracket-separator":return(b,x,v)=>{const d=/(\[\])$/.test(b);if(b=b.replace(/\[\]$/,""),!d){v[b]=x&&p(x,_);return}const y=x===null?[]:x.split(_.arrayFormatSeparator).map(T=>p(T,_));if(v[b]===void 0){v[b]=y;return}v[b]=[].concat(v[b],y)};default:return(b,x,v)=>{if(v[b]===void 0){v[b]=x;return}v[b]=[].concat(v[b],x)}}}function l(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(_,E){return E.encode?E.strict?e(_):encodeURIComponent(_):_}function p(_,E){return E.decode?r(_):_}function f(_){return Array.isArray(_)?_.sort():typeof _=="object"?f(Object.keys(_)).sort((E,b)=>Number(E)-Number(b)).map(E=>_[E]):_}function m(_){const E=_.indexOf("#");return E!==-1&&(_=_.slice(0,E)),_}function g(_){let E="";const b=_.indexOf("#");return b!==-1&&(E=_.slice(b)),E}function w(_){_=m(_);const E=_.indexOf("?");return E===-1?"":_.slice(E+1)}function C(_,E){return E.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):E.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function I(_,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),l(E.arrayFormatSeparator);const b=c(E),x=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return x;for(const v of _.split("&")){if(v==="")continue;let[d,y]=n(E.decode?v.replace(/\+/g," "):v,"=");y=y===void 0?null:["comma","separator","bracket-separator"].includes(E.arrayFormat)?y:p(y,E),b(p(d,E),y,x)}for(const v of Object.keys(x)){const d=x[v];if(typeof d=="object"&&d!==null)for(const y of Object.keys(d))d[y]=C(d[y],E);else x[v]=C(d,E)}return E.sort===!1?x:(E.sort===!0?Object.keys(x).sort():Object.keys(x).sort(E.sort)).reduce((v,d)=>{const y=x[d];return y&&typeof y=="object"&&!Array.isArray(y)?v[d]=f(y):v[d]=y,v},Object.create(null))}t.extract=w,t.parse=I,t.stringify=(_,E)=>{if(!_)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),l(E.arrayFormatSeparator);const b=y=>E.skipNull&&s(_[y])||E.skipEmptyString&&_[y]==="",x=a(E),v={};for(const y of Object.keys(_))b(y)||(v[y]=_[y]);const d=Object.keys(v);return E.sort!==!1&&d.sort(E.sort),d.map(y=>{const T=_[y];return T===void 0?"":T===null?u(y,E):Array.isArray(T)?T.length===0&&E.arrayFormat==="bracket-separator"?u(y,E)+"[]":T.reduce(x(y),[]).join("&"):u(y,E)+"="+u(T,E)}).filter(y=>y.length>0).join("&")},t.parseUrl=(_,E)=>{E=Object.assign({decode:!0},E);const[b,x]=n(_,"#");return Object.assign({url:b.split("?")[0]||"",query:I(w(_),E)},E&&E.parseFragmentIdentifier&&x?{fragmentIdentifier:p(x,E)}:{})},t.stringifyUrl=(_,E)=>{E=Object.assign({encode:!0,strict:!0,[o]:!0},E);const b=m(_.url).split("?")[0]||"",x=t.extract(_.url),v=t.parse(x,{sort:!1}),d=Object.assign(v,_.query);let y=t.stringify(d,E);y&&(y=`?${y}`);let T=g(_.url);return _.fragmentIdentifier&&(T=`#${E[o]?u(_.fragmentIdentifier,E):_.fragmentIdentifier}`),`${b}${y}${T}`},t.pick=(_,E,b)=>{b=Object.assign({parseFragmentIdentifier:!0,[o]:!1},b);const{url:x,query:v,fragmentIdentifier:d}=t.parseUrl(_,b);return t.stringifyUrl({url:x,query:i(v,E),fragmentIdentifier:d},b)},t.exclude=(_,E,b)=>{const x=Array.isArray(E)?v=>!E.includes(v):(v,d)=>!E(v,d);return t.pick(_,x,b)}})(Ks);const J2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function Zp(t,e){return t.includes(":")?[t]:e.chains||[]}const Fp="base10",ar="base16",Nl="base64pad",$l="utf8",Kp=0,xi=1,X2=0,Yp=1,Ll=12,jl=32;function eb(){const t=kl.generateKeyPair();return{privateKey:or(t.secretKey,ar),publicKey:or(t.publicKey,ar)}}function Ml(){const t=Qi.randomBytes(jl);return or(t,ar)}function tb(t,e){const r=kl.sharedKey(vr(t,ar),vr(e,ar),!0),n=new _2(Ma.SHA256,r).expand(jl);return or(n,ar)}function rb(t){const e=Ma.hash(vr(t,ar));return or(e,ar)}function Xi(t){const e=Ma.hash(vr(t,$l));return or(e,ar)}function nb(t){return vr(`${t}`,Fp)}function Ys(t){return Number(or(t,Fp))}function ib(t){const e=nb(typeof t.type<"u"?t.type:Kp);if(Ys(e)===xi&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?vr(t.senderPublicKey,ar):void 0,n=typeof t.iv<"u"?vr(t.iv,ar):Qi.randomBytes(Ll),i=new Il.ChaCha20Poly1305(vr(t.symKey,ar)).seal(n,vr(t.message,$l));return ob({type:e,sealed:i,iv:n,senderPublicKey:r})}function sb(t){const e=new Il.ChaCha20Poly1305(vr(t.symKey,ar)),{sealed:r,iv:n}=Da(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return or(i,$l)}function ob(t){if(Ys(t.type)===xi){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return or(xl([t.type,t.senderPublicKey,t.iv,t.sealed]),Nl)}return or(xl([t.type,t.iv,t.sealed]),Nl)}function Da(t){const e=vr(t,Nl),r=e.slice(X2,Yp),n=Yp;if(Ys(r)===xi){const a=n+jl,c=a+Ll,l=e.slice(n,a),u=e.slice(a,c),p=e.slice(c);return{type:r,sealed:p,iv:u,senderPublicKey:l}}const i=n+Ll,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function ab(t,e){const r=Da(t);return Gp({type:Ys(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?or(r.senderPublicKey,ar):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Gp(t){const e=(t==null?void 0:t.type)||Kp;if(e===xi){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Qp(t){return t.type===xi&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var cb=Object.defineProperty,Jp=Object.getOwnPropertySymbols,lb=Object.prototype.hasOwnProperty,ub=Object.prototype.propertyIsEnumerable,Xp=(t,e,r)=>e in t?cb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ef=(t,e)=>{for(var r in e||(e={}))lb.call(e,r)&&Xp(t,r,e[r]);if(Jp)for(var r of Jp(e))ub.call(e,r)&&Xp(t,r,e[r]);return t};const db="ReactNative",Cr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},hb="js";function Dl(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function es(){return!Tl()&&!!Al()&&navigator.product===db}function ts(){return!Dl()&&!!Al()&&!!Tl()}function Gs(){return es()?Cr.reactNative:Dl()?Cr.node:ts()?Cr.browser:Cr.unknown}function pb(){var t;try{return es()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function fb(t,e){let r=Ks.parse(t);return r=ef(ef({},r),e),t=Ks.stringify(r),t}function mb(){return Wp()||{name:"",description:"",url:"",icons:[""]}}function gb(){if(Gs()===Cr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=A2();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function yb(){var t;const e=Gs();return e===Cr.browser?[e,((t=Up())==null?void 0:t.host)||"unknown"].join(":"):e}function vb(t,e,r){const n=gb(),i=yb();return[[t,e].join("-"),[hb,r].join("-"),n,i].join("/")}function wb({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=r.split("?"),l=vb(t,e,n),u={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},p=fb(c[1]||"",u);return c[0]+"?"+p}function Si(t,e){return t.filter(r=>e.includes(r)).length===t.length}function tf(t){return Object.fromEntries(t.entries())}function rf(t){return new Map(Object.entries(t))}function rs(t=de.FIVE_MINUTES,e){const r=de.toMiliseconds(t||de.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function Qs(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function nf(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function bb(t){return nf("topic",t)}function _b(t){return nf("id",t)}function sf(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Or(t,e){return de.fromMiliseconds((e||Date.now())+de.toMiliseconds(t))}function Vn(t){return Date.now()>=de.toMiliseconds(t)}function Nt(t,e){return`${t}${e?`:${e}`:""}`}async function Eb({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r;let i=n==null?void 0:n.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));const s=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=Gs();o===Cr.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===Cr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}async function xb(t,e){try{return await t.getItem(e)||(ts()?localStorage.getItem(e):void 0)}catch(r){console.error(r)}}const Sb="irn";function zl(t){return(t==null?void 0:t.relay)||{protocol:Sb}}function za(t){const e=J2[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Ib=Object.defineProperty,Cb=Object.defineProperties,Ob=Object.getOwnPropertyDescriptors,of=Object.getOwnPropertySymbols,kb=Object.prototype.hasOwnProperty,Tb=Object.prototype.propertyIsEnumerable,af=(t,e,r)=>e in t?Ib(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ab=(t,e)=>{for(var r in e||(e={}))kb.call(e,r)&&af(t,r,e[r]);if(of)for(var r of of(e))Tb.call(e,r)&&af(t,r,e[r]);return t},Pb=(t,e)=>Cb(t,Ob(e));function Rb(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function cf(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Ks.parse(s);return{protocol:n,topic:Nb(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Rb(o),expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function Nb(t){return t.startsWith("//")?t.substring(2):t}function $b(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function Lb(t){return`${t.protocol}:${t.topic}@${t.version}?`+Ks.stringify(Pb(Ab({symKey:t.symKey},$b(t.relay)),{expiryTimestamp:t.expiryTimestamp}))}function ns(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function jb(t){const e=[];return Object.values(t).forEach(r=>{e.push(...ns(r.accounts))}),e}function Mb(t,e){const r=[];return Object.values(t).forEach(n=>{ns(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Db(t,e){const r=[];return Object.values(t).forEach(n=>{ns(n.accounts).includes(e)&&r.push(...n.events)}),r}const zb={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ub={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ee(t,e){const{message:r,code:n}=Ub[t];return{message:e?`${r} ${e}`:r,code:n}}function It(t,e){const{message:r,code:n}=zb[t];return{message:e?`${r} ${e}`:r,code:n}}function Js(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Ua(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function cr(t){return typeof t>"u"}function qt(t,e){return e&&cr(t)?!0:typeof t=="string"&&!!t.trim().length}function Ul(t,e){return e&&cr(t)?!0:typeof t=="number"&&!isNaN(t)}function Wb(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Si(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=ns(a),p=r[o];(!Si(Zp(o,p),u)||!Si(p.methods,c)||!Si(p.events,l))&&(s=!1)}),s):!1}function Wa(t){return qt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Vb(t){if(qt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&Wa(r)}}return!1}function Bb(t){if(qt(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function qb(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Hb(t){return t==null?void 0:t.topic}function Zb(t,e){let r=null;return qt(t==null?void 0:t.publicKey,!1)||(r=ee("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function lf(t){let e=!0;return Js(t)?t.length&&(e=t.every(r=>qt(r,!1))):e=!1,e}function Fb(t,e,r){let n=null;return Js(e)&&e.length?e.forEach(i=>{n||Wa(i)||(n=It("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Wa(t)||(n=It("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Kb(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Fb(i,Zp(i,s),`${e} ${r}`);o&&(n=o)}),n}function Yb(t,e){let r=null;return Js(t)?t.forEach(n=>{r||Vb(n)||(r=It("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=It("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Gb(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Yb(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function Qb(t,e){let r=null;return lf(t==null?void 0:t.methods)?lf(t==null?void 0:t.events)||(r=It("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=It("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function uf(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Qb(n,`${e}, namespace`);i&&(r=i)}),r}function Jb(t,e,r){let n=null;if(t&&Ua(t)){const i=uf(t,e);i&&(n=i);const s=Kb(t,e,r);s&&(n=s)}else n=ee("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Wl(t,e){let r=null;if(t&&Ua(t)){const n=uf(t,e);n&&(r=n);const i=Gb(t,e);i&&(r=i)}else r=ee("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function df(t){return qt(t.protocol,!0)}function Xb(t,e){let r=!1;return e&&!t?r=!0:t&&Js(t)&&t.length&&t.forEach(n=>{r=df(n)}),r}function e5(t){return typeof t=="number"}function wr(t){return typeof t<"u"&&typeof t!==null}function t5(t){return!(!t||typeof t!="object"||!t.code||!Ul(t.code,!1)||!t.message||!qt(t.message,!1))}function r5(t){return!(cr(t)||!qt(t.method,!1))}function n5(t){return!(cr(t)||cr(t.result)&&cr(t.error)||!Ul(t.id,!1)||!qt(t.jsonrpc,!1))}function i5(t){return!(cr(t)||!qt(t.name,!1))}function hf(t,e){return!(!Wa(e)||!jb(t).includes(e))}function s5(t,e,r){return qt(r,!1)?Mb(t,e).includes(r):!1}function o5(t,e,r){return qt(r,!1)?Db(t,e).includes(r):!1}function pf(t,e,r){let n=null;const i=a5(t),s=c5(e),o=Object.keys(i),a=Object.keys(s),c=ff(Object.keys(t)),l=ff(Object.keys(e)),u=c.filter(p=>!l.includes(p));return u.length&&(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Si(o,a)||(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(p=>{if(!p.includes(":")||n)return;const f=ns(e[p].accounts);f.includes(p)||(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${f.toString()}`))}),o.forEach(p=>{n||(Si(i[p].methods,s[p].methods)?Si(i[p].events,s[p].events)||(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${p}`)):n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${p}`))}),n}function a5(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function ff(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function c5(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=ns(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function l5(t,e){return Ul(t,!1)&&t<=e.max&&t>=e.min}function mf(){const t=Gs();return new Promise(e=>{switch(t){case Cr.browser:e(u5());break;case Cr.reactNative:e(d5());break;case Cr.node:e(h5());break;default:e(!0)}})}function u5(){return ts()&&(navigator==null?void 0:navigator.onLine)}async function d5(){if(es()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function h5(){return!0}function p5(t){switch(Gs()){case Cr.browser:f5(t);break;case Cr.reactNative:m5(t);break}}function f5(t){!es()&&ts()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function m5(t){es()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const Vl={};let Va=class{static get(e){return Vl[e]}static set(e,r){Vl[e]=r}static delete(e){delete Vl[e]}};const g5="PARSE_ERROR",y5="INVALID_REQUEST",v5="METHOD_NOT_FOUND",w5="INVALID_PARAMS",gf="INTERNAL_ERROR",Bl="SERVER_ERROR",b5=[-32700,-32600,-32601,-32602,-32603],Xs={[g5]:{code:-32700,message:"Parse error"},[y5]:{code:-32600,message:"Invalid Request"},[v5]:{code:-32601,message:"Method not found"},[w5]:{code:-32602,message:"Invalid params"},[gf]:{code:-32603,message:"Internal error"},[Bl]:{code:-32e3,message:"Server error"}},yf=Bl;function _5(t){return b5.includes(t)}function vf(t){return Object.keys(Xs).includes(t)?Xs[t]:Xs[yf]}function E5(t){return Object.values(Xs).find(r=>r.code===t)||Xs[yf]}function x5(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var wf={},gn={},bf;function S5(){if(bf)return gn;bf=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.isBrowserCryptoAvailable=gn.getSubtleCrypto=gn.getBrowerCrypto=void 0;function t(){return(Un==null?void 0:Un.crypto)||(Un==null?void 0:Un.msCrypto)||{}}gn.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}gn.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return gn.isBrowserCryptoAvailable=r,gn}var yn={},_f;function I5(){if(_f)return yn;_f=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.isBrowser=yn.isNode=yn.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}yn.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}yn.isNode=e;function r(){return!t()&&!e()}return yn.isBrowser=r,yn}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=rn;e.__exportStar(S5(),t),e.__exportStar(I5(),t)})(wf);function ql(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Ef(t=6){return BigInt(ql(t))}function is(t,e,r){return{id:r||ql(),jsonrpc:"2.0",method:t,params:e}}function Hl(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Zl(t,e,r){return{id:t,jsonrpc:"2.0",error:C5(e,r)}}function C5(t,e){return typeof t>"u"?vf(gf):(typeof t=="string"&&(t=Object.assign(Object.assign({},vf(Bl)),{message:t})),typeof e<"u"&&(t.data=e),_5(t.code)&&(t=E5(t.code)),t)}class O5{}class k5 extends O5{constructor(){super()}}class T5 extends k5{constructor(e){super()}}const A5="^wss?:";function P5(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function R5(t,e){const r=P5(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function xf(t){return R5(t,A5)}function N5(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Sf(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Fl(t){return Sf(t)&&"method"in t}function Ba(t){return Sf(t)&&(vn(t)||Wr(t))}function vn(t){return"result"in t}function Wr(t){return"error"in t}class $5 extends T5{constructor(e){super(e),this.events=new Ur.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(is(e.method,e.params||[],e.id||Ef().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Wr(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ba(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const L5=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:(()=>{try{return require("ws")}catch{}})(),j5=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",If=t=>t.split("?")[0],Cf=10,M5=L5();class D5{constructor(e){if(this.url=e,this.events=new Ur.EventEmitter,this.registering=!1,!xf(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Us(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!xf(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(e).get("origin"),s=wf.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!N5(e)},o=new M5(e,[],s);j5()?o.onerror=a=>{const c=a;n(this.emitError(c.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Oa(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Zl(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return x5(e,If(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Cf&&this.events.setMaxListeners(Cf)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${If(this.url)}`));return this.events.emit("register_error",r),r}}var qa={exports:{}};qa.exports,function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",f="[object Error]",m="[object Function]",g="[object GeneratorFunction]",w="[object Map]",C="[object Number]",I="[object Null]",_="[object Object]",E="[object Promise]",b="[object Proxy]",x="[object RegExp]",v="[object Set]",d="[object String]",y="[object Symbol]",T="[object Undefined]",R="[object WeakMap]",D="[object ArrayBuffer]",G="[object DataView]",q="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",Y="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",K="[object Uint32Array]",fe=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,ne={};ne[q]=ne[A]=ne[P]=ne[Y]=ne[V]=ne[z]=ne[B]=ne[U]=ne[K]=!0,ne[a]=ne[c]=ne[D]=ne[u]=ne[G]=ne[p]=ne[f]=ne[m]=ne[w]=ne[C]=ne[_]=ne[x]=ne[v]=ne[d]=ne[R]=!1;var ue=typeof Un=="object"&&Un&&Un.Object===Object&&Un,M=typeof self=="object"&&self&&self.Object===Object&&self,j=ue||M||Function("return this")(),N=e&&!e.nodeType&&e,h=N&&!0&&t&&!t.nodeType&&t,k=h&&h.exports===N,X=k&&ue.process,ie=function(){try{return X&&X.binding&&X.binding("util")}catch{}}(),Ue=ie&&ie.isTypedArray;function We(S,$){for(var H=-1,le=S==null?0:S.length,gt=0,$e=[];++H<le;){var Pt=S[H];$(Pt,H,S)&&($e[gt++]=Pt)}return $e}function Pe(S,$){for(var H=-1,le=$.length,gt=S.length;++H<le;)S[gt+H]=$[H];return S}function Je(S,$){for(var H=-1,le=S==null?0:S.length;++H<le;)if($(S[H],H,S))return!0;return!1}function vt(S,$){for(var H=-1,le=Array(S);++H<S;)le[H]=$(H);return le}function dt(S){return function($){return S($)}}function Fe(S,$){return S.has($)}function qe(S,$){return S==null?void 0:S[$]}function Re(S){var $=-1,H=Array(S.size);return S.forEach(function(le,gt){H[++$]=[gt,le]}),H}function Me(S,$){return function(H){return S($(H))}}function Ne(S){var $=-1,H=Array(S.size);return S.forEach(function(le){H[++$]=le}),H}var Oe=Array.prototype,Ie=Function.prototype,ye=Object.prototype,De=j["__core-js_shared__"],Ve=Ie.toString,_e=ye.hasOwnProperty,He=function(){var S=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),Xe=ye.toString,st=RegExp("^"+Ve.call(_e).replace(fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=k?j.Buffer:void 0,et=j.Symbol,Ar=j.Uint8Array,jr=ye.propertyIsEnumerable,fn=Oe.splice,Yt=et?et.toStringTag:void 0,mn=Object.getOwnPropertySymbols,Mr=ot?ot.isBuffer:void 0,li=Me(Object.keys,Object),wt=Ms(j,"DataView"),ft=Ms(j,"Map"),Ot=Ms(j,"Promise"),Et=Ms(j,"Set"),kt=Ms(j,"WeakMap"),mt=Ms(Object,"create"),$t=Bi(wt),Mt=Bi(ft),Dt=Bi(Ot),Lt=Bi(Et),zt=Bi(kt),jt=et?et.prototype:void 0,Tt=jt?jt.valueOf:void 0;function pt(S){var $=-1,H=S==null?0:S.length;for(this.clear();++$<H;){var le=S[$];this.set(le[0],le[1])}}function O(){this.__data__=mt?mt(null):{},this.size=0}function W(S){var $=this.has(S)&&delete this.__data__[S];return this.size-=$?1:0,$}function re(S){var $=this.__data__;if(mt){var H=$[S];return H===n?void 0:H}return _e.call($,S)?$[S]:void 0}function be(S){var $=this.__data__;return mt?$[S]!==void 0:_e.call($,S)}function tt(S,$){var H=this.__data__;return this.size+=this.has(S)?0:1,H[S]=mt&&$===void 0?n:$,this}pt.prototype.clear=O,pt.prototype.delete=W,pt.prototype.get=re,pt.prototype.has=be,pt.prototype.set=tt;function Ze(S){var $=-1,H=S==null?0:S.length;for(this.clear();++$<H;){var le=S[$];this.set(le[0],le[1])}}function Ke(){this.__data__=[],this.size=0}function Be(S){var $=this.__data__,H=Kc($,S);if(H<0)return!1;var le=$.length-1;return H==le?$.pop():fn.call($,H,1),--this.size,!0}function Gt(S){var $=this.__data__,H=Kc($,S);return H<0?void 0:$[H][1]}function xt(S){return Kc(this.__data__,S)>-1}function At(S,$){var H=this.__data__,le=Kc(H,S);return le<0?(++this.size,H.push([S,$])):H[le][1]=$,this}Ze.prototype.clear=Ke,Ze.prototype.delete=Be,Ze.prototype.get=Gt,Ze.prototype.has=xt,Ze.prototype.set=At;function Ut(S){var $=-1,H=S==null?0:S.length;for(this.clear();++$<H;){var le=S[$];this.set(le[0],le[1])}}function ui(){this.size=0,this.__data__={hash:new pt,map:new(ft||Ze),string:new pt}}function Zc(S){var $=Yc(this,S).delete(S);return this.size-=$?1:0,$}function Qr(S){return Yc(this,S).get(S)}function $C(S){return Yc(this,S).has(S)}function LC(S,$){var H=Yc(this,S),le=H.size;return H.set(S,$),this.size+=H.size==le?0:1,this}Ut.prototype.clear=ui,Ut.prototype.delete=Zc,Ut.prototype.get=Qr,Ut.prototype.has=$C,Ut.prototype.set=LC;function Fc(S){var $=-1,H=S==null?0:S.length;for(this.__data__=new Ut;++$<H;)this.add(S[$])}function jC(S){return this.__data__.set(S,n),this}function MC(S){return this.__data__.has(S)}Fc.prototype.add=Fc.prototype.push=jC,Fc.prototype.has=MC;function di(S){var $=this.__data__=new Ze(S);this.size=$.size}function DC(){this.__data__=new Ze,this.size=0}function zC(S){var $=this.__data__,H=$.delete(S);return this.size=$.size,H}function UC(S){return this.__data__.get(S)}function WC(S){return this.__data__.has(S)}function VC(S,$){var H=this.__data__;if(H instanceof Ze){var le=H.__data__;if(!ft||le.length<r-1)return le.push([S,$]),this.size=++H.size,this;H=this.__data__=new Ut(le)}return H.set(S,$),this.size=H.size,this}di.prototype.clear=DC,di.prototype.delete=zC,di.prototype.get=UC,di.prototype.has=WC,di.prototype.set=VC;function BC(S,$){var H=Gc(S),le=!H&&iO(S),gt=!H&&!le&&eh(S),$e=!H&&!le&&!gt&&ug(S),Pt=H||le||gt||$e,Zt=Pt?vt(S.length,String):[],Qt=Zt.length;for(var St in S)($||_e.call(S,St))&&!(Pt&&(St=="length"||gt&&(St=="offset"||St=="parent")||$e&&(St=="buffer"||St=="byteLength"||St=="byteOffset")||XC(St,Qt)))&&Zt.push(St);return Zt}function Kc(S,$){for(var H=S.length;H--;)if(og(S[H][0],$))return H;return-1}function qC(S,$,H){var le=$(S);return Gc(S)?le:Pe(le,H(S))}function pa(S){return S==null?S===void 0?T:I:Yt&&Yt in Object(S)?QC(S):nO(S)}function rg(S){return fa(S)&&pa(S)==a}function ng(S,$,H,le,gt){return S===$?!0:S==null||$==null||!fa(S)&&!fa($)?S!==S&&$!==$:HC(S,$,H,le,ng,gt)}function HC(S,$,H,le,gt,$e){var Pt=Gc(S),Zt=Gc($),Qt=Pt?c:hi(S),St=Zt?c:hi($);Qt=Qt==a?_:Qt,St=St==a?_:St;var Pr=Qt==_,Jr=St==_,ir=Qt==St;if(ir&&eh(S)){if(!eh($))return!1;Pt=!0,Pr=!1}if(ir&&!Pr)return $e||($e=new di),Pt||ug(S)?ig(S,$,H,le,gt,$e):YC(S,$,Qt,H,le,gt,$e);if(!(H&i)){var Dr=Pr&&_e.call(S,"__wrapped__"),zr=Jr&&_e.call($,"__wrapped__");if(Dr||zr){var pi=Dr?S.value():S,$n=zr?$.value():$;return $e||($e=new di),gt(pi,$n,H,le,$e)}}return ir?($e||($e=new di),GC(S,$,H,le,gt,$e)):!1}function ZC(S){if(!lg(S)||tO(S))return!1;var $=ag(S)?st:F;return $.test(Bi(S))}function FC(S){return fa(S)&&cg(S.length)&&!!ne[pa(S)]}function KC(S){if(!rO(S))return li(S);var $=[];for(var H in Object(S))_e.call(S,H)&&H!="constructor"&&$.push(H);return $}function ig(S,$,H,le,gt,$e){var Pt=H&i,Zt=S.length,Qt=$.length;if(Zt!=Qt&&!(Pt&&Qt>Zt))return!1;var St=$e.get(S);if(St&&$e.get($))return St==$;var Pr=-1,Jr=!0,ir=H&s?new Fc:void 0;for($e.set(S,$),$e.set($,S);++Pr<Zt;){var Dr=S[Pr],zr=$[Pr];if(le)var pi=Pt?le(zr,Dr,Pr,$,S,$e):le(Dr,zr,Pr,S,$,$e);if(pi!==void 0){if(pi)continue;Jr=!1;break}if(ir){if(!Je($,function($n,qi){if(!Fe(ir,qi)&&(Dr===$n||gt(Dr,$n,H,le,$e)))return ir.push(qi)})){Jr=!1;break}}else if(!(Dr===zr||gt(Dr,zr,H,le,$e))){Jr=!1;break}}return $e.delete(S),$e.delete($),Jr}function YC(S,$,H,le,gt,$e,Pt){switch(H){case G:if(S.byteLength!=$.byteLength||S.byteOffset!=$.byteOffset)return!1;S=S.buffer,$=$.buffer;case D:return!(S.byteLength!=$.byteLength||!$e(new Ar(S),new Ar($)));case u:case p:case C:return og(+S,+$);case f:return S.name==$.name&&S.message==$.message;case x:case d:return S==$+"";case w:var Zt=Re;case v:var Qt=le&i;if(Zt||(Zt=Ne),S.size!=$.size&&!Qt)return!1;var St=Pt.get(S);if(St)return St==$;le|=s,Pt.set(S,$);var Pr=ig(Zt(S),Zt($),le,gt,$e,Pt);return Pt.delete(S),Pr;case y:if(Tt)return Tt.call(S)==Tt.call($)}return!1}function GC(S,$,H,le,gt,$e){var Pt=H&i,Zt=sg(S),Qt=Zt.length,St=sg($),Pr=St.length;if(Qt!=Pr&&!Pt)return!1;for(var Jr=Qt;Jr--;){var ir=Zt[Jr];if(!(Pt?ir in $:_e.call($,ir)))return!1}var Dr=$e.get(S);if(Dr&&$e.get($))return Dr==$;var zr=!0;$e.set(S,$),$e.set($,S);for(var pi=Pt;++Jr<Qt;){ir=Zt[Jr];var $n=S[ir],qi=$[ir];if(le)var dg=Pt?le(qi,$n,ir,$,S,$e):le($n,qi,ir,S,$,$e);if(!(dg===void 0?$n===qi||gt($n,qi,H,le,$e):dg)){zr=!1;break}pi||(pi=ir=="constructor")}if(zr&&!pi){var Qc=S.constructor,Jc=$.constructor;Qc!=Jc&&"constructor"in S&&"constructor"in $&&!(typeof Qc=="function"&&Qc instanceof Qc&&typeof Jc=="function"&&Jc instanceof Jc)&&(zr=!1)}return $e.delete(S),$e.delete($),zr}function sg(S){return qC(S,aO,JC)}function Yc(S,$){var H=S.__data__;return eO($)?H[typeof $=="string"?"string":"hash"]:H.map}function Ms(S,$){var H=qe(S,$);return ZC(H)?H:void 0}function QC(S){var $=_e.call(S,Yt),H=S[Yt];try{S[Yt]=void 0;var le=!0}catch{}var gt=Xe.call(S);return le&&($?S[Yt]=H:delete S[Yt]),gt}var JC=mn?function(S){return S==null?[]:(S=Object(S),We(mn(S),function($){return jr.call(S,$)}))}:cO,hi=pa;(wt&&hi(new wt(new ArrayBuffer(1)))!=G||ft&&hi(new ft)!=w||Ot&&hi(Ot.resolve())!=E||Et&&hi(new Et)!=v||kt&&hi(new kt)!=R)&&(hi=function(S){var $=pa(S),H=$==_?S.constructor:void 0,le=H?Bi(H):"";if(le)switch(le){case $t:return G;case Mt:return w;case Dt:return E;case Lt:return v;case zt:return R}return $});function XC(S,$){return $=$??o,!!$&&(typeof S=="number"||pe.test(S))&&S>-1&&S%1==0&&S<$}function eO(S){var $=typeof S;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?S!=="__proto__":S===null}function tO(S){return!!He&&He in S}function rO(S){var $=S&&S.constructor,H=typeof $=="function"&&$.prototype||ye;return S===H}function nO(S){return Xe.call(S)}function Bi(S){if(S!=null){try{return Ve.call(S)}catch{}try{return S+""}catch{}}return""}function og(S,$){return S===$||S!==S&&$!==$}var iO=rg(function(){return arguments}())?rg:function(S){return fa(S)&&_e.call(S,"callee")&&!jr.call(S,"callee")},Gc=Array.isArray;function sO(S){return S!=null&&cg(S.length)&&!ag(S)}var eh=Mr||lO;function oO(S,$){return ng(S,$)}function ag(S){if(!lg(S))return!1;var $=pa(S);return $==m||$==g||$==l||$==b}function cg(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=o}function lg(S){var $=typeof S;return S!=null&&($=="object"||$=="function")}function fa(S){return S!=null&&typeof S=="object"}var ug=Ue?dt(Ue):FC;function aO(S){return sO(S)?BC(S):KC(S)}function cO(){return[]}function lO(){return!1}t.exports=oO}(qa,qa.exports);var z5=qa.exports;const U5=ba(z5);function W5(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,s=[],o=[],a={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return s},entries:function(){return o},get:function(u){return a[u.toLowerCase()]},has:function(u){return u.toLowerCase()in a}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(u,p,f){s.push(p=p.toLowerCase()),o.push([p,f]),a[p]=a[p]?a[p]+","+f:f}),r(c())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}const V5=Object.freeze(Object.defineProperty({__proto__:null,default:W5},Symbol.toStringTag,{value:"Module"})),Of=_a(V5);var B5=fetch||(self.fetch=Of.default||Of);const q5=ba(B5);function H5(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function p(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var w=0,C=0,I=0,_=g.length;I!==_&&g[I]===0;)I++,w++;for(var E=(_-I)*u+1>>>0,b=new Uint8Array(E);I!==_;){for(var x=g[I],v=0,d=E-1;(x!==0||v<C)&&d!==-1;d--,v++)x+=256*b[d]>>>0,b[d]=x%a>>>0,x=x/a>>>0;if(x!==0)throw new Error("Non-zero carry");C=v,I++}for(var y=E-C;y!==E&&b[y]===0;)y++;for(var T=c.repeat(w);y<E;++y)T+=t.charAt(b[y]);return T}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var w=0;if(g[w]!==" "){for(var C=0,I=0;g[w]===c;)C++,w++;for(var _=(g.length-w)*l+1>>>0,E=new Uint8Array(_);g[w];){var b=r[g.charCodeAt(w)];if(b===255)return;for(var x=0,v=_-1;(b!==0||x<I)&&v!==-1;v--,x++)b+=a*E[v]>>>0,E[v]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");I=x,w++}if(g[w]!==" "){for(var d=_-I;d!==_&&E[d]===0;)d++;for(var y=new Uint8Array(C+(_-d)),T=C;d!==_;)y[T++]=E[d++];return y}}}function m(g){var w=f(g);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:f,decode:m}}var Z5=H5,F5=Z5;const kf=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},K5=t=>new TextEncoder().encode(t),Y5=t=>new TextDecoder().decode(t);class G5{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Q5{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Tf(this,e)}}class J5{constructor(e){this.decoders=e}or(e){return Tf(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Tf=(t,e)=>new J5({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class X5{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new G5(e,r,n),this.decoder=new Q5(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ha=({name:t,prefix:e,encode:r,decode:n})=>new X5(t,e,r,n),eo=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=F5(r,e);return Ha({prefix:t,name:e,encode:n,decode:s=>kf(i(s))})},e3=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const p=i[t[u]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|p,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},t3=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Kt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ha({prefix:e,name:t,encode(i){return t3(i,n,r)},decode(i){return e3(i,n,r,t)}}),r3=Ha({prefix:"\0",name:"identity",encode:t=>Y5(t),decode:t=>K5(t)});var n3=Object.freeze({__proto__:null,identity:r3});const i3=Kt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var s3=Object.freeze({__proto__:null,base2:i3});const o3=Kt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var a3=Object.freeze({__proto__:null,base8:o3});const c3=eo({prefix:"9",name:"base10",alphabet:"0123456789"});var l3=Object.freeze({__proto__:null,base10:c3});const u3=Kt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),d3=Kt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var h3=Object.freeze({__proto__:null,base16:u3,base16upper:d3});const p3=Kt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),f3=Kt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),m3=Kt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),g3=Kt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),y3=Kt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),v3=Kt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),w3=Kt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),b3=Kt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_3=Kt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var E3=Object.freeze({__proto__:null,base32:p3,base32upper:f3,base32pad:m3,base32padupper:g3,base32hex:y3,base32hexupper:v3,base32hexpad:w3,base32hexpadupper:b3,base32z:_3});const x3=eo({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),S3=eo({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var I3=Object.freeze({__proto__:null,base36:x3,base36upper:S3});const C3=eo({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),O3=eo({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var k3=Object.freeze({__proto__:null,base58btc:C3,base58flickr:O3});const T3=Kt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),A3=Kt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),P3=Kt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),R3=Kt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var N3=Object.freeze({__proto__:null,base64:T3,base64pad:A3,base64url:P3,base64urlpad:R3});const Af=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),$3=Af.reduce((t,e,r)=>(t[r]=e,t),[]),L3=Af.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function j3(t){return t.reduce((e,r)=>(e+=$3[r],e),"")}function M3(t){const e=[];for(const r of t){const n=L3[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const D3=Ha({prefix:"🚀",name:"base256emoji",encode:j3,decode:M3});var z3=Object.freeze({__proto__:null,base256emoji:D3}),U3=Rf,Pf=128,W3=127,V3=~W3,B3=Math.pow(2,31);function Rf(t,e,r){e=e||[],r=r||0;for(var n=r;t>=B3;)e[r++]=t&255|Pf,t/=128;for(;t&V3;)e[r++]=t&255|Pf,t>>>=7;return e[r]=t|0,Rf.bytes=r-n+1,e}var q3=Kl,H3=128,Nf=127;function Kl(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Kl.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&Nf)<<i:(o&Nf)*Math.pow(2,i),i+=7}while(o>=H3);return Kl.bytes=s-n,r}var Z3=Math.pow(2,7),F3=Math.pow(2,14),K3=Math.pow(2,21),Y3=Math.pow(2,28),G3=Math.pow(2,35),Q3=Math.pow(2,42),J3=Math.pow(2,49),X3=Math.pow(2,56),e_=Math.pow(2,63),t_=function(t){return t<Z3?1:t<F3?2:t<K3?3:t<Y3?4:t<G3?5:t<Q3?6:t<J3?7:t<X3?8:t<e_?9:10},r_={encode:U3,decode:q3,encodingLength:t_},$f=r_;const Lf=(t,e,r=0)=>($f.encode(t,e,r),e),jf=t=>$f.encodingLength(t),Yl=(t,e)=>{const r=e.byteLength,n=jf(t),i=n+jf(r),s=new Uint8Array(i+r);return Lf(t,s,0),Lf(r,s,n),s.set(e,i),new n_(t,r,e,s)};class n_{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const Mf=({name:t,code:e,encode:r})=>new i_(t,e,r);class i_{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Yl(this.code,r):r.then(n=>Yl(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Df=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),s_=Mf({name:"sha2-256",code:18,encode:Df("SHA-256")}),o_=Mf({name:"sha2-512",code:19,encode:Df("SHA-512")});var a_=Object.freeze({__proto__:null,sha256:s_,sha512:o_});const zf=0,c_="identity",Uf=kf;var l_=Object.freeze({__proto__:null,identity:{code:zf,name:c_,encode:Uf,digest:t=>Yl(zf,Uf(t))}});new TextEncoder,new TextDecoder;const Wf={...n3,...s3,...a3,...l3,...h3,...E3,...I3,...k3,...N3,...z3};({...a_,...l_});function Vf(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function u_(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Vf(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Bf(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const qf=Bf("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Gl=Bf("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=u_(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),d_={utf8:qf,"utf-8":qf,hex:Wf.base16,latin1:Gl,ascii:Gl,binary:Gl,...Wf};function h_(t,e="utf8"){const r=d_[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Vf(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const Hf="wc",p_=2,Ql="core",Bn=`${Hf}@2:${Ql}:`,f_={name:Ql,logger:"error"},m_={database:":memory:"},g_="crypto",Zf="client_ed25519_seed",y_=de.ONE_DAY,v_="keychain",w_="0.3",b_="messages",__="0.3",E_=de.SIX_HOURS,x_="publisher",Ff="irn",S_="error",Kf="wss://relay.walletconnect.com",Yf="wss://relay.walletconnect.org",I_="relayer",er={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},C_="_subscription",wn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},O_=de.ONE_SECOND,k_="2.11.2",T_=1e4,A_="0.3",P_="WALLETCONNECT_CLIENT_ID",Vr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},R_="subscription",N_="0.3",$_=de.FIVE_SECONDS*1e3,L_="pairing",j_="0.3",to={wc_pairingDelete:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:de.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:de.ONE_DAY,prompt:!1,tag:0},res:{ttl:de.ONE_DAY,prompt:!1,tag:0}}},ro={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},sn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},M_="history",D_="0.3",z_="expirer",Rr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},U_="0.3",Jl="verify-api",ss="https://verify.walletconnect.com",Xl="https://verify.walletconnect.org",W_=[ss,Xl],V_="echo",B_="https://echo.walletconnect.com";class q_{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=v_,this.version=w_,this.initialized=!1,this.storagePrefix=Bn,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ee("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Ge.generateChildLogger(r,this.name)}get context(){return Ge.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tf(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?rf(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}class H_{constructor(e,r,n){this.core=e,this.logger=r,this.name=g_,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=kp(i);return Op(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=eb();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=kp(s),a=Ml();return await c2(a,i,y_,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=tb(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||rb(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=Gp(o),c=Us(s);if(Qp(a)){const f=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(f,m)}const l=this.getSymKey(i),{type:u,senderPublicKey:p}=a;return ib({type:u,symKey:l,message:c,senderPublicKey:p})},this.decode=async(i,s,o)=>{this.isInitialized();const a=ab(s,o);if(Qp(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=sb({symKey:c,encoded:s});return Oa(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=i=>{const s=Da(i);return Ys(s.type)},this.getPayloadSenderPublicKey=i=>{const s=Da(i);return s.senderPublicKey?or(s.senderPublicKey,ar):void 0},this.core=e,this.logger=Ge.generateChildLogger(r,this.name),this.keychain=n||new q_(this.core,this.logger)}get context(){return Ge.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Zf)}catch{e=Ml(),await this.keychain.set(Zf,e)}return h_(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Z_ extends hv{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=b_,this.version=__,this.initialized=!1,this.storagePrefix=Bn,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Xi(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Xi(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Ge.generateChildLogger(e,this.name),this.core=r}get context(){return Ge.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tf(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?rf(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}class F_ extends pv{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Ur.EventEmitter,this.name=x_,this.queue=new Map,this.publishTimeout=de.toMiliseconds(de.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{const a=(s==null?void 0:s.ttl)||E_,c=zl(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,p=(s==null?void 0:s.id)||Ef().toString(),f={topic:n,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:p}},m=setTimeout(()=>this.queue.set(p,f),this.publishTimeout);try{await await Qs(this.rpcPublish(n,i,a,c,l,u,p),this.publishTimeout,`Failed to publish payload, please try again. id:${p} tag:${u}`),this.removeRequestFromQueue(p),this.relayer.events.emit(er.publish,f)}catch(g){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(p),g;return}finally{clearTimeout(m)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Ge.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Ge.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o,a){var c,l,u,p;const f={method:za(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o},id:a};return cr((c=f.params)==null?void 0:c.prompt)&&((l=f.params)==null||delete l.prompt),cr((u=f.params)==null?void 0:u.tag)&&((p=f.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f}),this.relayer.request(f)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Fi.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(er.connection_stalled);return}this.checkQueue()}),this.relayer.on(er.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class K_{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Y_=Object.defineProperty,G_=Object.defineProperties,Q_=Object.getOwnPropertyDescriptors,Gf=Object.getOwnPropertySymbols,J_=Object.prototype.hasOwnProperty,X_=Object.prototype.propertyIsEnumerable,Qf=(t,e,r)=>e in t?Y_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,no=(t,e)=>{for(var r in e||(e={}))J_.call(e,r)&&Qf(t,r,e[r]);if(Gf)for(var r of Gf(e))X_.call(e,r)&&Qf(t,r,e[r]);return t},eu=(t,e)=>G_(t,Q_(e));class e6 extends gv{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new K_,this.events=new Ur.EventEmitter,this.name=R_,this.version=N_,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Bn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=zl(i),o={topic:n,relay:s};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new de.Watch;a.start(i);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),a.stop(i),s(!0)),a.elapsed(i)>=$_&&(clearInterval(c),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ge.generateChildLogger(r,this.name),this.clientId=""}get context(){return Ge.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=zl(n);await this.rpcUnsubscribe(e,r,i);const s=It("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){const n={method:za(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Qs(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(er.connection_stalled)}return Xi(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:za(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Qs(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(er.connection_stalled)}}rpcUnsubscribe(e,r,n){const i={method:za(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,eu(no({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,no({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,no({},r)),this.topicMap.set(r.topic,e),this.events.emit(Vr.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Vr.deleted,eu(no({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Vr.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Vr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);Js(r)&&this.onBatchSubscribe(r.map((n,i)=>eu(no({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Fi.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(er.connect,async()=>{await this.onConnect()}),this.relayer.on(er.disconnect,()=>{this.onDisconnect()}),this.events.on(Vr.created,async e=>{const r=Vr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Vr.deleted,async e=>{const r=Vr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var t6=Object.defineProperty,Jf=Object.getOwnPropertySymbols,r6=Object.prototype.hasOwnProperty,n6=Object.prototype.propertyIsEnumerable,Xf=(t,e,r)=>e in t?t6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i6=(t,e)=>{for(var r in e||(e={}))r6.call(e,r)&&Xf(t,r,e[r]);if(Jf)for(var r of Jf(e))n6.call(e,r)&&Xf(t,r,e[r]);return t};class s6 extends fv{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Ur.EventEmitter,this.name=I_,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async r=>{this.logger.debug("Publishing Request Payload");const n=r.id;try{await this.toEstablishConnection();const i=this.provider.request(r);return this.requestsInFlight.set(n,{promise:i,request:r}),await i}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}finally{this.requestsInFlight.delete(n)}},this.onPayloadHandler=r=>{this.onProviderPayload(r)},this.onConnectHandler=()=>{this.events.emit(er.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(er.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(wn.payload,this.onPayloadHandler),this.provider.on(wn.connect,this.onConnectHandler),this.provider.on(wn.disconnect,this.onDisconnectHandler),this.provider.on(wn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ge.generateChildLogger(e.logger,this.name):Ge.pino(Ge.getDefaultLoggerOptions({level:e.logger||S_})),this.messages=new Z_(this.logger,e.core),this.subscriber=new e6(this,this.logger),this.publisher=new F_(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Kf,this.projectId=e.projectId,this.bundleId=pb(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Yf}...`),await this.restartTransport(Yf)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},T_)}get context(){return Ge.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";if(i)return i;let s;const o=a=>{a.topic===e&&(this.subscriber.off(Vr.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Vr.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(e,r),a()})]),i}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async e=>{await e.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Qs(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(r=>{if(!this.initialized)return r();this.subscriber.once(Vr.resubscribed,()=>{r()})}),new Promise(async(r,n)=>{try{await Qs(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}r()})])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.provider.events.emit(wn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await mf())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new $5(new D5(wb({sdkVersion:k_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Fl(e)){if(!e.method.endsWith(C_))return;const r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(i6({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Ba(e)&&this.events.emit(er.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(er.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=Hl(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(wn.payload,this.onPayloadHandler),this.provider.off(wn.connect,this.onConnectHandler),this.provider.off(wn.disconnect,this.onDisconnectHandler),this.provider.off(wn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(er.connection_stalled,()=>{this.restartTransport().catch(r=>this.logger.error(r))});let e=await mf();p5(async r=>{this.initialized&&e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(er.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},de.toMiliseconds(O_)))}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var o6=Object.defineProperty,e0=Object.getOwnPropertySymbols,a6=Object.prototype.hasOwnProperty,c6=Object.prototype.propertyIsEnumerable,t0=(t,e,r)=>e in t?o6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r0=(t,e)=>{for(var r in e||(e={}))a6.call(e,r)&&t0(t,r,e[r]);if(e0)for(var r of e0(e))c6.call(e,r)&&t0(t,r,e[r]);return t};let Za=class extends mv{constructor(e,r,n,i=Bn,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=A_,this.cached=[],this.initialized=!1,this.storagePrefix=Bn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!cr(o)?this.map.set(this.getKey(o),o):qb(o)?this.map.set(o.id,o):Hb(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>U5(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=r0(r0({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=Ge.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ge.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};class l6{constructor(e,r){this.core=e,this.logger=r,this.name=L_,this.version=j_,this.events=new cl,this.initialized=!1,this.storagePrefix=Bn,this.ignoredPayloadTypes=[xi],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Ml(),i=await this.core.crypto.setSymKey(n),s=Or(de.FIVE_MINUTES),o={protocol:Ff},a={topic:i,expiry:s,relay:o,active:!1},c=Lb({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o,expiryTimestamp:s});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:i,symKey:s,relay:o,expiryTimestamp:a}=cf(n.uri);let c;if(this.pairings.keys.includes(i)&&(c=this.pairings.get(i),c.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);const l=a||Or(de.FIVE_MINUTES),u={topic:i,relay:o,expiry:l,active:!1};return await this.pairings.set(i,u),this.core.expirer.set(i,l),n.activatePairing&&await this.activate({topic:i}),this.events.emit(ro.create,u),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o})),u},this.activate=async({topic:n})=>{this.isInitialized();const i=Or(de.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=rs();this.events.once(Nt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",It("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{const o=is(i,s),a=await this.core.crypto.encode(n,o),c=to[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=Hl(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=to[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=Zl(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=to[c.request.method]?to[c.request.method].res:to.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,It("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Vn(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(ro.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{vn(i)?this.events.emit(Nt("pairing_ping",s),{}):Wr(i)&&this.events.emit(Nt("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(ro.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=It("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(It("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var i;if(!wr(n)){const{message:o}=ee("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(o)}if(!Bb(n.uri)){const{message:o}=ee("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(o)}const s=cf(n.uri);if(!((i=s==null?void 0:s.relay)!=null&&i.protocol)){const{message:o}=ee("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(o)}if(!(s!=null&&s.symKey)){const{message:o}=ee("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(o)}if(s!=null&&s.expiryTimestamp&&de.toMiliseconds(s==null?void 0:s.expiryTimestamp)<Date.now()){const{message:o}=ee("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!wr(n)){const{message:s}=ee("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!wr(n)){const{message:s}=ee("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!qt(n,!1)){const{message:i}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Vn(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ee("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Ge.generateChildLogger(r,this.name),this.pairings=new Za(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ge.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(er.message,async e=>{const{topic:r,message:n}=e;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const i=await this.core.crypto.decode(r,n);try{Fl(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Ba(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Rr.expired,async e=>{const{topic:r}=sf(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(ro.expire,{topic:r}))})}}class u6 extends dv{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Ur.EventEmitter,this.name=M_,this.version=D_,this.cached=[],this.initialized=!1,this.storagePrefix=Bn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Or(de.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(sn.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Wr(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(sn.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(sn.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ge.generateChildLogger(r,this.name)}get context(){return Ge.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:is(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(sn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(sn.created,e=>{const r=sn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(sn.updated,e=>{const r=sn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(sn.deleted,e=>{const r=sn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.core.heartbeat.on(Fi.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{de.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}class d6 extends yv{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Ur.EventEmitter,this.name=z_,this.version=U_,this.cached=[],this.initialized=!1,this.storagePrefix=Bn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Rr.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Rr.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ge.generateChildLogger(r,this.name)}get context(){return Ge.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return bb(e);if(typeof e=="number")return _b(e);const{message:r}=ee("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Rr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;de.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Rr.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Fi.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Rr.created,e=>{const r=Rr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Rr.expired,e=>{const r=Rr.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Rr.deleted,e=>{const r=Rr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}class h6 extends vv{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=Jl,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||es()||!ts())return;const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Xl;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const i=this.getVerifyUrl(n==null?void 0:n.verifyUrl);let s;try{s=await this.fetchAttestation(n.attestationId,i)}catch(o){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(o),s=await this.fetchAttestation(n.attestationId,Xl)}return s},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);const s=this.startAbortTimer(de.ONE_SECOND*2),o=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const i=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(s=>{if(document.getElementById(Jl))return s();window.addEventListener("message",i);const o=document.createElement("iframe");o.id=Jl,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,n=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",i),o("verify iframe load timeout")},de.toMiliseconds(de.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||ss;return W_.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${ss}`),i=ss),i},this.logger=Ge.generateChildLogger(r,this.name),this.verifyUrl=ss,this.abortController=new AbortController,this.isDevEnv=Dl()&&process.env.IS_VITEST}get context(){return Ge.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),de.toMiliseconds(e))}}class p6 extends wv{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=V_,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${B_}/${this.projectId}/clients`;await q5(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=Ge.generateChildLogger(r,this.context)}}var f6=Object.defineProperty,n0=Object.getOwnPropertySymbols,m6=Object.prototype.hasOwnProperty,g6=Object.prototype.propertyIsEnumerable,i0=(t,e,r)=>e in t?f6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s0=(t,e)=>{for(var r in e||(e={}))m6.call(e,r)&&i0(t,r,e[r]);if(n0)for(var r of n0(e))g6.call(e,r)&&i0(t,r,e[r]);return t};const y6=class hg extends uv{constructor(e){super(e),this.protocol=Hf,this.version=p_,this.name=Ql,this.events=new Ur.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Kf,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Ge.pino(Ge.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||f_.logger}));this.logger=Ge.generateChildLogger(r,this.name),this.heartbeat=new Fi.HeartBeat,this.crypto=new H_(this,this.logger,e==null?void 0:e.keychain),this.history=new u6(this,this.logger),this.expirer=new d6(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Oy(s0(s0({},m_),e==null?void 0:e.storageOptions)),this.relayer=new s6({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new l6(this,this.logger),this.verify=new h6(this.projectId||"",this.logger),this.echoClient=new p6(this.projectId||"",this.logger)}static async init(e){const r=new hg(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(P_,n),r}get context(){return Ge.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},o0="wc",a0=2,c0="client",tu=`${o0}@${a0}:${c0}:`,ru={name:c0,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},l0="WALLETCONNECT_DEEPLINK_CHOICE",v6="proposal",w6="Proposal expired",b6="session",Fa=de.SEVEN_DAYS,_6="engine",bn={wc_sessionPropose:{req:{ttl:de.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1104},res:{ttl:de.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1106},res:{ttl:de.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:de.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:de.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:de.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:de.ONE_DAY,prompt:!1,tag:1112},res:{ttl:de.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:de.THIRTY_SECONDS,prompt:!1,tag:1115}}},nu={min:de.FIVE_MINUTES,max:de.SEVEN_DAYS},_n={idle:"IDLE",active:"ACTIVE"},E6="request",x6=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var S6=Object.defineProperty,I6=Object.defineProperties,C6=Object.getOwnPropertyDescriptors,u0=Object.getOwnPropertySymbols,O6=Object.prototype.hasOwnProperty,k6=Object.prototype.propertyIsEnumerable,d0=(t,e,r)=>e in t?S6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lr=(t,e)=>{for(var r in e||(e={}))O6.call(e,r)&&d0(t,r,e[r]);if(u0)for(var r of u0(e))k6.call(e,r)&&d0(t,r,e[r]);return t},os=(t,e)=>I6(t,C6(e));class T6 extends _v{constructor(e){super(e),this.name=_6,this.events=new cl,this.initialized=!1,this.ignoredPayloadTypes=[xi],this.requestQueue={state:_n.idle,queue:[]},this.sessionRequestQueue={state:_n.idle,queue:[]},this.requestQueueDelay=de.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(bn)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},de.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const n=os(lr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=i,u,p=!1;if(l&&(p=this.client.core.pairing.pairings.get(l).active),!l||!p){const{topic:b,uri:x}=await this.client.core.pairing.create();l=b,u=x}const f=await this.client.core.crypto.generateKeyPair(),m=bn.wc_sessionPropose.req.ttl||de.FIVE_MINUTES,g=Or(m),w=lr({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:Ff}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g},a&&{sessionProperties:a}),{reject:C,resolve:I,done:_}=rs(m,w6);if(this.events.once(Nt("session_connect"),async({error:b,session:x})=>{if(b)C(b);else if(x){x.self.publicKey=f;const v=os(lr({},x),{requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces});await this.client.session.set(x.topic,v),await this.setExpiry(x.topic,x.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:x.peer.metadata}),I(v)}}),!l){const{message:b}=ee("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(b)}const E=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0});return await this.setProposal(E,lr({id:E},w)),{uri:u,approval:_}},this.pair=async r=>(await this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{await this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n);let{pairingTopic:c,proposer:l,requiredNamespaces:u,optionalNamespaces:p}=a;c=c||"";const f=await this.client.core.crypto.generateKeyPair(),m=l.publicKey,g=await this.client.core.crypto.generateSharedKey(f,m);c&&n&&(await this.client.core.pairing.updateMetadata({topic:c,metadata:l.metadata}),await this.sendResult({id:n,topic:c,result:{relay:{protocol:i??"irn"},responderPublicKey:f}}),await this.client.proposal.delete(n,It("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}));const w=lr({relay:{protocol:i??"irn"},namespaces:s,pairingTopic:c,controller:{publicKey:f,metadata:this.client.metadata},expiry:Or(Fa)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(g);const C=os(lr({},w),{topic:g,requiredNamespaces:u,optionalNamespaces:p,pairingTopic:c,acknowledged:!1,self:w.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:f});await this.client.session.set(g,C);try{await this.sendRequest({topic:g,method:"wc_sessionSettle",params:w,throwOnFailedPublish:!0})}catch(I){throw this.client.logger.error(I),this.client.session.delete(g,It("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(g),I}return await this.setExpiry(g,Or(Fa)),{topic:g,acknowledged:()=>new Promise(I=>setTimeout(()=>I(this.client.session.get(g)),500))}},this.reject=async r=>{await this.isInitialized(),await this.isValidReject(r);const{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,It("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:i}=r,s=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:o,resolve:a,reject:c}=rs();return this.events.once(Nt("session_update",s),({error:l})=>{l?c(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{await this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:s,resolve:o,reject:a}=rs();return this.events.once(Nt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Or(Fa)),{acknowledged:s}},this.request=async r=>{await this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:i,topic:s,expiry:o=bn.wc_sessionRequest.req.ttl}=r,a=ql(),{done:c,resolve:l,reject:u}=rs(o,"Request expired. Please try again.");return this.events.once(Nt("session_request",a),({error:p,result:f})=>{p?u(p):l(f)}),await Promise.all([new Promise(async p=>{await this.sendRequest({clientRpcId:a,topic:s,method:"wc_sessionRequest",params:{request:os(lr({},i),{expiryTimestamp:Or(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(f=>u(f)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),p()}),new Promise(async p=>{const f=await xb(this.client.core.storage,l0);Eb({id:a,topic:s,wcDeepLink:f}),p()}),c()]).then(p=>p[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i;vn(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0}):Wr(i)&&await this.sendError(s,n,i.error),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:s,resolve:o,reject:a}=rs();this.events.once(Nt("session_ping",i),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s}})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:It("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ee("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Wb(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{const{topic:n,expirerHasDeleted:i=!1,emitEvent:s=!0,id:o=0}=r,{self:a}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,It("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),i||this.client.core.expirer.del(n),this.client.core.storage.removeItem(l0).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===n&&this.deletePendingSessionRequest(c.id,It("USER_DISCONNECTED"))}),s&&this.client.events.emit("session_delete",{id:o,topic:n})},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,It("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=_n.idle,this.client.events.emit("session_request_expire",{id:r}))},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,Or(bn.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Or(bn.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o}),a&&this.client.core.expirer.set(n,a)},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l}=r,u=is(i,s,c);if(ts()&&x6.includes(i)){const m=Xi(JSON.stringify(u));this.client.core.verify.register({attestationId:m})}const p=await this.client.core.crypto.encode(n,u),f=bn[i].req;return o&&(f.ttl=o),a&&(f.id=a),this.client.core.history.set(n,u),l?(f.internal=os(lr({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,p,f)):this.client.core.relayer.publish(n,p,f).catch(m=>this.client.logger.error(m)),u.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o}=r,a=Hl(n,s),c=await this.client.core.crypto.encode(i,a),l=await this.client.core.history.get(i,n),u=bn[l.request.method].res;o?(u.internal=os(lr({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,c,u)):this.client.core.relayer.publish(i,c,u).catch(p=>this.client.logger.error(p)),await this.client.core.history.resolve(a)},this.sendError=async(r,n,i)=>{const s=Zl(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),c=bn[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Vn(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Vn(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===_n.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=_n.active;const r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=_n.idle},this.processRequest=r=>{const{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=ee("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(r,n)=>{const{params:i,id:s}=n;try{this.isValidConnect(lr({},n.params));const o=i.expiryTimestamp||Or(bn.wc_sessionPropose.req.ttl),a=lr({id:s,pairingTopic:r,expiryTimestamp:o},i);await this.setProposal(s,a);const c=Xi(JSON.stringify(n)),l=await this.getVerifyContext(c,a.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:a,verifyContext:l})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{const{id:i}=n;if(vn(n)){const{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const l=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});const u=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:r})}else Wr(n)&&(await this.client.proposal.delete(i,It("USER_DISCONNECTED")),this.events.emit(Nt("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,pairingTopic:p}=n.params,f=lr({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p,requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u});await this.sendResult({id:n.id,topic:r,result:!0}),this.events.emit(Nt("session_connect"),{session:f}),this.cleanupDuplicatePairings(f)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;vn(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Nt("session_approve",i),{})):Wr(n)&&(await this.client.session.delete(r,It("USER_DISCONNECTED")),this.events.emit(Nt("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Va.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidUpdate(lr({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_update",{id:s,topic:r,params:i}),Va.set(o,s)}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n;vn(n)?this.events.emit(Nt("session_update",i),{}):Wr(n)&&this.events.emit(Nt("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Or(Fa)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n;vn(n)?this.events.emit(Nt("session_extend",i),{}):Wr(n)&&this.events.emit(Nt("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n;setTimeout(()=>{vn(n)?this.events.emit(Nt("session_ping",i),{}):Wr(n)&&this.events.emit(Nt("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(er.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:It("USER_DISCONNECTED")})])}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidRequest(lr({topic:r},s));const o=Xi(JSON.stringify(is("wc_sessionRequest",s,i))),a=this.client.session.get(r),c=await this.getVerifyContext(o,a.peer.metadata),l={id:i,topic:r,params:s,verifyContext:c};await this.setPendingSessionRequest(l),this.addSessionRequestToSessionRequestQueue(l),this.processSessionRequestQueue()}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n;vn(n)?this.events.emit(Nt("session_request",i),{result:n.result}):Wr(n)&&this.events.emit(Nt("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Va.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(lr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Va.set(o,i)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=_n.idle,this.processSessionRequestQueue()},de.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{this.events.emit(Nt("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===_n.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=_n.active,this.client.events.emit("session_request",r)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=r=>{if(r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest(r.topic,is("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id))},this.isValidConnect=async r=>{if(!wr(r)){const{message:c}=ee("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(cr(n)||await this.isValidPairingTopic(n),!Xb(a,!0)){const{message:c}=ee("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!cr(i)&&Ua(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!cr(s)&&Ua(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),cr(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=Jb(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!wr(r))throw new Error(ee("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=Wl(i,"approve()");if(c)throw new Error(c.message);const l=pf(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!qt(s,!0)){const{message:u}=ee("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(u)}cr(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!wr(r)){const{message:s}=ee("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(await this.isValidProposalId(n),!t5(i)){const{message:s}=ee("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!wr(r)){const{message:l}=ee("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!df(n)){const{message:l}=ee("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Zb(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Wl(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Vn(o)){const{message:l}=ee("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!wr(r)){const{message:c}=ee("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Wl(i,"update()");if(o)throw new Error(o.message);const a=pf(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!wr(r)){const{message:i}=ee("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!wr(r)){const{message:c}=ee("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!hf(a,s)){const{message:c}=ee("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!r5(i)){const{message:c}=ee("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!s5(a,s,i.method)){const{message:c}=ee("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!l5(o,nu)){const{message:c}=ee("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${nu.min} and ${nu.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!wr(r)){const{message:o}=ee("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!n5(s)){const{message:o}=ee("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!wr(r)){const{message:i}=ee("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!wr(r)){const{message:a}=ee("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!hf(o,s)){const{message:a}=ee("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!i5(i)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!o5(o,s,i.name)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!wr(r)){const{message:i}=ee("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const i={verified:{verifyUrl:n.verifyUrl||ss,validation:"UNKNOWN",origin:n.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s.origin,i.verified.isScam=s.isScam,i.verified.validation=s.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.info(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!qt(i,!1)){const{message:s}=ee("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}async isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(er.message,async e=>{const{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const i=await this.client.core.crypto.decode(r,n);try{Fl(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Ba(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.client.core.history.delete(r,i.id)):this.onRelayEventUnknownPayload({topic:r,payload:i})}catch(s){this.client.logger.error(s)}})}registerExpirerEvents(){this.client.core.expirer.on(Rr.expired,async e=>{const{topic:r,id:n}=sf(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ee("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(ro.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!qt(e,!1)){const{message:r}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Vn(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=ee("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!qt(e,!1)){const{message:r}=ee("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){const{message:r}=ee("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Vn(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=ee("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=ee("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(qt(e,!1)){const{message:r}=ee("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=ee("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!e5(e)){const{message:r}=ee("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=ee("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Vn(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=ee("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class A6 extends Za{constructor(e,r){super(e,r,v6,tu),this.core=e,this.logger=r}}class P6 extends Za{constructor(e,r){super(e,r,b6,tu),this.core=e,this.logger=r}}class R6 extends Za{constructor(e,r){super(e,r,E6,tu,n=>n.id),this.core=e,this.logger=r}}let N6=class pg extends bv{constructor(e){super(e),this.protocol=o0,this.version=a0,this.name=ru.name,this.events=new Ur.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(e==null?void 0:e.name)||ru.name,this.metadata=(e==null?void 0:e.metadata)||mb();const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Ge.pino(Ge.getDefaultLoggerOptions({level:(e==null?void 0:e.logger)||ru.logger}));this.core=(e==null?void 0:e.core)||new y6(e),this.logger=Ge.generateChildLogger(r,this.name),this.session=new P6(this.core,this.logger),this.proposal=new A6(this.core,this.logger),this.pendingRequest=new R6(this.core,this.logger),this.engine=new T6(this)}static async init(e){const r=new pg(e);return await r.initialize(),r}get context(){return Ge.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var $6=Object.defineProperty,L6=Object.defineProperties,j6=Object.getOwnPropertyDescriptors,h0=Object.getOwnPropertySymbols,M6=Object.prototype.hasOwnProperty,D6=Object.prototype.propertyIsEnumerable,p0=(t,e,r)=>e in t?$6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,z6=(t,e)=>{for(var r in e||(e={}))M6.call(e,r)&&p0(t,r,e[r]);if(h0)for(var r of h0(e))D6.call(e,r)&&p0(t,r,e[r]);return t},U6=(t,e)=>L6(t,j6(e)),iu=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},yt=(t,e,r)=>(iu(t,e,"read from private field"),r?r.call(t):e.get(t)),Ii=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ka=(t,e,r,n)=>(iu(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),tr=(t,e,r)=>(iu(t,e,"access private method"),r),Ci,as,io,Ht,su,f0,rr,ur,ou,m0;let W6=class{constructor(t){Ii(this,su),Ii(this,rr),Ii(this,ou),Ii(this,Ci,void 0),Ii(this,as,void 0),Ii(this,io,void 0),Ii(this,Ht,void 0),Ka(this,Ci,t),Ka(this,as,tr(this,su,f0).call(this)),tr(this,rr,ur).call(this)}async connect(t){const{requiredNamespaces:e,optionalNamespaces:r}=t;return new Promise(async(n,i)=>{await tr(this,rr,ur).call(this);const s=yt(this,as).subscribeModal(c=>{c.open||(s(),i(new Error("Modal closed")))}),{uri:o,approval:a}=await yt(this,Ht).connect(t);if(o){const c=new Set;e&&Object.values(e).forEach(({chains:l})=>{l&&l.forEach(u=>c.add(u))}),r&&Object.values(r).forEach(({chains:l})=>{l&&l.forEach(u=>c.add(u))}),await yt(this,as).openModal({uri:o,chains:Array.from(c)})}try{const c=await a();n(c)}catch(c){i(c)}finally{s(),yt(this,as).closeModal()}})}async disconnect(t){await tr(this,rr,ur).call(this),await yt(this,Ht).disconnect(t)}async request(t){return await tr(this,rr,ur).call(this),await yt(this,Ht).request(t)}async getSessions(){return await tr(this,rr,ur).call(this),yt(this,Ht).session.getAll()}async getSession(){return await tr(this,rr,ur).call(this),yt(this,Ht).session.getAll().at(-1)}async onSessionEvent(t){await tr(this,rr,ur).call(this),yt(this,Ht).on("session_event",t)}async offSessionEvent(t){await tr(this,rr,ur).call(this),yt(this,Ht).off("session_event",t)}async onSessionUpdate(t){await tr(this,rr,ur).call(this),yt(this,Ht).on("session_update",t)}async offSessionUpdate(t){await tr(this,rr,ur).call(this),yt(this,Ht).off("session_update",t)}async onSessionDelete(t){await tr(this,rr,ur).call(this),yt(this,Ht).on("session_delete",t)}async offSessionDelete(t){await tr(this,rr,ur).call(this),yt(this,Ht).off("session_delete",t)}async onSessionExpire(t){await tr(this,rr,ur).call(this),yt(this,Ht).on("session_expire",t)}async offSessionExpire(t){await tr(this,rr,ur).call(this),yt(this,Ht).off("session_expire",t)}};Ci=new WeakMap,as=new WeakMap,io=new WeakMap,Ht=new WeakMap,su=new WeakSet,f0=function(){const{modalOptions:t,projectId:e}=yt(this,Ci);return new Bg(U6(z6({},t),{projectId:e}))},rr=new WeakSet,ur=async function(){return yt(this,Ht)?!0:(!yt(this,io)&&typeof window<"u"&&Ka(this,io,tr(this,ou,m0).call(this)),yt(this,io))},ou=new WeakSet,m0=async function(){Ka(this,Ht,await N6.init({metadata:yt(this,Ci).metadata,projectId:yt(this,Ci).projectId,relayUrl:yt(this,Ci).relayUrl}));const t=await yt(this,Ht).core.crypto.getClientId();try{localStorage.setItem("WCM_WALLETCONNECT_CLIENT_ID",t)}catch{console.info("Unable to set client id")}};const V6=["decrypt","disconnect","getSelectedAccount","getBalance","getRecords","requestCreateEvent","getEvent","getEvents","createSharedState","importSharedState","requestSignature"],au=["aleo:1"],B6=["chainChanged","accountSelected","selectedAccountSynced","sharedAccountSynced"],g0="f0aaeffe71b636da453fce042d79d723";function q6(){return navigator?/Android/i.test(navigator.userAgent):!1}const H6={chains:au,enableExplorer:!0,explorerRecommendedWalletIds:[g0]},Z6={chains:au,enableExplorer:!1,mobileWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"puzzleapp://",universal:""}}],desktopWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"",universal:"https://walletconnect.puzzle.online/"}},{id:"avail",name:"Avail Wallet",links:{native:"avail://",universal:"https://avail.global"}}],walletImages:{puzzle:"https://i.imgur.com/p9tHaFC.png",avail:"https://i.imgur.com/GxNn8BO.png"}},y0=q6()?H6:Z6,F6="@puzzlehq/sdk-core",K6="Puzzle SDK",Y6="0.2.32-beta.1",G6="Your portal to privacy",Q6="./dist/puzzle.cjs.js",J6="./dist/puzzle.es.js",X6="./dist/puzzle.umd.js",e4="./dist/types/src/index.d.ts",t4={".":{import:"./dist/puzzle.es.js",require:"./dist/puzzle.cjs.js",browser:"./dist/puzzle.umd.js",types:"./dist/types/src/index.d.ts"}},r4="module",n4={"fetch-fix":"find dist -type f \\( -name '*.js' -o -name '*.cjs' \\) -exec sed -i '' 's/self.fetch[[:space:]]*||/fetch ||/g' {} \\;","ws-fix":`find ./dist -type f -name 'index*' -exec sed -i '' -e 's/require(\\"ws\\")/(() => {try { return require(\\"ws\\") } catch (e) { } })()/g' {} +;`,build:"vite build && tsc --declaration --emitDeclarationOnly --outDir dist/types && pnpm fetch-fix && pnpm ws-fix","type-check":"tsc --noEmit"},i4={type:"git",url:"git+https://github.com/puzzlehq/puzzle-sdk.git"},s4={"@puzzlehq/types":"1.0.11","@walletconnect/modal-sign-html":"^2.6.2","@walletconnect/types":"^2.11.2","@walletconnect/utils":"^2.11.2",debug:"^4.3.4",events:"^3.3.0",ws:"^8.16.0"},o4={buffer:"^6.0.3"},a4=["puzzle","html","aleo","web3","crypto"],c4="Puzzle",l4="ISC",u4={url:"https://github.com/puzzlehq/puzzle-sdk/issues"},d4="https://github.com/puzzlehq/puzzle-sdk#readme",v0={name:F6,displayName:K6,version:Y6,description:G6,main:Q6,module:J6,browser:X6,types:e4,private:!1,exports:t4,type:r4,scripts:n4,repository:i4,dependencies:s4,peerDependencies:o4,keywords:a4,author:c4,license:l4,bugs:u4,homepage:d4},so=new cl;let qn;async function h4(t){let e=!1;const r=v0.version,n=localStorage.getItem("puzzle_sdk_version");if(r!==n&&(console.log(`${v0.name}: Updated from `+n+" to "+r+"!"),localStorage.setItem("puzzle_sdk_version",r),e=!0),console.log("web3modal_puzzle_props",y0),qn=new W6({projectId:t.projectId??g0,metadata:{name:t.dAppName,description:t.dAppDescription,url:window?window.location.hostname:t.dAppUrl??"NO URL",icons:[t.dAppIconURL]},modalOptions:{...y0}}),e){localStorage.removeItem("puzzle-hasInjectedConnection");try{p4(qn,t.onDisconnect)}catch(i){console.error(i)}}qn.onSessionDelete(()=>{localStorage.removeItem("puzzle-hasInjectedConnection"),t.onDisconnect&&t.onDisconnect()}),qn.onSessionExpire(()=>{localStorage.removeItem("puzzle-hasInjectedConnection"),t.onDisconnect&&t.onDisconnect()}),window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE")}async function p4(t,e){const r=await(t==null?void 0:t.getSession());r&&(console.log("Disconnecting session",r),e&&e(),t.disconnect({topic:r.topic,reason:It("USER_DISCONNECTED")}))}async function Nr(){return new Promise(t=>{if(qn)t(qn);else{const e=setInterval(()=>{qn&&(clearInterval(e),t(qn))},200)}window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE")})}const f4=async t=>{var e;if(!((e=window==null?void 0:window.aleo)!=null&&e.puzzleWalletClient))return localStorage.setItem("puzzle-hasInjectedConnection","false"),!1;try{return await window.aleo.puzzleWalletClient.isConnected.query({sessionTopic:t})?(localStorage.setItem("puzzle-hasInjectedConnection","true"),!0):(localStorage.setItem("puzzle-hasInjectedConnection","false"),!1)}catch(r){return console.warn(r),localStorage.setItem("puzzle-hasInjectedConnection","false"),!1}},En=()=>{var t;return(t=window==null?void 0:window.aleo)!=null&&t.puzzleWalletClient?localStorage.getItem("puzzle-hasInjectedConnection")==="true":!1};var rt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(rt||(rt={}));var cu;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(cu||(cu={}));const se=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hn=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},Q=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),m4=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");let Br=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Br.create=t=>new Br(t);const oo=(t,e)=>{let r;switch(t.code){case Q.invalid_type:t.received===se.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,rt.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:r=`Unrecognized key(s) in object: ${rt.joinValues(t.keys,", ")}`;break;case Q.invalid_union:r="Invalid input";break;case Q.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rt.joinValues(t.options)}`;break;case Q.invalid_enum_value:r=`Invalid enum value. Expected ${rt.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:r="Invalid function arguments";break;case Q.invalid_return_type:r="Invalid function return type";break;case Q.invalid_date:r="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:rt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Q.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Q.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Q.custom:r="Invalid input";break;case Q.invalid_intersection_types:r="Intersection results could not be merged";break;case Q.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:r="Number must be finite";break;default:r=e.defaultError,rt.assertNever(t)}return{message:r}};let w0=oo;function g4(t){w0=t}function Ya(){return w0}const Ga=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},y4=[];function ae(t,e){const r=Ga({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ya(),oo].filter(n=>!!n)});t.common.issues.push(r)}let br=class fg{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Se;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return fg.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Se;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}};const Se=Object.freeze({status:"aborted"}),b0=t=>({status:"dirty",value:t}),dr=t=>({status:"valid",value:t}),lu=t=>t.status==="aborted",uu=t=>t.status==="dirty",Qa=t=>t.status==="valid",Ja=t=>typeof Promise<"u"&&t instanceof Promise;var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));let on=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const _0=(t,e)=>{if(Qa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Br(t.common.issues);return this._error=r,this._error}}};function ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>s.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:n??o.defaultError}:{message:r??o.defaultError},description:i}}let Le=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Hn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Hn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new br,ctx:{common:e.parent.common,data:e.data,parsedType:Hn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ja(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hn(e)},s=this._parseSync({data:e,path:i.path,parent:i});return _0(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hn(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Ja(i)?i:Promise.resolve(i));return _0(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Q.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new qr({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Sn.create(this,this._def)}nullable(){return Ti.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ki.create(this,this._def)}promise(){return ds.create(this,this._def)}or(e){return fo.create([this,e],this._def)}and(e){return mo.create(this,e,this._def)}transform(e){return new qr({...ke(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new bo({...ke(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new C0({typeName:ve.ZodBranded,type:this,...ke(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ic({...ke(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return hu.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const v4=/^c[^\s-]{8,}$/i,w4=/^[a-z][a-z0-9]*$/,b4=/[0-9A-HJKMNP-TV-Z]{26}/,_4=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,E4=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,x4=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),S4=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,I4=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,C4=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function O4(t,e){return!!((e==="v4"||!e)&&S4.test(t)||(e==="v6"||!e)&&I4.test(t))}let cs=class ma extends Le{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:Q.invalid_string,...me.errToObj(n)}),this.nonempty=e=>this.min(1,me.errToObj(e)),this.trim=()=>new ma({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ma({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ma({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const i=this._getOrReturnCtx(e);return ae(i,{code:Q.invalid_type,expected:se.string,received:i.parsedType}),Se}const r=new br;let n;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,o=e.data.length<i.value;(s||o)&&(n=this._getOrReturnCtx(e,n),s?ae(n,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ae(n,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")E4.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")x4.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")_4.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")v4.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")w4.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")b4.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),ae(n,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?C4(i).test(e.data)||(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?O4(e.data,i.version)||(n=this._getOrReturnCtx(e,n),ae(n,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):rt.assertNever(i);return{status:r.value,value:e.data}}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...me.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...me.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...me.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...me.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...me.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...me.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};cs.create=t=>{var e;return new cs({checks:[],typeName:ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ke(t)})};function k4(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}let ao=class th extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const i=this._getOrReturnCtx(e);return ae(i,{code:Q.invalid_type,expected:se.number,received:i.parsedType}),Se}let r;const n=new br;for(const i of this._def.checks)i.kind==="int"?rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?k4(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.not_finite,message:i.message}),n.dirty()):rt.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,me.toString(r))}setLimit(e,r,n,i){return new th({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:me.toString(i)}]})}_addCheck(e){return new th({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};ao.create=t=>new ao({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});let co=class rh extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==se.bigint){const i=this._getOrReturnCtx(e);return ae(i,{code:Q.invalid_type,expected:se.bigint,received:i.parsedType}),Se}let r;const n=new br;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ae(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):rt.assertNever(i);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,me.toString(r))}gt(e,r){return this.setLimit("min",e,!1,me.toString(r))}lte(e,r){return this.setLimit("max",e,!0,me.toString(r))}lt(e,r){return this.setLimit("max",e,!1,me.toString(r))}setLimit(e,r,n,i){return new rh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:me.toString(i)}]})}_addCheck(e){return new rh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};co.create=t=>{var e;return new co({checks:[],typeName:ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ke(t)})};let lo=class extends Le{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.boolean,received:r.parsedType}),Se}return dr(e.data)}};lo.create=t=>new lo({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ke(t)});let uo=class mg extends Le{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const i=this._getOrReturnCtx(e);return ae(i,{code:Q.invalid_type,expected:se.date,received:i.parsedType}),Se}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ae(i,{code:Q.invalid_date}),Se}const r=new br;let n;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),ae(n,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):rt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mg({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};uo.create=t=>new uo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...ke(t)});let Xa=class extends Le{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.symbol,received:r.parsedType}),Se}return dr(e.data)}};Xa.create=t=>new Xa({typeName:ve.ZodSymbol,...ke(t)});let ho=class extends Le{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.undefined,received:r.parsedType}),Se}return dr(e.data)}};ho.create=t=>new ho({typeName:ve.ZodUndefined,...ke(t)});let po=class extends Le{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.null,received:r.parsedType}),Se}return dr(e.data)}};po.create=t=>new po({typeName:ve.ZodNull,...ke(t)});let ls=class extends Le{constructor(){super(...arguments),this._any=!0}_parse(e){return dr(e.data)}};ls.create=t=>new ls({typeName:ve.ZodAny,...ke(t)});let Oi=class extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dr(e.data)}};Oi.create=t=>new Oi({typeName:ve.ZodUnknown,...ke(t)});let xn=class extends Le{_parse(e){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.never,received:r.parsedType}),Se}};xn.create=t=>new xn({typeName:ve.ZodNever,...ke(t)});let ec=class extends Le{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.void,received:r.parsedType}),Se}return dr(e.data)}};ec.create=t=>new ec({typeName:ve.ZodVoid,...ke(t)});let ki=class Xc extends Le{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==se.array)return ae(r,{code:Q.invalid_type,expected:se.array,received:r.parsedType}),Se;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(ae(r,{code:o?Q.too_big:Q.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ae(r,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ae(r,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new on(r,o,r.path,a)))).then(o=>br.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new on(r,o,r.path,a)));return br.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Xc({...this._def,minLength:{value:e,message:me.toString(r)}})}max(e,r){return new Xc({...this._def,maxLength:{value:e,message:me.toString(r)}})}length(e,r){return new Xc({...this._def,exactLength:{value:e,message:me.toString(r)}})}nonempty(e){return this.min(1,e)}};ki.create=(t,e)=>new ki({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...ke(e)});function us(t){if(t instanceof $r){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Sn.create(us(n))}return new $r({...t._def,shape:()=>e})}else return t instanceof ki?new ki({...t._def,type:us(t.element)}):t instanceof Sn?Sn.create(us(t.unwrap())):t instanceof Ti?Ti.create(us(t.unwrap())):t instanceof Zn?Zn.create(t.items.map(e=>us(e))):t}let $r=class Xr extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=rt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==se.object){const c=this._getOrReturnCtx(e);return ae(c,{code:Q.invalid_type,expected:se.object,received:c.parsedType}),Se}const{status:r,ctx:n}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof xn&&this._def.unknownKeys==="strip"))for(const c in n.data)s.includes(c)||o.push(c);const a=[];for(const c of s){const l=i[c],u=n.data[c];a.push({key:{status:"valid",value:c},value:l._parse(new on(n,u,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof xn){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of o)a.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(c==="strict")o.length>0&&(ae(n,{code:Q.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of o){const u=n.data[l];a.push({key:{status:"valid",value:l},value:c._parse(new on(n,u,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of a){const u=await l.key;c.push({key:u,value:await l.value,alwaysSet:l.alwaysSet})}return c}).then(c=>br.mergeObjectSync(r,c)):br.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new Xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=me.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Xr({...this._def,unknownKeys:"strip"})}passthrough(){return new Xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xr({...this._def,catchall:e})}pick(e){const r={};return rt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Xr({...this._def,shape:()=>r})}omit(e){const r={};return rt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Xr({...this._def,shape:()=>r})}deepPartial(){return us(this)}partial(e){const r={};return rt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Xr({...this._def,shape:()=>r})}required(e){const r={};return rt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Sn;)i=i._def.innerType;r[n]=i}}),new Xr({...this._def,shape:()=>r})}keyof(){return I0(rt.objectKeys(this.shape))}};$r.create=(t,e)=>new $r({shape:()=>t,unknownKeys:"strip",catchall:xn.create(),typeName:ve.ZodObject,...ke(e)}),$r.strictCreate=(t,e)=>new $r({shape:()=>t,unknownKeys:"strict",catchall:xn.create(),typeName:ve.ZodObject,...ke(e)}),$r.lazycreate=(t,e)=>new $r({shape:t,unknownKeys:"strip",catchall:xn.create(),typeName:ve.ZodObject,...ke(e)});let fo=class extends Le{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Br(a.ctx.common.issues));return ae(r,{code:Q.invalid_union,unionErrors:o}),Se}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Br(c));return ae(r,{code:Q.invalid_union,unionErrors:a}),Se}}get options(){return this._def.options}};fo.create=(t,e)=>new fo({options:t,typeName:ve.ZodUnion,...ke(e)});const tc=t=>t instanceof go?tc(t.schema):t instanceof qr?tc(t.innerType()):t instanceof yo?[t.value]:t instanceof vo?t.options:t instanceof wo?Object.keys(t.enum):t instanceof bo?tc(t._def.innerType):t instanceof ho?[void 0]:t instanceof po?[null]:null;let E0=class gg extends Le{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==se.object)return ae(r,{code:Q.invalid_type,expected:se.object,received:r.parsedType}),Se;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(ae(r,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=tc(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new gg({typeName:ve.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ke(n)})}};function du(t,e){const r=Hn(t),n=Hn(e);if(t===e)return{valid:!0,data:t};if(r===se.object&&n===se.object){const i=rt.objectKeys(e),s=rt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=du(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===se.array&&n===se.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=du(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===se.date&&n===se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let mo=class extends Le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(lu(s)||lu(o))return Se;const a=du(s.value,o.value);return a.valid?((uu(s)||uu(o))&&r.dirty(),{status:r.value,value:a.data}):(ae(n,{code:Q.invalid_intersection_types}),Se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};mo.create=(t,e,r)=>new mo({left:t,right:e,typeName:ve.ZodIntersection,...ke(r)});let Zn=class yg extends Le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==se.array)return ae(n,{code:Q.invalid_type,expected:se.array,received:n.parsedType}),Se;if(n.data.length<this._def.items.length)return ae(n,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&n.data.length>this._def.items.length&&(ae(n,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,o)=>{const a=this._def.items[o]||this._def.rest;return a?a._parse(new on(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>br.mergeArray(r,s)):br.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new yg({...this._def,rest:e})}};Zn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zn({items:t,typeName:ve.ZodTuple,rest:null,...ke(e)})};let x0=class nh extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==se.object)return ae(n,{code:Q.invalid_type,expected:se.object,received:n.parsedType}),Se;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new on(n,a,n.path,a)),value:o._parse(new on(n,n.data[a],n.path,a))});return n.common.async?br.mergeObjectAsync(r,i):br.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Le?new nh({keyType:e,valueType:r,typeName:ve.ZodRecord,...ke(n)}):new nh({keyType:cs.create(),valueType:e,typeName:ve.ZodRecord,...ke(r)})}},rc=class extends Le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==se.map)return ae(n,{code:Q.invalid_type,expected:se.map,received:n.parsedType}),Se;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new on(n,a,n.path,[l,"key"])),value:s._parse(new on(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Se;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Se;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}};rc.create=(t,e,r)=>new rc({valueType:e,keyType:t,typeName:ve.ZodMap,...ke(r)});let nc=class ih extends Le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==se.set)return ae(n,{code:Q.invalid_type,expected:se.set,received:n.parsedType}),Se;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ae(n,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ae(n,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Se;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new on(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new ih({...this._def,minSize:{value:e,message:me.toString(r)}})}max(e,r){return new ih({...this._def,maxSize:{value:e,message:me.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};nc.create=(t,e)=>new nc({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...ke(e)});let S0=class el extends Le{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==se.function)return ae(r,{code:Q.invalid_type,expected:se.function,received:r.parsedType}),Se;function n(a,c){return Ga({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ya(),oo].filter(l=>!!l),issueData:{code:Q.invalid_arguments,argumentsError:c}})}function i(a,c){return Ga({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ya(),oo].filter(l=>!!l),issueData:{code:Q.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof ds?dr(async(...a)=>{const c=new Br([]),l=await this._def.args.parseAsync(a,s).catch(p=>{throw c.addIssue(n(a,p)),c}),u=await o(...l);return await this._def.returns._def.type.parseAsync(u,s).catch(p=>{throw c.addIssue(i(u,p)),c})}):dr((...a)=>{const c=this._def.args.safeParse(a,s);if(!c.success)throw new Br([n(a,c.error)]);const l=o(...c.data),u=this._def.returns.safeParse(l,s);if(!u.success)throw new Br([i(l,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new el({...this._def,args:Zn.create(e).rest(Oi.create())})}returns(e){return new el({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new el({args:e||Zn.create([]).rest(Oi.create()),returns:r||Oi.create(),typeName:ve.ZodFunction,...ke(n)})}},go=class extends Le{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};go.create=(t,e)=>new go({getter:t,typeName:ve.ZodLazy,...ke(e)});let yo=class extends Le{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ae(r,{received:r.data,code:Q.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:e.data}}get value(){return this._def.value}};yo.create=(t,e)=>new yo({value:t,typeName:ve.ZodLiteral,...ke(e)});function I0(t,e){return new vo({values:t,typeName:ve.ZodEnum,...ke(e)})}let vo=class sh extends Le{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ae(r,{expected:rt.joinValues(n),received:r.parsedType,code:Q.invalid_type}),Se}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return ae(r,{received:r.data,code:Q.invalid_enum_value,options:n}),Se}return dr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return sh.create(e)}exclude(e){return sh.create(this.options.filter(r=>!e.includes(r)))}};vo.create=I0;let wo=class extends Le{_parse(e){const r=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==se.string&&n.parsedType!==se.number){const i=rt.objectValues(r);return ae(n,{expected:rt.joinValues(i),received:n.parsedType,code:Q.invalid_type}),Se}if(r.indexOf(e.data)===-1){const i=rt.objectValues(r);return ae(n,{received:n.data,code:Q.invalid_enum_value,options:i}),Se}return dr(e.data)}get enum(){return this._def.values}};wo.create=(t,e)=>new wo({values:t,typeName:ve.ZodNativeEnum,...ke(e)});let ds=class extends Le{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==se.promise&&r.common.async===!1)return ae(r,{code:Q.invalid_type,expected:se.promise,received:r.parsedType}),Se;const n=r.parsedType===se.promise?r.data:Promise.resolve(r.data);return dr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ds.create=(t,e)=>new ds({type:t,typeName:ve.ZodPromise,...ke(e)});let qr=class extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}const s={addIssue:o=>{ae(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Se:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Se:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qa(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qa(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);rt.assertNever(i)}};qr.create=(t,e,r)=>new qr({schema:t,typeName:ve.ZodEffects,effect:e,...ke(r)}),qr.createWithPreprocess=(t,e,r)=>new qr({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...ke(r)});let Sn=class extends Le{_parse(e){return this._getType(e)===se.undefined?dr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Sn.create=(t,e)=>new Sn({innerType:t,typeName:ve.ZodOptional,...ke(e)});let Ti=class extends Le{_parse(e){return this._getType(e)===se.null?dr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ti.create=(t,e)=>new Ti({innerType:t,typeName:ve.ZodNullable,...ke(e)});let bo=class extends Le{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===se.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};bo.create=(t,e)=>new bo({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});let ic=class extends Le{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ja(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Br(n.common.issues)}})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Br(n.common.issues)}})}}removeCatch(){return this._def.innerType}};ic.create=(t,e)=>new ic({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});let sc=class extends Le{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return ae(r,{code:Q.invalid_type,expected:se.nan,received:r.parsedType}),Se}return{status:"valid",value:e.data}}};sc.create=t=>new sc({typeName:ve.ZodNaN,...ke(t)});const T4=Symbol("zod_brand");class C0 extends Le{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}let hu=class vg extends Le{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Se:i.status==="dirty"?(r.dirty(),b0(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Se:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new vg({in:e,out:r,typeName:ve.ZodPipeline})}};const O0=(t,e={},r)=>t?ls.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):ls.create(),A4={object:$r.lazycreate};var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(ve||(ve={}));const P4=(t,e={message:`Input not instance of ${t.name}`})=>O0(r=>r instanceof t,e),k0=cs.create,T0=ao.create,R4=sc.create,N4=co.create,A0=lo.create,$4=uo.create,L4=Xa.create,j4=ho.create,M4=po.create,D4=ls.create,z4=Oi.create,U4=xn.create,W4=ec.create,V4=ki.create,B4=$r.create,q4=$r.strictCreate,H4=fo.create,Z4=E0.create,F4=mo.create,K4=Zn.create,Y4=x0.create,G4=rc.create,Q4=nc.create,J4=S0.create,X4=go.create,eE=yo.create,tE=vo.create,rE=wo.create,nE=ds.create,P0=qr.create,iE=Sn.create,sE=Ti.create,oE=qr.createWithPreprocess,aE=hu.create;var Hr=Object.freeze({__proto__:null,defaultErrorMap:oo,setErrorMap:g4,getErrorMap:Ya,makeIssue:Ga,EMPTY_PATH:y4,addIssueToContext:ae,ParseStatus:br,INVALID:Se,DIRTY:b0,OK:dr,isAborted:lu,isDirty:uu,isValid:Qa,isAsync:Ja,get util(){return rt},get objectUtil(){return cu},ZodParsedType:se,getParsedType:Hn,ZodType:Le,ZodString:cs,ZodNumber:ao,ZodBigInt:co,ZodBoolean:lo,ZodDate:uo,ZodSymbol:Xa,ZodUndefined:ho,ZodNull:po,ZodAny:ls,ZodUnknown:Oi,ZodNever:xn,ZodVoid:ec,ZodArray:ki,ZodObject:$r,ZodUnion:fo,ZodDiscriminatedUnion:E0,ZodIntersection:mo,ZodTuple:Zn,ZodRecord:x0,ZodMap:rc,ZodSet:nc,ZodFunction:S0,ZodLazy:go,ZodLiteral:yo,ZodEnum:vo,ZodNativeEnum:wo,ZodPromise:ds,ZodEffects:qr,ZodTransformer:qr,ZodOptional:Sn,ZodNullable:Ti,ZodDefault:bo,ZodCatch:ic,ZodNaN:sc,BRAND:T4,ZodBranded:C0,ZodPipeline:hu,custom:O0,Schema:Le,ZodSchema:Le,late:A4,get ZodFirstPartyTypeKind(){return ve},coerce:{string:t=>cs.create({...t,coerce:!0}),number:t=>ao.create({...t,coerce:!0}),boolean:t=>lo.create({...t,coerce:!0}),bigint:t=>co.create({...t,coerce:!0}),date:t=>uo.create({...t,coerce:!0})},any:D4,array:V4,bigint:N4,boolean:A0,date:$4,discriminatedUnion:Z4,effect:P0,enum:tE,function:J4,instanceof:P4,intersection:F4,lazy:X4,literal:eE,map:G4,nan:R4,nativeEnum:rE,never:U4,null:M4,nullable:sE,number:T0,object:B4,oboolean:()=>A0().optional(),onumber:()=>T0().optional(),optional:iE,ostring:()=>k0().optional(),pipeline:aE,preprocess:oE,promise:nE,record:Y4,set:Q4,strictObject:q4,string:k0,symbol:L4,transformer:P0,tuple:K4,undefined:j4,union:H4,unknown:z4,void:W4,NEVER:Se,ZodIssueCode:Q,quotelessJson:m4,ZodError:Br});const cE=/^aleo1[a-z0-9]{58}$/i,lE=/^AViewKey1[a-z0-9]{44}$/i,uE=/^APrivateKey1[a-z0-9]{47}$/i,dE=/^at1[a-z0-9]{58}$/i,hE=/^\d+field$/,pE=/^\d+u32$/,fE=/^\d+u64$/;Hr.string().regex(cE),Hr.string().regex(lE),Hr.string().regex(uE),Hr.string().regex(dE),Hr.string().regex(hE),Hr.string().regex(pE),Hr.string().regex(fE);var R0;(function(t){t.Record="record",t.OutputRecord="outputRecord",t.Public="public",t.Private="private",t.Constant="constant",t.Future="future",t.ExternalRecord="external_record"})(R0||(R0={}));var pu;(function(t){t.Deploy="Deploy",t.Execute="Execute",t.Send="Send",t.Receive="Receive",t.Join="Join",t.Split="Split",t.Shield="Shield",t.Unshield="Unshield"})(pu||(pu={}));var fu;(function(t){t.Creating="Creating",t.Pending="Pending",t.Settled="Settled",t.Failed="Failed"})(fu||(fu={}));var mu;(function(t){t.Private="Private",t.Public="Public"})(mu||(mu={}));var gu;(function(t){t.AleoTestnet="AleoTestnet",t.AleoMainnet="AleoMainnet"})(gu||(gu={}));var N0;(function(t){t[t.ALEO=0]="ALEO"})(N0||(N0={})),Hr.nativeEnum(pu),Hr.nativeEnum(fu),Hr.nativeEnum(gu),Hr.nativeEnum(mu);var yu={exports:{}},vu,$0;function mE(){if($0)return vu;$0=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;vu=function(u,p){p=p||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return p.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(p){var f=parseFloat(p[1]),m=(p[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var p=Math.abs(u);return p>=n?Math.round(u/n)+"d":p>=r?Math.round(u/r)+"h":p>=e?Math.round(u/e)+"m":p>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var p=Math.abs(u);return p>=n?l(u,p,n,"day"):p>=r?l(u,p,r,"hour"):p>=e?l(u,p,e,"minute"):p>=t?l(u,p,t,"second"):u+" ms"}function l(u,p,f,m){var g=p>=f*1.5;return Math.round(u/f)+" "+m+(g?"s":"")}return vu}function gE(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=mE(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let p=0;for(let f=0;f<u.length;f++)p=(p<<5)-p+u.charCodeAt(f),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(u){let p,f=null,m,g;function w(...C){if(!w.enabled)return;const I=w,_=Number(new Date),E=_-(p||_);I.diff=E,I.prev=p,I.curr=_,p=_,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let b=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(x,v)=>{if(x==="%%")return"%";b++;const d=r.formatters[v];if(typeof d=="function"){const y=C[b];x=d.call(I,y),C.splice(b,1),b--}return x}),r.formatArgs.call(I,C),(I.log||r.log).apply(I,C)}return w.namespace=u,w.useColors=r.useColors(),w.color=r.selectColor(u),w.extend=n,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==r.namespaces&&(m=r.namespaces,g=r.enabled(u)),g),set:C=>{f=C}}),typeof r.init=="function"&&r.init(w),w}function n(u,p){const f=r(this.namespace+(typeof p>"u"?":":p)+u);return f.log=this.log,f}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let p;const f=(typeof u=="string"?u:"").split(/[\s,]+/),m=f.length;for(p=0;p<m;p++)f[p]&&(u=f[p].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let p,f;for(p=0,f=r.skips.length;p<f;p++)if(r.skips[p].test(u))return!1;for(p=0,f=r.names.length;p<f;p++)if(r.names[p].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var yE=gE;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,p=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(u++,f==="%c"&&(p=u))}),c.splice(p,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=yE(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(yu,yu.exports);var vE=yu.exports;const wE=ba(vE),_o=wE("wallet:sdk");_o.enabled=!0;function wu(t){ut.useEffect(()=>(Nr().then(e=>{e.onSessionDelete(t)}),()=>{Nr().then(e=>{e.offSessionDelete(t)})}),[t])}function L0(t){ut.useEffect(()=>(Nr().then(e=>{e.onSessionExpire(t)}),()=>{Nr().then(e=>{e.offSessionExpire(t)})}),[t])}function bu(t){ut.useEffect(()=>(Nr().then(e=>{e.onSessionUpdate(t)}),()=>{Nr().then(e=>{e.offSessionUpdate(t)})}),[t])}function _r(){const[t,e]=ut.useState(void 0);return wu(r=>{r.topic===(t==null?void 0:t.topic)&&e(void 0)}),bu(r=>{if(t&&r.topic===(t==null?void 0:t.topic)){const{namespaces:n}=r.params,i={...t,namespaces:n};e(i)}}),L0(r=>{t&&r.topic===(t==null?void 0:t.topic)&&e(void 0)}),ut.useEffect(()=>{async function r(){const i=await(await Nr()).getSession();e(i)}return r(),so.on("session_change",r),()=>{so.off&&so.off("session_change",r)}},[]),t}function hs(t){ut.useEffect(()=>(Nr().then(e=>{e.onSessionEvent(t)}),()=>{Nr().then(e=>{e.offSessionEvent(t)})}),[t])}var bE={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function _E(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const Eo=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Eo(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Eo(n)(r)}}}},EE=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,I)=>({...I,...C}),...e},o=!1;const a=new Set,c=new Set;let l;try{l=s.getStorage()}catch{}if(!l)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...C)},n,i);const u=Eo(s.serialize),p=()=>{const C=s.partialize({...n()});let I;const _=u({state:C,version:s.version}).then(E=>l.setItem(s.name,E)).catch(E=>{I=E});if(I)throw I;return _},f=i.setState;i.setState=(C,I)=>{f(C,I),p()};const m=t((...C)=>{r(...C),p()},n,i);let g;const w=()=>{var C;if(!l)return;o=!1,a.forEach(_=>_(n()));const I=((C=s.onRehydrateStorage)==null?void 0:C.call(s,n()))||void 0;return Eo(l.getItem.bind(l))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var E;return g=s.merge(_,(E=n())!=null?E:m),r(g,!0),p()}).then(()=>{I==null||I(g,void 0),o=!0,c.forEach(_=>_(g))}).catch(_=>{I==null||I(void 0,_)})};return i.persist={setOptions:C=>{s={...s,...C},C.getStorage&&(l=C.getStorage())},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},w(),g||m},xE=(t,e)=>(r,n,i)=>{let s={storage:_E(()=>localStorage),partialize:w=>w,version:0,merge:(w,C)=>({...C,...w}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...w)},n,i);const u=()=>{const w=s.partialize({...n()});return l.setItem(s.name,{state:w,version:s.version})},p=i.setState;i.setState=(w,C)=>{p(w,C),u()};const f=t((...w)=>{r(...w),u()},n,i);i.getInitialState=()=>f;let m;const g=()=>{var w,C;if(!l)return;o=!1,a.forEach(_=>{var E;return _((E=n())!=null?E:f)});const I=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(w=n())!=null?w:f))||void 0;return Eo(l.getItem.bind(l))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var E;return m=s.merge(_,(E=n())!=null?E:f),r(m,!0),u()}).then(()=>{I==null||I(m,void 0),m=n(),o=!0,c.forEach(_=>_(m))}).catch(_=>{I==null||I(void 0,_)})};return i.persist={setOptions:w=>{s={...s,...w},w.storage&&(l=w.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},s.skipHydration||g(),m||f},SE=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((bE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),EE(t,e)):xE(t,e),an=wg.create()(SE((t,e)=>({account:void 0,chainId:"aleo:1",setAccount:r=>{t({account:r})},setChainId:r=>{t({chainId:r})},onDisconnect:()=>{t({account:void 0,chainId:void 0}),Hu.clear(),localStorage.removeItem("puzzle-hasInjectedConnection"),console.log("onDisconnect called!")}}),{name:"puzzle-wallet-store"}));function oc(){const[t,e]=ut.useState(void 0),[r,n]=ut.useState(void 0),[i,s]=ut.useState(!1);return{data:t,error:r,loading:i,setData:e,setError:n,setLoading:s}}async function j0(t,e){const n=await(await Nr()).request(t);if(n===void 0&&e)throw console.error("Result is undefined, retrying..."),new Error("Result is undefined, retrying...");return n}function xo({queryKey:t,wcParams:e,enabled:r,queryOptions:n}){return Ln.useQuery(t,async()=>j0(e,t),n??{staleTime:t[0]==="getEvent"?7500:45e3,refetchInterval:t[0]==="getEvent"?5e3:3e4,refetchIntervalInBackground:!0,enabled:r,retry:!0})}function So({queryKey:t,wcParams:e,enabled:r,queryOptions:n,fetchFunction:i}){return Ln.useQuery(t,async()=>i(e),n??{staleTime:t[0]==="getEvent"?7500:45e3,refetchInterval:t[0]==="getEvent"?5e3:3e4,refetchIntervalInBackground:!0,enabled:r,retry:!0})}function Io(t,e){const{data:r,error:n,loading:i,setData:s,setError:o,setLoading:a}=oc();async function c(l){try{a(!0),o(void 0);const u=await j0(l??t);return s(u),u}catch(u){throw o(u),a(!1),u}finally{a(!1)}}return{data:r,error:n,loading:i,request:c}}function _u(t,e){const{data:r,error:n,loading:i,setData:s,setError:o,setLoading:a}=oc();async function c(l){try{a(!0),o(void 0);const u=await e(l??t);return s(u),u}catch(u){throw o(u),a(!1),u}finally{a(!1)}}return{data:r,error:n,loading:i,request:c}}const Co=({session:t,configs:e})=>{ut.useEffect(()=>{if(!En()||!t)return;const r=e.map(({subscriptionName:n,condition:i,onData:s})=>window.aleo.puzzleWalletClient[n].subscribe({sessionTopic:t.topic},{onData(a){i(a)&&s(a)},onError(a){console.error(`${n} tRPC subscription error:`,a)}}));return()=>{r.forEach(n=>n.unsubscribe())}},[t==null?void 0:t.topic,e])},Oo=(t,e=!0,r=4,n=!0)=>t?t.length<r?t:n?`(...${t.slice(-r)})`:t.length<r*2?t:`${t.slice(0,r+(e?5:0))}...${t.slice(t.length-r,t.length)}`:"",IE=()=>{const t=_r();ut.useState();const[e,r,n]=an(p=>[p.account,p.setAccount,p.onDisconnect]),i=En()?So:xo,s={topic:t==null?void 0:t.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getSelectedAccount"}},{refetch:o,data:a,error:c,isLoading:l}=i({queryKey:["useAccount",t==null?void 0:t.topic],enabled:!!t,fetchFunction:async()=>await window.aleo.puzzleWalletClient.getSelectedAccount.query(s),wcParams:s});Co({session:t,configs:[{subscriptionName:"onAccountSelected",condition:p=>!!(p!=null&&p.address),onData:p=>{var g,w;const f=((g=p.chain)==null?void 0:g.split(":")[0])??"aleo",m=((w=p.chain)==null?void 0:w.split(":")[1])??"1";r({network:f,chainId:m,address:p.address,shortenedAddress:Oo(p.address)})}}]}),hs(({params:p,topic:f})=>{if(p.event.name==="accountSelected"&&t&&t.topic===f){const g=p.event.address??p.event.data.address,w=p.chainId.split(":")[0],C=p.chainId.split(":")[1];r({network:w,chainId:C,address:g,shortenedAddress:Oo(g)})}}),bu(({params:p,topic:f})=>{const m=p.event.address??p.event.data.address,g=p.chainId.split(":")[0],w=p.chainId.split(":")[1];r({network:g,chainId:w,address:m,shortenedAddress:Oo(m)})}),wu(({params:p,topic:f})=>{n()}),ut.useEffect(()=>{t&&!l&&o()},[t==null?void 0:t.topic]),ut.useEffect(()=>{if(a){const p=a,f=p==null?void 0:p.account;f&&r(f)}},[a]);const u=c?c.message:a&&a.error;return{account:e,error:u,loading:l}},CE=({address:t,multisig:e})=>{const r=_r(),[n]=an(m=>[m.account]),i=En()?So:xo,s={topic:r==null?void 0:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getBalance",params:{assetId:void 0,address:t}}},{refetch:o,data:a,error:c,isLoading:l}=i({queryKey:["useBalance",t,(n==null?void 0:n.address)??"",e,r==null?void 0:r.topic],enabled:!!r&&!!n&&(e?!!t:!0),fetchFunction:async()=>await window.aleo.puzzleWalletClient.getBalance.query(s),wcParams:s});Co({session:r,configs:[{subscriptionName:"onSelectedAccountSynced",condition:()=>!e,onData:()=>o()},{subscriptionName:"onSharedAccountSynced",condition:m=>(console.log("onSharedAccountSynced data",m),!!e&&(m==null?void 0:m.address)===t),onData:()=>o()}]}),hs(({params:m,topic:g})=>{const w=m.event.name,C=m.event.address??m.event.data.address;(w==="selectedAccountSynced"&&!e||w==="sharedAccountSynced"&&e&&C===t)&&o()}),ut.useEffect(()=>{r&&!l&&o()},[r==null?void 0:r.topic]);const u=c?c.message:a&&a.error,p=a;return{balances:p==null?void 0:p.balances,error:u,loading:l}};function OE(){const e=!!_r(),{data:r,error:n,loading:i,setData:s,setError:o,setLoading:a}=oc(),[c]=an(u=>[u.setAccount]);async function l(){try{a(!0),o(void 0);const p=await(await Nr()).connect({requiredNamespaces:{aleo:{methods:V6,chains:au,events:B6}}});s(p),await f4(p.topic);const f=p.namespaces.aleo.accounts[0].split(":");return c({network:f[0],chainId:f[1],address:f[2],shortenedAddress:Oo(f[2])}),so.emit("session_change"),window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE"),p}catch(u){throw o(u),localStorage.removeItem("puzzle-hasInjectedConnection"),u}finally{a(!1)}}return{data:r,error:n,loading:i,isConnected:e,connect:l}}const kE=()=>{const t=_r(),e=En()?_u:Io,{request:r,data:n,error:i,loading:s}=e({topic:(t==null?void 0:t.topic)??"",chainId:"aleo:1",request:{jsonrpc:"2.0",method:"createSharedState",params:{}}},l=>window.aleo.puzzleWalletClient.createSharedState.mutate(l)),o=i?i.message:n&&n.error,a=n;return{createSharedState:async()=>await r(),data:a==null?void 0:a.data,loading:s,error:o}},TE=t=>{const e=_r(),r=En()?_u:Io,{request:n,data:i,error:s,loading:o}=r({topic:(e==null?void 0:e.topic)??"",chainId:"aleo:1",request:{jsonrpc:"2.0",method:"decrypt",params:{ciphertexts:t}}},u=>window.aleo.puzzleWalletClient.decrypt.query(u)),a=s?s.message:i&&i.error,c=i;return{decrypt:()=>{_o("useDecrypt",t),t&&e&&!o&&n()},plaintexts:c==null?void 0:c.plaintexts,loading:o,error:a}};function AE(){const t=_r(),[e]=an(a=>[a.onDisconnect]),{error:r,loading:n,setError:i,setLoading:s}=oc();async function o(){if(!t||n){t||e();return}try{s(!0),i(void 0);try{await(await Nr()).disconnect({topic:t.topic,reason:tl.getSdkError("USER_DISCONNECTED")}),so.emit("session_change")}catch(a){console.warn(a)}an.getState().onDisconnect()}catch(a){throw i(a),a}finally{s(!1)}}return{error:r,loading:n,disconnect:o}}const PE=({id:t,address:e,multisig:r=!1})=>{const n=_r(),[i]=an(I=>[I.account]),s=En()?So:xo,o={topic:n==null?void 0:n.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getEvent",params:{id:t??"",address:e}}},a=t!==void 0&&t!==""&&!!n&&!!i&&(r?!!e:!0),{refetch:c,data:l,error:u,isLoading:p}=s({queryKey:["useEvent",i==null?void 0:i.address,e,r,t,n==null?void 0:n.topic],enabled:a,fetchFunction:async()=>await window.aleo.puzzleWalletClient.getEvent.query(o),wcParams:o});Co({session:n,configs:[{subscriptionName:"onSelectedAccountSynced",condition:()=>!!t&&!r,onData:()=>c()},{subscriptionName:"onSharedAccountSynced",condition:I=>(console.log("onSharedAccountSynced data",I),!!t&&!!r&&(I==null?void 0:I.address)===e),onData:()=>c()}]}),hs(({params:I,topic:_})=>{const E=I.event.name,b=I.event.address??I.event.data.address;(t&&E==="selectedAccountSynced"&&!r||t&&E==="sharedAccountSynced"&&r&&b===e)&&c()});const f=!!n&&!!i&&!!t&&(r?!!e:!0);ut.useEffect(()=>{f&&!p&&c()},[f]);const m=()=>{f&&!p&&c()},g=u?u.message:l&&l.error,w=l,C=w==null?void 0:w.event;return{fetchEvent:m,event:C,error:g,loading:p}},RE=({filter:t,page:e})=>{const r=_r(),[n]=an(I=>[I.account]);(t==null?void 0:t.programId)===""&&(t.programId=void 0);const i=En()?So:xo,s={topic:(r==null?void 0:r.topic)??"",chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getEvents",params:{filter:t,page:e}}},[o]=oh.useDebounce(t,500),{refetch:a,data:c,error:l,isLoading:u}=i({queryKey:["useEvents",n==null?void 0:n.address,o,e,r==null?void 0:r.topic],enabled:!!r&&!!n,fetchFunction:async()=>await window.aleo.puzzleWalletClient.getEvents.query(s),wcParams:s});Co({session:r,configs:[{subscriptionName:"onSelectedAccountSynced",condition:()=>!0,onData:()=>a()}]}),hs(({params:I})=>{I.event.name==="selectedAccountSynced"&&a()});const p=!!r&&!!n;ut.useEffect(()=>{p&&!u&&a()},[p]);const f=()=>{p&&!u&&a()},m=l?l.message:c&&c.error,g=c,w=g==null?void 0:g.events,C=(g==null?void 0:g.pageCount)??0;return{fetchPage:f,events:w,error:m,loading:u,page:e,pageCount:C}},NE=t=>{const e=_r(),r=En()?_u:Io,{request:n,data:i,error:s,loading:o}=r({topic:(e==null?void 0:e.topic)??"",chainId:"aleo:1",request:{jsonrpc:"2.0",method:"importSharedState",params:{seed:t}}},u=>{var p;return(p=window.aleo)==null?void 0:p.puzzleWalletClient.importSharedState.mutate(u)}),a=s?s.message:i&&i.error,c=i;return{importSharedState:async()=>{if(e&&!o)return await n()},data:c==null?void 0:c.data,loading:o,error:a}},$E=t=>{try{return JSON.stringify(t,null,2).replaceAll('"',"")??""}catch{return""}},LE=({address:t,multisig:e=!1,filter:r,page:n})=>{const i=_r(),[s]=an(E=>[E.account]),o=En()?So:xo,a={topic:i==null?void 0:i.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getRecords",params:{address:t,filter:r,page:n}}},[c]=oh.useDebounce(r,500),{refetch:l,data:u,error:p,isLoading:f}=o({queryKey:["useRecords",s==null?void 0:s.address,t,e,c,n,i==null?void 0:i.topic],enabled:(e?!!t:!0)&&!!i&&!!s,fetchFunction:async()=>await window.aleo.puzzleWalletClient.getRecords.query(a),wcParams:a}),m=!!i&&!!s&&(e?!!t:!0);Co({session:i,configs:[{subscriptionName:"onSelectedAccountSynced",condition:()=>!e,onData:()=>l()},{subscriptionName:"onSharedAccountSynced",condition:E=>(console.log("onSharedAccountSynced data",E),!!e&&(E==null?void 0:E.address)===t),onData:()=>l()}]}),hs(({params:E})=>{const b=E.event.name,x=E.event.address??E.event.data.address;(b==="selectedAccountSynced"&&!e||b==="sharedAccountSynced"&&e&&x===t)&&l()});const g=()=>{m&&!f&&(_o("useRecords refetching...",[t,e,r,n]),l())},w=p?p.message:u&&u.error,C=u,I=C==null?void 0:C.records,_=(C==null?void 0:C.pageCount)??0;return{fetchPage:g,records:I,error:w,loading:f,page:n,pageCount:_}},jE=t=>{const e=_r(),r=t==null?void 0:t.inputs.map(u=>typeof u=="string"?u:u.plaintext),{request:n,data:i,error:s,loading:o}=Io({topic:(e==null?void 0:e.topic)??"",chainId:"aleo:1",request:{jsonrpc:"2.0",method:"requestCreateEvent",params:{...t,inputs:r}}}),a=s?s.message:i&&i.error,c=i;return{createEvent:()=>{t&&e&&!o&&(_o("useCreateEvent requesting...",t),n())},eventId:c==null?void 0:c.eventId,loading:o,error:a}};var nt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(nt||(nt={}));var Eu;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Eu||(Eu={}));const oe=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fn=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},J=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ME=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Zr extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zr.create=t=>new Zr(t);const ko=(t,e)=>{let r;switch(t.code){case J.invalid_type:t.received===oe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,nt.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:r=`Unrecognized key(s) in object: ${nt.joinValues(t.keys,", ")}`;break;case J.invalid_union:r="Invalid input";break;case J.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nt.joinValues(t.options)}`;break;case J.invalid_enum_value:r=`Invalid enum value. Expected ${nt.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:r="Invalid function arguments";break;case J.invalid_return_type:r="Invalid function return type";break;case J.invalid_date:r="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:nt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case J.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case J.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case J.custom:r="Invalid input";break;case J.invalid_intersection_types:r="Intersection results could not be merged";break;case J.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:r="Number must be finite";break;default:r=e.defaultError,nt.assertNever(t)}return{message:r}};let M0=ko;function DE(t){M0=t}function ac(){return M0}const cc=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},zE=[];function ce(t,e){const r=cc({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ac(),ko].filter(n=>!!n)});t.common.issues.push(r)}class nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Ee;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return nr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ee;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Ee=Object.freeze({status:"aborted"}),D0=t=>({status:"dirty",value:t}),hr=t=>({status:"valid",value:t}),xu=t=>t.status==="aborted",Su=t=>t.status==="dirty",lc=t=>t.status==="valid",uc=t=>typeof Promise<"u"&&t instanceof Promise;var ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));class cn{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z0=(t,e)=>{if(lc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zr(t.common.issues);return this._error=r,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class je{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Fn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Fn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nr,ctx:{common:e.parent.common,data:e.data,parsedType:Fn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(uc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fn(e)},s=this._parseSync({data:e,path:i.path,parent:i});return z0(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fn(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(uc(i)?i:Promise.resolve(i));return z0(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:J.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Yr({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Cn.create(this,this._def)}nullable(){return Ni.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Kr.create(this,this._def)}promise(){return gs.create(this,this._def)}or(e){return Ro.create([this,e],this._def)}and(e){return No.create(this,e,this._def)}transform(e){return new Yr({...Te(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Do({...Te(this._def),innerType:this,defaultValue:r,typeName:we.ZodDefault})}brand(){return new W0({typeName:we.ZodBranded,type:this,...Te(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new gc({...Te(this._def),innerType:this,catchValue:r,typeName:we.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zo.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UE=/^c[^\s-]{8,}$/i,WE=/^[a-z][a-z0-9]*$/,VE=/[0-9A-HJKMNP-TV-Z]{26}/,BE=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,qE=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,HE=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),ZE=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,FE=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,KE=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function YE(t,e){return!!((e==="v4"||!e)&&ZE.test(t)||(e==="v6"||!e)&&FE.test(t))}class Fr extends je{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:J.invalid_string,...ge.errToObj(n)}),this.nonempty=e=>this.min(1,ge.errToObj(e)),this.trim=()=>new Fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const s=this._getOrReturnCtx(e);return ce(s,{code:J.invalid_type,expected:oe.string,received:s.parsedType}),Ee}const n=new nr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:J.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:J.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ce(i,{code:J.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ce(i,{code:J.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")qE.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"email",code:J.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")HE.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"emoji",code:J.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")BE.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"uuid",code:J.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")UE.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"cuid",code:J.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")WE.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"cuid2",code:J.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")VE.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"ulid",code:J.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ce(i,{validation:"url",code:J.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"regex",code:J.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ce(i,{code:J.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ce(i,{code:J.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ce(i,{code:J.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?KE(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ce(i,{code:J.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?YE(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ce(i,{validation:"ip",code:J.invalid_string,message:s.message}),n.dirty()):nt.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Fr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...ge.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ge.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ge.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ge.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ge.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Fr.create=t=>{var e;return new Fr({checks:[],typeName:we.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function GE(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Kn extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const s=this._getOrReturnCtx(e);return ce(s,{code:J.invalid_type,expected:oe.number,received:s.parsedType}),Ee}let n;const i=new nr;for(const s of this._def.checks)s.kind==="int"?nt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:J.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:J.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:J.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?GE(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ce(n,{code:J.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:J.not_finite,message:s.message}),i.dirty()):nt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ge.toString(r))}setLimit(e,r,n,i){return new Kn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ge.toString(i)}]})}_addCheck(e){return new Kn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Kn.create=t=>new Kn({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class Yn extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==oe.bigint){const s=this._getOrReturnCtx(e);return ce(s,{code:J.invalid_type,expected:oe.bigint,received:s.parsedType}),Ee}let n;const i=new nr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:J.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:J.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:J.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):nt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ge.toString(r))}setLimit(e,r,n,i){return new Yn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ge.toString(i)}]})}_addCheck(e){return new Yn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yn.create=t=>{var e;return new Yn({checks:[],typeName:we.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class To extends je{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const n=this._getOrReturnCtx(e);return ce(n,{code:J.invalid_type,expected:oe.boolean,received:n.parsedType}),Ee}return hr(e.data)}}To.create=t=>new To({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class Ai extends je{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const s=this._getOrReturnCtx(e);return ce(s,{code:J.invalid_type,expected:oe.date,received:s.parsedType}),Ee}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ce(s,{code:J.invalid_date}),Ee}const n=new nr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:J.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ce(i,{code:J.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):nt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ai({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ai.create=t=>new Ai({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...Te(t)});class dc extends je{_parse(e){if(this._getType(e)!==oe.symbol){const n=this._getOrReturnCtx(e);return ce(n,{code:J.invalid_type,expected:oe.symbol,received:n.parsedType}),Ee}return hr(e.data)}}dc.create=t=>new dc({typeName:we.ZodSymbol,...Te(t)});class Ao extends je{_parse(e){if(this._getType(e)!==oe.undefined){const n=this._getOrReturnCtx(e);return ce(n,{code:J.invalid_type,expected:oe.undefined,received:n.parsedType}),Ee}return hr(e.data)}}Ao.create=t=>new Ao({typeName:we.ZodUndefined,...Te(t)});class Po extends je{_parse(e){if(this._getType(e)!==oe.null){const n=this._getOrReturnCtx(e);return ce(n,{code:J.invalid_type,expected:oe.null,received:n.parsedType}),Ee}return hr(e.data)}}Po.create=t=>new Po({typeName:we.ZodNull,...Te(t)});class ps extends je{constructor(){super(...arguments),this._any=!0}_parse(e){return hr(e.data)}}ps.create=t=>new ps({typeName:we.ZodAny,...Te(t)});class Pi extends je{constructor(){super(...arguments),this._unknown=!0}_parse(e){return hr(e.data)}}Pi.create=t=>new Pi({typeName:we.ZodUnknown,...Te(t)});class In extends je{_parse(e){const r=this._getOrReturnCtx(e);return ce(r,{code:J.invalid_type,expected:oe.never,received:r.parsedType}),Ee}}In.create=t=>new In({typeName:we.ZodNever,...Te(t)});class hc extends je{_parse(e){if(this._getType(e)!==oe.undefined){const n=this._getOrReturnCtx(e);return ce(n,{code:J.invalid_type,expected:oe.void,received:n.parsedType}),Ee}return hr(e.data)}}hc.create=t=>new hc({typeName:we.ZodVoid,...Te(t)});class Kr extends je{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==oe.array)return ce(r,{code:J.invalid_type,expected:oe.array,received:r.parsedType}),Ee;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(ce(r,{code:o?J.too_big:J.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ce(r,{code:J.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ce(r,{code:J.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new cn(r,o,r.path,a)))).then(o=>nr.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new cn(r,o,r.path,a)));return nr.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Kr({...this._def,minLength:{value:e,message:ge.toString(r)}})}max(e,r){return new Kr({...this._def,maxLength:{value:e,message:ge.toString(r)}})}length(e,r){return new Kr({...this._def,exactLength:{value:e,message:ge.toString(r)}})}nonempty(e){return this.min(1,e)}}Kr.create=(t,e)=>new Kr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Te(e)});function fs(t){if(t instanceof _t){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Cn.create(fs(n))}return new _t({...t._def,shape:()=>e})}else return t instanceof Kr?new Kr({...t._def,type:fs(t.element)}):t instanceof Cn?Cn.create(fs(t.unwrap())):t instanceof Ni?Ni.create(fs(t.unwrap())):t instanceof ln?ln.create(t.items.map(e=>fs(e))):t}class _t extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=nt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==oe.object){const l=this._getOrReturnCtx(e);return ce(l,{code:J.invalid_type,expected:oe.object,received:l.parsedType}),Ee}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof In&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],p=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new cn(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof In){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(ce(i,{code:J.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const p=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new cn(i,p,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const p=await u.key;l.push({key:p,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>nr.mergeObjectSync(n,l)):nr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new _t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ge.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new _t({...this._def,unknownKeys:"strip"})}passthrough(){return new _t({...this._def,unknownKeys:"passthrough"})}extend(e){return new _t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new _t({...this._def,catchall:e})}pick(e){const r={};return nt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new _t({...this._def,shape:()=>r})}omit(e){const r={};return nt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new _t({...this._def,shape:()=>r})}deepPartial(){return fs(this)}partial(e){const r={};return nt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new _t({...this._def,shape:()=>r})}required(e){const r={};return nt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Cn;)s=s._def.innerType;r[n]=s}}),new _t({...this._def,shape:()=>r})}keyof(){return U0(nt.objectKeys(this.shape))}}_t.create=(t,e)=>new _t({shape:()=>t,unknownKeys:"strip",catchall:In.create(),typeName:we.ZodObject,...Te(e)}),_t.strictCreate=(t,e)=>new _t({shape:()=>t,unknownKeys:"strict",catchall:In.create(),typeName:we.ZodObject,...Te(e)}),_t.lazycreate=(t,e)=>new _t({shape:t,unknownKeys:"strip",catchall:In.create(),typeName:we.ZodObject,...Te(e)});class Ro extends je{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Zr(a.ctx.common.issues));return ce(r,{code:J.invalid_union,unionErrors:o}),Ee}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Zr(c));return ce(r,{code:J.invalid_union,unionErrors:a}),Ee}}get options(){return this._def.options}}Ro.create=(t,e)=>new Ro({options:t,typeName:we.ZodUnion,...Te(e)});const pc=t=>t instanceof Lo?pc(t.schema):t instanceof Yr?pc(t.innerType()):t instanceof jo?[t.value]:t instanceof Gn?t.options:t instanceof Mo?Object.keys(t.enum):t instanceof Do?pc(t._def.innerType):t instanceof Ao?[void 0]:t instanceof Po?[null]:null;class fc extends je{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return ce(r,{code:J.invalid_type,expected:oe.object,received:r.parsedType}),Ee;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(ce(r,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=pc(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new fc({typeName:we.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Te(n)})}}function Iu(t,e){const r=Fn(t),n=Fn(e);if(t===e)return{valid:!0,data:t};if(r===oe.object&&n===oe.object){const i=nt.objectKeys(e),s=nt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=Iu(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===oe.array&&n===oe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=Iu(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===oe.date&&n===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class No extends je{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(xu(s)||xu(o))return Ee;const a=Iu(s.value,o.value);return a.valid?((Su(s)||Su(o))&&r.dirty(),{status:r.value,value:a.data}):(ce(n,{code:J.invalid_intersection_types}),Ee)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}No.create=(t,e,r)=>new No({left:t,right:e,typeName:we.ZodIntersection,...Te(r)});class ln extends je{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.array)return ce(n,{code:J.invalid_type,expected:oe.array,received:n.parsedType}),Ee;if(n.data.length<this._def.items.length)return ce(n,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&n.data.length>this._def.items.length&&(ce(n,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new cn(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>nr.mergeArray(r,o)):nr.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ln({...this._def,rest:e})}}ln.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ln({items:t,typeName:we.ZodTuple,rest:null,...Te(e)})};class $o extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return ce(n,{code:J.invalid_type,expected:oe.object,received:n.parsedType}),Ee;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new cn(n,a,n.path,a)),value:o._parse(new cn(n,n.data[a],n.path,a))});return n.common.async?nr.mergeObjectAsync(r,i):nr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof je?new $o({keyType:e,valueType:r,typeName:we.ZodRecord,...Te(n)}):new $o({keyType:Fr.create(),valueType:e,typeName:we.ZodRecord,...Te(r)})}}class mc extends je{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.map)return ce(n,{code:J.invalid_type,expected:oe.map,received:n.parsedType}),Ee;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new cn(n,a,n.path,[l,"key"])),value:s._parse(new cn(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ee;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ee;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}mc.create=(t,e,r)=>new mc({valueType:e,keyType:t,typeName:we.ZodMap,...Te(r)});class Ri extends je{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.set)return ce(n,{code:J.invalid_type,expected:oe.set,received:n.parsedType}),Ee;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ce(n,{code:J.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ce(n,{code:J.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ee;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new cn(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Ri({...this._def,minSize:{value:e,message:ge.toString(r)}})}max(e,r){return new Ri({...this._def,maxSize:{value:e,message:ge.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ri.create=(t,e)=>new Ri({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Te(e)});class ms extends je{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.function)return ce(r,{code:J.invalid_type,expected:oe.function,received:r.parsedType}),Ee;function n(a,c){return cc({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ac(),ko].filter(l=>!!l),issueData:{code:J.invalid_arguments,argumentsError:c}})}function i(a,c){return cc({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ac(),ko].filter(l=>!!l),issueData:{code:J.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof gs?hr(async(...a)=>{const c=new Zr([]),l=await this._def.args.parseAsync(a,s).catch(f=>{throw c.addIssue(n(a,f)),c}),u=await o(...l);return await this._def.returns._def.type.parseAsync(u,s).catch(f=>{throw c.addIssue(i(u,f)),c})}):hr((...a)=>{const c=this._def.args.safeParse(a,s);if(!c.success)throw new Zr([n(a,c.error)]);const l=o(...c.data),u=this._def.returns.safeParse(l,s);if(!u.success)throw new Zr([i(l,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ms({...this._def,args:ln.create(e).rest(Pi.create())})}returns(e){return new ms({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ms({args:e||ln.create([]).rest(Pi.create()),returns:r||Pi.create(),typeName:we.ZodFunction,...Te(n)})}}class Lo extends je{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Lo.create=(t,e)=>new Lo({getter:t,typeName:we.ZodLazy,...Te(e)});class jo extends je{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ce(r,{received:r.data,code:J.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}jo.create=(t,e)=>new jo({value:t,typeName:we.ZodLiteral,...Te(e)});function U0(t,e){return new Gn({values:t,typeName:we.ZodEnum,...Te(e)})}class Gn extends je{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ce(r,{expected:nt.joinValues(n),received:r.parsedType,code:J.invalid_type}),Ee}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return ce(r,{received:r.data,code:J.invalid_enum_value,options:n}),Ee}return hr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Gn.create(e)}exclude(e){return Gn.create(this.options.filter(r=>!e.includes(r)))}}Gn.create=U0;class Mo extends je{_parse(e){const r=nt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==oe.string&&n.parsedType!==oe.number){const i=nt.objectValues(r);return ce(n,{expected:nt.joinValues(i),received:n.parsedType,code:J.invalid_type}),Ee}if(r.indexOf(e.data)===-1){const i=nt.objectValues(r);return ce(n,{received:n.data,code:J.invalid_enum_value,options:i}),Ee}return hr(e.data)}get enum(){return this._def.values}}Mo.create=(t,e)=>new Mo({values:t,typeName:we.ZodNativeEnum,...Te(e)});class gs extends je{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.promise&&r.common.async===!1)return ce(r,{code:J.invalid_type,expected:oe.promise,received:r.parsedType}),Ee;const n=r.parsedType===oe.promise?r.data:Promise.resolve(r.data);return hr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gs.create=(t,e)=>new gs({type:t,typeName:we.ZodPromise,...Te(e)});class Yr extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){const o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}const s={addIssue:o=>{ce(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ee:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Ee:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!lc(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>lc(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);nt.assertNever(i)}}Yr.create=(t,e,r)=>new Yr({schema:t,typeName:we.ZodEffects,effect:e,...Te(r)}),Yr.createWithPreprocess=(t,e,r)=>new Yr({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Te(r)});class Cn extends je{_parse(e){return this._getType(e)===oe.undefined?hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cn.create=(t,e)=>new Cn({innerType:t,typeName:we.ZodOptional,...Te(e)});class Ni extends je{_parse(e){return this._getType(e)===oe.null?hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ni.create=(t,e)=>new Ni({innerType:t,typeName:we.ZodNullable,...Te(e)});class Do extends je{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Do.create=(t,e)=>new Do({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class gc extends je{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return uc(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Zr(n.common.issues)}})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zr(n.common.issues)}})}}removeCatch(){return this._def.innerType}}gc.create=(t,e)=>new gc({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class yc extends je{_parse(e){if(this._getType(e)!==oe.nan){const n=this._getOrReturnCtx(e);return ce(n,{code:J.invalid_type,expected:oe.nan,received:n.parsedType}),Ee}return{status:"valid",value:e.data}}}yc.create=t=>new yc({typeName:we.ZodNaN,...Te(t)});const QE=Symbol("zod_brand");class W0 extends je{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class zo extends je{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ee:s.status==="dirty"?(r.dirty(),D0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ee:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new zo({in:e,out:r,typeName:we.ZodPipeline})}}const V0=(t,e={},r)=>t?ps.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):ps.create(),JE={object:_t.lazycreate};var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(we||(we={}));const XE=(t,e={message:`Input not instance of ${t.name}`})=>V0(r=>r instanceof t,e),B0=Fr.create,q0=Kn.create,e8=yc.create,t8=Yn.create,H0=To.create,r8=Ai.create,n8=dc.create,i8=Ao.create,s8=Po.create,o8=ps.create,a8=Pi.create,c8=In.create,l8=hc.create,u8=Kr.create,d8=_t.create,h8=_t.strictCreate,p8=Ro.create,f8=fc.create,m8=No.create,g8=ln.create,y8=$o.create,v8=mc.create,w8=Ri.create,b8=ms.create,_8=Lo.create,E8=jo.create,x8=Gn.create,S8=Mo.create,I8=gs.create,Z0=Yr.create,C8=Cn.create,O8=Ni.create,k8=Yr.createWithPreprocess,T8=zo.create;var Gr=Object.freeze({__proto__:null,defaultErrorMap:ko,setErrorMap:DE,getErrorMap:ac,makeIssue:cc,EMPTY_PATH:zE,addIssueToContext:ce,ParseStatus:nr,INVALID:Ee,DIRTY:D0,OK:hr,isAborted:xu,isDirty:Su,isValid:lc,isAsync:uc,get util(){return nt},get objectUtil(){return Eu},ZodParsedType:oe,getParsedType:Fn,ZodType:je,ZodString:Fr,ZodNumber:Kn,ZodBigInt:Yn,ZodBoolean:To,ZodDate:Ai,ZodSymbol:dc,ZodUndefined:Ao,ZodNull:Po,ZodAny:ps,ZodUnknown:Pi,ZodNever:In,ZodVoid:hc,ZodArray:Kr,ZodObject:_t,ZodUnion:Ro,ZodDiscriminatedUnion:fc,ZodIntersection:No,ZodTuple:ln,ZodRecord:$o,ZodMap:mc,ZodSet:Ri,ZodFunction:ms,ZodLazy:Lo,ZodLiteral:jo,ZodEnum:Gn,ZodNativeEnum:Mo,ZodPromise:gs,ZodEffects:Yr,ZodTransformer:Yr,ZodOptional:Cn,ZodNullable:Ni,ZodDefault:Do,ZodCatch:gc,ZodNaN:yc,BRAND:QE,ZodBranded:W0,ZodPipeline:zo,custom:V0,Schema:je,ZodSchema:je,late:JE,get ZodFirstPartyTypeKind(){return we},coerce:{string:t=>Fr.create({...t,coerce:!0}),number:t=>Kn.create({...t,coerce:!0}),boolean:t=>To.create({...t,coerce:!0}),bigint:t=>Yn.create({...t,coerce:!0}),date:t=>Ai.create({...t,coerce:!0})},any:o8,array:u8,bigint:t8,boolean:H0,date:r8,discriminatedUnion:f8,effect:Z0,enum:x8,function:b8,instanceof:XE,intersection:m8,lazy:_8,literal:E8,map:v8,nan:e8,nativeEnum:S8,never:c8,null:s8,nullable:O8,number:q0,object:d8,oboolean:()=>H0().optional(),onumber:()=>q0().optional(),optional:C8,ostring:()=>B0().optional(),pipeline:T8,preprocess:k8,promise:I8,record:y8,set:w8,strictObject:h8,string:B0,symbol:n8,transformer:Z0,tuple:g8,undefined:i8,union:p8,unknown:a8,void:l8,NEVER:Ee,ZodIssueCode:J,quotelessJson:ME,ZodError:Zr});const vc=/^aleo1[a-z0-9]{58}$/i,F0=/^AViewKey1[a-z0-9]{44}$/i,K0=/^APrivateKey1[a-z0-9]{47}$/i,Y0=/^at1[a-z0-9]{58}$/i,G0=/^\d+field$/,Q0=/^\d+u32$/,J0=/^\d+u64$/,A8=Gr.string().regex(vc),P8=Gr.string().regex(F0),R8=Gr.string().regex(K0),N8=Gr.string().regex(Y0),$8=Gr.string().regex(G0),L8=Gr.string().regex(Q0),j8=Gr.string().regex(J0);var X0;(function(t){t.Record="record",t.OutputRecord="outputRecord",t.Public="public",t.Private="private",t.Constant="constant",t.Future="future",t.ExternalRecord="external_record"})(X0||(X0={})),Z.EventType=void 0,function(t){t.Deploy="Deploy",t.Execute="Execute",t.Send="Send",t.Receive="Receive",t.Join="Join",t.Split="Split",t.Shield="Shield",t.Unshield="Unshield"}(Z.EventType||(Z.EventType={})),Z.EventStatus=void 0,function(t){t.Creating="Creating",t.Pending="Pending",t.Settled="Settled",t.Failed="Failed"}(Z.EventStatus||(Z.EventStatus={})),Z.Visibility=void 0,function(t){t.Private="Private",t.Public="Public"}(Z.Visibility||(Z.Visibility={})),Z.Network=void 0,function(t){t.AleoTestnet="AleoTestnet",t.AleoMainnet="AleoMainnet"}(Z.Network||(Z.Network={})),Z.AssetType=void 0,function(t){t[t.ALEO=0]="ALEO"}(Z.AssetType||(Z.AssetType={}));const M8=Gr.nativeEnum(Z.EventType),D8=Gr.nativeEnum(Z.EventStatus),z8=Gr.nativeEnum(Z.Network),U8=Gr.nativeEnum(Z.Visibility),W8=(t,e)=>{const r=_r(),{request:n,data:i,error:s,loading:o}=Io({topic:(r==null?void 0:r.topic)??"",chainId:"aleo:1",request:{jsonrpc:"2.0",method:"requestSignature",params:{message:t,address:vc.test(e??"")?e:void 0}}}),a=s?s.message:i&&i.error;return{requestSignature:()=>{r&&!o&&(_o("useRequestSignature requesting...",[t,e]),n())},response:i,loading:o,error:a}};var Cu={exports:{}},Uo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function V8(){if(e1)return Uo;e1=1;var t=ut,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,l){var u,p={},f=null,m=null;l!==void 0&&(f=""+l),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(m=c.ref);for(u in c)n.call(c,u)&&!s.hasOwnProperty(u)&&(p[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps,c)p[u]===void 0&&(p[u]=c[u]);return{$$typeof:e,type:a,key:f,ref:m,props:p,_owner:i.current}}return Uo.Fragment=r,Uo.jsx=o,Uo.jsxs=o,Uo}var Wo={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1;function B8(){return t1||(t1=1,process.env.NODE_ENV!=="production"&&function(){var t=ut,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),g=Symbol.iterator,w="@@iterator";function C(O){if(O===null||typeof O!="object")return null;var W=g&&O[g]||O[w];return typeof W=="function"?W:null}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _(O){{for(var W=arguments.length,re=new Array(W>1?W-1:0),be=1;be<W;be++)re[be-1]=arguments[be];E("error",O,re)}}function E(O,W,re){{var be=I.ReactDebugCurrentFrame,tt=be.getStackAddendum();tt!==""&&(W+="%s",re=re.concat([tt]));var Ze=re.map(function(Ke){return String(Ke)});Ze.unshift("Warning: "+W),Function.prototype.apply.call(console[O],console,Ze)}}var b=!1,x=!1,v=!1,d=!1,y=!1,T;T=Symbol.for("react.module.reference");function R(O){return!!(typeof O=="string"||typeof O=="function"||O===n||O===s||y||O===i||O===l||O===u||d||O===m||b||x||v||typeof O=="object"&&O!==null&&(O.$$typeof===f||O.$$typeof===p||O.$$typeof===o||O.$$typeof===a||O.$$typeof===c||O.$$typeof===T||O.getModuleId!==void 0))}function D(O,W,re){var be=O.displayName;if(be)return be;var tt=W.displayName||W.name||"";return tt!==""?re+"("+tt+")":re}function G(O){return O.displayName||"Context"}function q(O){if(O==null)return null;if(typeof O.tag=="number"&&_("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;switch(O){case n:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case l:return"Suspense";case u:return"SuspenseList"}if(typeof O=="object")switch(O.$$typeof){case a:var W=O;return G(W)+".Consumer";case o:var re=O;return G(re._context)+".Provider";case c:return D(O,O.render,"ForwardRef");case p:var be=O.displayName||null;return be!==null?be:q(O.type)||"Memo";case f:{var tt=O,Ze=tt._payload,Ke=tt._init;try{return q(Ke(Ze))}catch{return null}}}return null}var A=Object.assign,P=0,Y,V,z,B,U,K,fe;function F(){}F.__reactDisabledLog=!0;function pe(){{if(P===0){Y=console.log,V=console.info,z=console.warn,B=console.error,U=console.group,K=console.groupCollapsed,fe=console.groupEnd;var O={configurable:!0,enumerable:!0,value:F,writable:!0};Object.defineProperties(console,{info:O,log:O,warn:O,error:O,group:O,groupCollapsed:O,groupEnd:O})}P++}}function ne(){{if(P--,P===0){var O={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:A({},O,{value:Y}),info:A({},O,{value:V}),warn:A({},O,{value:z}),error:A({},O,{value:B}),group:A({},O,{value:U}),groupCollapsed:A({},O,{value:K}),groupEnd:A({},O,{value:fe})})}P<0&&_("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ue=I.ReactCurrentDispatcher,M;function j(O,W,re){{if(M===void 0)try{throw Error()}catch(tt){var be=tt.stack.trim().match(/\n( *(at )?)/);M=be&&be[1]||""}return`
`+M+O}}var N=!1,h;{var k=typeof WeakMap=="function"?WeakMap:Map;h=new k}function X(O,W){if(!O||N)return"";{var re=h.get(O);if(re!==void 0)return re}var be;N=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ze;Ze=ue.current,ue.current=null,pe();try{if(W){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Qr){be=Qr}Reflect.construct(O,[],Ke)}else{try{Ke.call()}catch(Qr){be=Qr}O.call(Ke.prototype)}}else{try{throw Error()}catch(Qr){be=Qr}O()}}catch(Qr){if(Qr&&be&&typeof Qr.stack=="string"){for(var Be=Qr.stack.split(`
`),Gt=be.stack.split(`
`),xt=Be.length-1,At=Gt.length-1;xt>=1&&At>=0&&Be[xt]!==Gt[At];)At--;for(;xt>=1&&At>=0;xt--,At--)if(Be[xt]!==Gt[At]){if(xt!==1||At!==1)do if(xt--,At--,At<0||Be[xt]!==Gt[At]){var Ut=`
`+Be[xt].replace(" at new "," at ");return O.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",O.displayName)),typeof O=="function"&&h.set(O,Ut),Ut}while(xt>=1&&At>=0);break}}}finally{N=!1,ue.current=Ze,ne(),Error.prepareStackTrace=tt}var ui=O?O.displayName||O.name:"",Zc=ui?j(ui):"";return typeof O=="function"&&h.set(O,Zc),Zc}function ie(O,W,re){return X(O,!1)}function Ue(O){var W=O.prototype;return!!(W&&W.isReactComponent)}function We(O,W,re){if(O==null)return"";if(typeof O=="function")return X(O,Ue(O));if(typeof O=="string")return j(O);switch(O){case l:return j("Suspense");case u:return j("SuspenseList")}if(typeof O=="object")switch(O.$$typeof){case c:return ie(O.render);case p:return We(O.type,W,re);case f:{var be=O,tt=be._payload,Ze=be._init;try{return We(Ze(tt),W,re)}catch{}}}return""}var Pe=Object.prototype.hasOwnProperty,Je={},vt=I.ReactDebugCurrentFrame;function dt(O){if(O){var W=O._owner,re=We(O.type,O._source,W?W.type:null);vt.setExtraStackFrame(re)}else vt.setExtraStackFrame(null)}function Fe(O,W,re,be,tt){{var Ze=Function.call.bind(Pe);for(var Ke in O)if(Ze(O,Ke)){var Be=void 0;try{if(typeof O[Ke]!="function"){var Gt=Error((be||"React class")+": "+re+" type `"+Ke+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof O[Ke]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Gt.name="Invariant Violation",Gt}Be=O[Ke](W,Ke,be,re,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(xt){Be=xt}Be&&!(Be instanceof Error)&&(dt(tt),_("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",be||"React class",re,Ke,typeof Be),dt(null)),Be instanceof Error&&!(Be.message in Je)&&(Je[Be.message]=!0,dt(tt),_("Failed %s type: %s",re,Be.message),dt(null))}}}var qe=Array.isArray;function Re(O){return qe(O)}function Me(O){{var W=typeof Symbol=="function"&&Symbol.toStringTag,re=W&&O[Symbol.toStringTag]||O.constructor.name||"Object";return re}}function Ne(O){try{return Oe(O),!1}catch{return!0}}function Oe(O){return""+O}function Ie(O){if(Ne(O))return _("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Me(O)),Oe(O)}var ye=I.ReactCurrentOwner,De={key:!0,ref:!0,__self:!0,__source:!0},Ve,_e,He;He={};function Xe(O){if(Pe.call(O,"ref")){var W=Object.getOwnPropertyDescriptor(O,"ref").get;if(W&&W.isReactWarning)return!1}return O.ref!==void 0}function st(O){if(Pe.call(O,"key")){var W=Object.getOwnPropertyDescriptor(O,"key").get;if(W&&W.isReactWarning)return!1}return O.key!==void 0}function ot(O,W){if(typeof O.ref=="string"&&ye.current&&W&&ye.current.stateNode!==W){var re=q(ye.current.type);He[re]||(_('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',q(ye.current.type),O.ref),He[re]=!0)}}function et(O,W){{var re=function(){Ve||(Ve=!0,_("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",W))};re.isReactWarning=!0,Object.defineProperty(O,"key",{get:re,configurable:!0})}}function Ar(O,W){{var re=function(){_e||(_e=!0,_("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",W))};re.isReactWarning=!0,Object.defineProperty(O,"ref",{get:re,configurable:!0})}}var jr=function(O,W,re,be,tt,Ze,Ke){var Be={$$typeof:e,type:O,key:W,ref:re,props:Ke,_owner:Ze};return Be._store={},Object.defineProperty(Be._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Be,"_self",{configurable:!1,enumerable:!1,writable:!1,value:be}),Object.defineProperty(Be,"_source",{configurable:!1,enumerable:!1,writable:!1,value:tt}),Object.freeze&&(Object.freeze(Be.props),Object.freeze(Be)),Be};function fn(O,W,re,be,tt){{var Ze,Ke={},Be=null,Gt=null;re!==void 0&&(Ie(re),Be=""+re),st(W)&&(Ie(W.key),Be=""+W.key),Xe(W)&&(Gt=W.ref,ot(W,tt));for(Ze in W)Pe.call(W,Ze)&&!De.hasOwnProperty(Ze)&&(Ke[Ze]=W[Ze]);if(O&&O.defaultProps){var xt=O.defaultProps;for(Ze in xt)Ke[Ze]===void 0&&(Ke[Ze]=xt[Ze])}if(Be||Gt){var At=typeof O=="function"?O.displayName||O.name||"Unknown":O;Be&&et(Ke,At),Gt&&Ar(Ke,At)}return jr(O,Be,Gt,tt,be,ye.current,Ke)}}var Yt=I.ReactCurrentOwner,mn=I.ReactDebugCurrentFrame;function Mr(O){if(O){var W=O._owner,re=We(O.type,O._source,W?W.type:null);mn.setExtraStackFrame(re)}else mn.setExtraStackFrame(null)}var li;li=!1;function wt(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function ft(){{if(Yt.current){var O=q(Yt.current.type);if(O)return`

Check the render method of \``+O+"`."}return""}}function Ot(O){{if(O!==void 0){var W=O.fileName.replace(/^.*[\\\/]/,""),re=O.lineNumber;return`

Check your code at `+W+":"+re+"."}return""}}var Et={};function kt(O){{var W=ft();if(!W){var re=typeof O=="string"?O:O.displayName||O.name;re&&(W=`

Check the top-level render call using <`+re+">.")}return W}}function mt(O,W){{if(!O._store||O._store.validated||O.key!=null)return;O._store.validated=!0;var re=kt(W);if(Et[re])return;Et[re]=!0;var be="";O&&O._owner&&O._owner!==Yt.current&&(be=" It was passed a child from "+q(O._owner.type)+"."),Mr(O),_('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',re,be),Mr(null)}}function $t(O,W){{if(typeof O!="object")return;if(Re(O))for(var re=0;re<O.length;re++){var be=O[re];wt(be)&&mt(be,W)}else if(wt(O))O._store&&(O._store.validated=!0);else if(O){var tt=C(O);if(typeof tt=="function"&&tt!==O.entries)for(var Ze=tt.call(O),Ke;!(Ke=Ze.next()).done;)wt(Ke.value)&&mt(Ke.value,W)}}}function Mt(O){{var W=O.type;if(W==null||typeof W=="string")return;var re;if(typeof W=="function")re=W.propTypes;else if(typeof W=="object"&&(W.$$typeof===c||W.$$typeof===p))re=W.propTypes;else return;if(re){var be=q(W);Fe(re,O.props,"prop",be,O)}else if(W.PropTypes!==void 0&&!li){li=!0;var tt=q(W);_("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",tt||"Unknown")}typeof W.getDefaultProps=="function"&&!W.getDefaultProps.isReactClassApproved&&_("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Dt(O){{for(var W=Object.keys(O.props),re=0;re<W.length;re++){var be=W[re];if(be!=="children"&&be!=="key"){Mr(O),_("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",be),Mr(null);break}}O.ref!==null&&(Mr(O),_("Invalid attribute `ref` supplied to `React.Fragment`."),Mr(null))}}function Lt(O,W,re,be,tt,Ze){{var Ke=R(O);if(!Ke){var Be="";(O===void 0||typeof O=="object"&&O!==null&&Object.keys(O).length===0)&&(Be+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Gt=Ot(tt);Gt?Be+=Gt:Be+=ft();var xt;O===null?xt="null":Re(O)?xt="array":O!==void 0&&O.$$typeof===e?(xt="<"+(q(O.type)||"Unknown")+" />",Be=" Did you accidentally export a JSX literal instead of a component?"):xt=typeof O,_("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",xt,Be)}var At=fn(O,W,re,tt,Ze);if(At==null)return At;if(Ke){var Ut=W.children;if(Ut!==void 0)if(be)if(Re(Ut)){for(var ui=0;ui<Ut.length;ui++)$t(Ut[ui],O);Object.freeze&&Object.freeze(Ut)}else _("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else $t(Ut,O)}return O===n?Dt(At):Mt(At),At}}function zt(O,W,re){return Lt(O,W,re,!0)}function jt(O,W,re){return Lt(O,W,re,!1)}var Tt=jt,pt=zt;Wo.Fragment=n,Wo.jsx=Tt,Wo.jsxs=pt}()),Wo}process.env.NODE_ENV==="production"?Cu.exports=V8():Cu.exports=B8();var r1=Cu.exports;function On(){return On=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},On.apply(this,arguments)}/**
   * match-sorter-utils
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */const n1={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},q8=Object.keys(n1).join("|"),H8=new RegExp(q8,"g");function Z8(t){return t.replace(H8,e=>n1[e])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const Er={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function F8(t,e,r){var n;if(r=r||{},r.threshold=(n=r.threshold)!=null?n:Er.MATCHES,!r.accessors){const o=i1(t,e,r);return{rankedValue:t,rank:o,accessorIndex:-1,accessorThreshold:r.threshold,passed:o>=r.threshold}}const i=Q8(t,r.accessors),s={rankedValue:t,rank:Er.NO_MATCH,accessorIndex:-1,accessorThreshold:r.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let c=i1(a.itemValue,e,r);const{minRanking:l,maxRanking:u,threshold:p=r.threshold}=a.attributes;c<l&&c>=Er.MATCHES?c=l:c>u&&(c=u),c=Math.min(c,u),c>=p&&c>s.rank&&(s.rank=c,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=p,s.rankedValue=a.itemValue)}return s}function i1(t,e,r){return t=s1(t,r),e=s1(e,r),e.length>t.length?Er.NO_MATCH:t===e?Er.CASE_SENSITIVE_EQUAL:(t=t.toLowerCase(),e=e.toLowerCase(),t===e?Er.EQUAL:t.startsWith(e)?Er.STARTS_WITH:t.includes(` ${e}`)?Er.WORD_STARTS_WITH:t.includes(e)?Er.CONTAINS:e.length===1?Er.NO_MATCH:K8(t).includes(e)?Er.ACRONYM:Y8(t,e))}function K8(t){let e="";return t.split(" ").forEach(n=>{n.split("-").forEach(s=>{e+=s.substr(0,1)})}),e}function Y8(t,e){let r=0,n=0;function i(c,l,u){for(let p=u,f=l.length;p<f;p++)if(l[p]===c)return r+=1,p+1;return-1}function s(c){const l=1/c,u=r/e.length;return Er.MATCHES+u*l}const o=i(e[0],t,0);if(o<0)return Er.NO_MATCH;n=o;for(let c=1,l=e.length;c<l;c++){const u=e[c];if(n=i(u,t,n),!(n>-1))return Er.NO_MATCH}const a=n-o;return s(a)}function s1(t,e){let{keepDiacritics:r}=e;return t=`${t}`,r||(t=Z8(t)),t}function G8(t,e){let r=e;typeof e=="object"&&(r=e.accessor);const n=r(t);return n==null?[]:Array.isArray(n)?n:[String(n)]}function Q8(t,e){const r=[];for(let n=0,i=e.length;n<i;n++){const s=e[n],o=J8(s),a=G8(t,s);for(let c=0,l=a.length;c<l;c++)r.push({itemValue:a[c],attributes:o})}return r}const o1={maxRanking:1/0,minRanking:-1/0};function J8(t){return typeof t=="function"?o1:{...o1,...t}}const X8=t=>{try{const e=localStorage.getItem(t);return typeof e=="string"?JSON.parse(e):void 0}catch{return}};function Qn(t,e){const[r,n]=L.useState();L.useEffect(()=>{const s=X8(t);n(typeof s>"u"||s===null?typeof e=="function"?e():e:s)},[e,t]);const i=L.useCallback(s=>{n(o=>{let a=s;typeof s=="function"&&(a=s(o));try{localStorage.setItem(t,JSON.stringify(a))}catch{}return a})},[t]);return[r,i]}var e7=function(){function t(){this.keyToValue=new Map,this.valueToKey=new Map}return t.prototype.set=function(e,r){this.keyToValue.set(e,r),this.valueToKey.set(r,e)},t.prototype.getByKey=function(e){return this.keyToValue.get(e)},t.prototype.getByValue=function(e){return this.valueToKey.get(e)},t.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},t}(),a1=function(){function t(e){this.generateIdentifier=e,this.kv=new e7}return t.prototype.register=function(e,r){this.kv.getByValue(e)||(r||(r=this.generateIdentifier(e)),this.kv.set(r,e))},t.prototype.clear=function(){this.kv.clear()},t.prototype.getIdentifier=function(e){return this.kv.getByValue(e)},t.prototype.getValue=function(e){return this.kv.getByKey(e)},t}(),t7=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r7=function(t){t7(e,t);function e(){var r=t.call(this,function(n){return n.name})||this;return r.classToAllowedProps=new Map,r}return e.prototype.register=function(r,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(r,n.allowProps),t.prototype.register.call(this,r,n.identifier)):t.prototype.register.call(this,r,n)},e.prototype.getAllowedProps=function(r){return this.classToAllowedProps.get(r)},e}(a1),n7=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s};function i7(t){if("values"in Object)return Object.values(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}function s7(t,e){var r=i7(t);if("find"in r)return r.find(e);for(var n=r,i=0;i<n.length;i++){var s=n[i];if(e(s))return s}}function ys(t,e){Object.entries(t).forEach(function(r){var n=n7(r,2),i=n[0],s=n[1];return e(s,i)})}function wc(t,e){return t.indexOf(e)!==-1}function c1(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(e(n))return n}}var o7=function(){function t(){this.transfomers={}}return t.prototype.register=function(e){this.transfomers[e.name]=e},t.prototype.findApplicable=function(e){return s7(this.transfomers,function(r){return r.isApplicable(e)})},t.prototype.findByName=function(e){return this.transfomers[e]},t}(),a7=function(t){return Object.prototype.toString.call(t).slice(8,-1)},l1=function(t){return typeof t>"u"},c7=function(t){return t===null},Vo=function(t){return typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype},Ou=function(t){return Vo(t)&&Object.keys(t).length===0},Jn=function(t){return Array.isArray(t)},l7=function(t){return typeof t=="string"},u7=function(t){return typeof t=="number"&&!isNaN(t)},d7=function(t){return typeof t=="boolean"},h7=function(t){return t instanceof RegExp},Bo=function(t){return t instanceof Map},qo=function(t){return t instanceof Set},u1=function(t){return a7(t)==="Symbol"},p7=function(t){return t instanceof Date&&!isNaN(t.valueOf())},f7=function(t){return t instanceof Error},d1=function(t){return typeof t=="number"&&isNaN(t)},m7=function(t){return d7(t)||c7(t)||l1(t)||u7(t)||l7(t)||u1(t)},g7=function(t){return typeof t=="bigint"},y7=function(t){return t===1/0||t===-1/0},v7=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},w7=function(t){return t instanceof URL},h1=function(t){return t.replace(/\./g,"\\.")},ku=function(t){return t.map(String).map(h1).join(".")},Ho=function(t){for(var e=[],r="",n=0;n<t.length;n++){var i=t.charAt(n),s=i==="\\"&&t.charAt(n+1)===".";if(s){r+=".",n++;continue}var o=i===".";if(o){e.push(r),r="";continue}r+=i}var a=r;return e.push(a),e},Tu=function(){return Tu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tu.apply(this,arguments)},Au=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},Pu=function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};function un(t,e,r,n){return{isApplicable:t,annotation:e,transform:r,untransform:n}}var p1=[un(l1,"undefined",function(){return null},function(){}),un(g7,"bigint",function(t){return t.toString()},function(t){return typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)}),un(p7,"Date",function(t){return t.toISOString()},function(t){return new Date(t)}),un(f7,"Error",function(t,e){var r={name:t.name,message:t.message};return e.allowedErrorProps.forEach(function(n){r[n]=t[n]}),r},function(t,e){var r=new Error(t.message);return r.name=t.name,r.stack=t.stack,e.allowedErrorProps.forEach(function(n){r[n]=t[n]}),r}),un(h7,"regexp",function(t){return""+t},function(t){var e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}),un(qo,"set",function(t){return Pu([],Au(t.values()))},function(t){return new Set(t)}),un(Bo,"map",function(t){return Pu([],Au(t.entries()))},function(t){return new Map(t)}),un(function(t){return d1(t)||y7(t)},"number",function(t){return d1(t)?"NaN":t>0?"Infinity":"-Infinity"},Number),un(function(t){return t===0&&1/t===-1/0},"number",function(){return"-0"},Number),un(w7,"URL",function(t){return t.toString()},function(t){return new URL(t)})];function bc(t,e,r,n){return{isApplicable:t,annotation:e,transform:r,untransform:n}}var f1=bc(function(t,e){if(u1(t)){var r=!!e.symbolRegistry.getIdentifier(t);return r}return!1},function(t,e){var r=e.symbolRegistry.getIdentifier(t);return["symbol",r]},function(t){return t.description},function(t,e,r){var n=r.symbolRegistry.getValue(e[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),b7=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(t,e){return t[e.name]=e,t},{}),m1=bc(v7,function(t){return["typed-array",t.constructor.name]},function(t){return Pu([],Au(t))},function(t,e){var r=b7[e[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(t)});function g1(t,e){if(t!=null&&t.constructor){var r=!!e.classRegistry.getIdentifier(t.constructor);return r}return!1}var y1=bc(g1,function(t,e){var r=e.classRegistry.getIdentifier(t.constructor);return["class",r]},function(t,e){var r=e.classRegistry.getAllowedProps(t.constructor);if(!r)return Tu({},t);var n={};return r.forEach(function(i){n[i]=t[i]}),n},function(t,e,r){var n=r.classRegistry.getValue(e[1]);if(!n)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),t)}),v1=bc(function(t,e){return!!e.customTransformerRegistry.findApplicable(t)},function(t,e){var r=e.customTransformerRegistry.findApplicable(t);return["custom",r.name]},function(t,e){var r=e.customTransformerRegistry.findApplicable(t);return r.serialize(t)},function(t,e,r){var n=r.customTransformerRegistry.findByName(e[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(t)}),_7=[y1,f1,v1,m1],w1=function(t,e){var r=c1(_7,function(i){return i.isApplicable(t,e)});if(r)return{value:r.transform(t,e),type:r.annotation(t,e)};var n=c1(p1,function(i){return i.isApplicable(t,e)});if(n)return{value:n.transform(t,e),type:n.annotation}},b1={};p1.forEach(function(t){b1[t.annotation]=t});var E7=function(t,e,r){if(Jn(e))switch(e[0]){case"symbol":return f1.untransform(t,e,r);case"class":return y1.untransform(t,e,r);case"custom":return v1.untransform(t,e,r);case"typed-array":return m1.untransform(t,e,r);default:throw new Error("Unknown transformation: "+e)}else{var n=b1[e];if(!n)throw new Error("Unknown transformation: "+e);return n.untransform(t,r)}},vs=function(t,e){for(var r=t.keys();e>0;)r.next(),e--;return r.next().value};function _1(t){if(wc(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(wc(t,"prototype"))throw new Error("prototype is not allowed as a property");if(wc(t,"constructor"))throw new Error("constructor is not allowed as a property")}var x7=function(t,e){_1(e);for(var r=0;r<e.length;r++){var n=e[r];if(qo(t))t=vs(t,+n);else if(Bo(t)){var i=+n,s=+e[++r]==0?"key":"value",o=vs(t,i);switch(s){case"key":t=o;break;case"value":t=t.get(o);break}}else t=t[n]}return t},Ru=function(t,e,r){if(_1(e),e.length===0)return r(t);for(var n=t,i=0;i<e.length-1;i++){var s=e[i];if(Jn(n)){var o=+s;n=n[o]}else if(Vo(n))n=n[s];else if(qo(n)){var a=+s;n=vs(n,a)}else if(Bo(n)){var c=i===e.length-2;if(c)break;var a=+s,l=+e[++i]==0?"key":"value",u=vs(n,a);switch(l){case"key":n=u;break;case"value":n=n.get(u);break}}}var p=e[e.length-1];if(Jn(n)?n[+p]=r(n[+p]):Vo(n)&&(n[p]=r(n[p])),qo(n)){var f=vs(n,+p),m=r(f);f!==m&&(n.delete(f),n.add(m))}if(Bo(n)){var a=+e[e.length-2],g=vs(n,a),l=+p==0?"key":"value";switch(l){case"key":{var w=r(g);n.set(w,n.get(g)),w!==g&&n.delete(g);break}case"value":{n.set(g,r(n.get(g)));break}}}return t},kn=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},Xn=function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};function Nu(t,e,r){if(r===void 0&&(r=[]),!!t){if(!Jn(t)){ys(t,function(o,a){return Nu(o,e,Xn(Xn([],kn(r)),kn(Ho(a))))});return}var n=kn(t,2),i=n[0],s=n[1];s&&ys(s,function(o,a){Nu(o,e,Xn(Xn([],kn(r)),kn(Ho(a))))}),e(i,r)}}function S7(t,e,r){return Nu(e,function(n,i){t=Ru(t,i,function(s){return E7(s,n,r)})}),t}function I7(t,e){function r(o,a){var c=x7(t,Ho(a));o.map(Ho).forEach(function(l){t=Ru(t,l,function(){return c})})}if(Jn(e)){var n=kn(e,2),i=n[0],s=n[1];i.forEach(function(o){t=Ru(t,Ho(o),function(){return t})}),s&&ys(s,r)}else ys(e,r);return t}var C7=function(t,e){return Vo(t)||Jn(t)||Bo(t)||qo(t)||g1(t,e)};function O7(t,e,r){var n=r.get(t);n?n.push(e):r.set(t,[e])}function k7(t,e){var r={},n=void 0;return t.forEach(function(i){if(!(i.length<=1)){e||(i=i.map(function(c){return c.map(String)}).sort(function(c,l){return c.length-l.length}));var s=kn(i),o=s[0],a=s.slice(1);o.length===0?n=a.map(ku):r[ku(o)]=a.map(ku)}}),n?Ou(r)?[n]:[n,r]:Ou(r)?void 0:r}var E1=function(t,e,r,n,i,s,o){var a;i===void 0&&(i=[]),s===void 0&&(s=[]),o===void 0&&(o=new Map);var c=m7(t);if(!c){O7(t,i,e);var l=o.get(t);if(l)return n?{transformedValue:null}:l}if(!C7(t,r)){var u=w1(t,r),p=u?{transformedValue:u.value,annotations:[u.type]}:{transformedValue:t};return c||o.set(t,p),p}if(wc(s,t))return{transformedValue:null};var f=w1(t,r),m=(a=f==null?void 0:f.value)!==null&&a!==void 0?a:t,g=Jn(m)?[]:{},w={};ys(m,function(I,_){var E=E1(I,e,r,n,Xn(Xn([],kn(i)),[_]),Xn(Xn([],kn(s)),[t]),o);g[_]=E.transformedValue,Jn(E.annotations)?w[_]=E.annotations:Vo(E.annotations)&&ys(E.annotations,function(b,x){w[h1(_)+"."+x]=b})});var C=Ou(w)?{transformedValue:g,annotations:f?[f.type]:void 0}:{transformedValue:g,annotations:f?[f.type,w]:w};return c||o.set(t,C),C};function x1(t){return Object.prototype.toString.call(t).slice(8,-1)}function S1(t){return x1(t)==="Array"}function T7(t){if(x1(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function A7(t,e,r,n,i){const s={}.propertyIsEnumerable.call(n,e)?"enumerable":"nonenumerable";s==="enumerable"&&(t[e]=r),i&&s==="nonenumerable"&&Object.defineProperty(t,e,{value:r,enumerable:!1,writable:!0,configurable:!0})}function $u(t,e={}){if(S1(t))return t.map(i=>$u(i,e));if(!T7(t))return t;const r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertySymbols(t);return[...r,...n].reduce((i,s)=>{if(S1(e.props)&&!e.props.includes(s))return i;const o=t[s],a=$u(o,e);return A7(i,s,a,t,e.nonenumerable),i},{})}var $i=function(){return $i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$i.apply(this,arguments)},P7=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s},R7=function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},I1=function(){function t(e){var r=e===void 0?{}:e,n=r.dedupe,i=n===void 0?!1:n;this.classRegistry=new r7,this.symbolRegistry=new a1(function(s){var o;return(o=s.description)!==null&&o!==void 0?o:""}),this.customTransformerRegistry=new o7,this.allowedErrorProps=[],this.dedupe=i}return t.prototype.serialize=function(e){var r=new Map,n=E1(e,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta=$i($i({},i.meta),{values:n.annotations}));var s=k7(r,this.dedupe);return s&&(i.meta=$i($i({},i.meta),{referentialEqualities:s})),i},t.prototype.deserialize=function(e){var r=e.json,n=e.meta,i=$u(r);return n!=null&&n.values&&(i=S7(i,n.values,this)),n!=null&&n.referentialEqualities&&(i=I7(i,n.referentialEqualities)),i},t.prototype.stringify=function(e){return JSON.stringify(this.serialize(e))},t.prototype.parse=function(e){return this.deserialize(JSON.parse(e))},t.prototype.registerClass=function(e,r){this.classRegistry.register(e,r)},t.prototype.registerSymbol=function(e,r){this.symbolRegistry.register(e,r)},t.prototype.registerCustom=function(e,r){this.customTransformerRegistry.register($i({name:r},e))},t.prototype.allowErrorProps=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];(e=this.allowedErrorProps).push.apply(e,R7([],P7(r)))},t.defaultInstance=new t,t.serialize=t.defaultInstance.serialize.bind(t.defaultInstance),t.deserialize=t.defaultInstance.deserialize.bind(t.defaultInstance),t.stringify=t.defaultInstance.stringify.bind(t.defaultInstance),t.parse=t.defaultInstance.parse.bind(t.defaultInstance),t.registerClass=t.defaultInstance.registerClass.bind(t.defaultInstance),t.registerSymbol=t.defaultInstance.registerSymbol.bind(t.defaultInstance),t.registerCustom=t.defaultInstance.registerCustom.bind(t.defaultInstance),t.allowErrorProps=t.defaultInstance.allowErrorProps.bind(t.defaultInstance),t}();const it={background:"#0b1521",backgroundAlt:"#132337",foreground:"white",gray:"#3f4e60",grayAlt:"#222e3e",inputBackgroundColor:"#fff",inputTextColor:"#000",success:"#00ab52",danger:"#ff0085",active:"#006bff",paused:"#8c49eb",warning:"#ffb200"},C1=L.createContext(it);function O1({theme:t,...e}){return L.createElement(C1.Provider,On({value:t},e))}function N7(){return L.useContext(C1)}function $7(t){const[e,r]=L.useState(()=>{if(typeof window<"u")return window.matchMedia(t).matches});return L.useEffect(()=>{if(typeof window<"u"){const n=window.matchMedia(t),i=({matches:s})=>r(s);return n.addListener(i),()=>{n.removeListener(i)}}},[e,t,r]),e}function k1({queryState:t,observerCount:e,isStale:r,theme:n}){return t.fetchStatus==="fetching"?n.active:e?t.fetchStatus==="paused"?n.paused:r?n.warning:n.success:n.gray}function ws(t){return t.state.fetchStatus==="fetching"?"fetching":t.getObserversCount()?t.state.fetchStatus==="paused"?"paused":t.isStale()?"stale":"fresh":"inactive"}function pr(t,e,r={}){return L.forwardRef(({style:n,...i},s)=>{const o=N7(),a=Object.entries(r).reduce((c,[l,u])=>$7(l)?{...c,...typeof u=="function"?u(i,o):u}:c,{});return L.createElement(t,{...i,style:{...typeof e=="function"?e(i,o):e,...n,...a},ref:s})})}function L7(){const t=L.useRef(!1),e=L.useCallback(()=>t.current,[]);return L.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e}const T1=(t,e=!1)=>{const{json:r}=I1.serialize(t);return JSON.stringify(r,null,e?2:void 0)},_c=t=>t.state.fetchStatus!=="idle"?0:t.getObserversCount()?t.isStale()?2:1:3,j7=(t,e)=>t.queryHash.localeCompare(e.queryHash),A1=(t,e)=>t.state.dataUpdatedAt<e.state.dataUpdatedAt?1:-1,Lu={"Status > Last Updated":(t,e)=>_c(t)===_c(e)?A1(t,e):_c(t)>_c(e)?1:-1,"Query Hash":j7,"Last Updated":A1},ju=70,Zo=500,M7={top:"bottom",bottom:"top",left:"right",right:"left"};function Ec(t){return["left","right"].includes(t)}function P1(t){return M7[t]}function Mu(t,e){return""+t+(e.charAt(0).toUpperCase()+e.slice(1))}function D7({position:t="bottom",height:e,width:r,devtoolsTheme:n,isOpen:i,isResizing:s,panelStyle:o}){const a=P1(t),c=Mu("border",a),l=Ec(t);return{...o,direction:"ltr",position:"fixed",[t]:0,[c]:"1px solid "+n.gray,transformOrigin:a,boxShadow:"0 0 20px rgba(0,0,0,.3)",zIndex:99999,visibility:i?"visible":"hidden",...s?{transition:"none"}:{transition:"all .2s ease"},...i?{opacity:1,pointerEvents:"all",transform:l?"translateX(0) scale(1)":"translateY(0) scale(1)"}:{opacity:0,pointerEvents:"none",transform:l?"translateX(15px) scale(1.02)":"translateY(15px) scale(1.02)"},...l?{top:0,height:"100vh",maxWidth:"90%",width:typeof r=="number"&&r>=ju?r:Zo}:{left:0,width:"100%",maxHeight:"90%",height:typeof e=="number"&&e>=ju?e:Zo}}}function z7(t="bottom"){const e=Ec(t),r=P1(t),n=Mu("margin",r);return{position:"absolute",cursor:e?"col-resize":"row-resize",zIndex:1e5,[r]:0,[n]:"-4px",...e?{top:0,height:"100%",width:"4px"}:{width:"100%",height:"4px"}}}const U7=pr("div",(t,e)=>({fontSize:"clamp(12px, 1.5vw, 14px)",fontFamily:"sans-serif",display:"flex",backgroundColor:e.background,color:e.foreground}),{"(max-width: 700px)":{flexDirection:"column"},"(max-width: 600px)":{fontSize:".9em"}}),W7=pr("div",()=>({flex:"1 1 500px",display:"flex",flexDirection:"column",overflow:"auto",height:"100%"}),{"(max-width: 700px)":(t,e)=>({borderTop:"2px solid "+e.gray})}),dn=pr("button",(t,e)=>({appearance:"none",fontSize:".9em",fontWeight:"bold",background:e.gray,border:"0",borderRadius:".3em",color:"white",padding:".5em",opacity:t.disabled?".5":void 0,cursor:"pointer"})),V7=pr("span",{display:"flex",flexWrap:"wrap",gap:"0.5em",fontSize:"0.9em"}),Fo=pr("span",{display:"inline-flex",alignItems:"center",padding:".2em .4em",fontWeight:"bold",textShadow:"0 0 10px black",borderRadius:".2em"}),Tn=pr("code",{fontSize:".9em",color:"inherit",background:"inherit"}),B7=pr("input",(t,e)=>({backgroundColor:e.inputBackgroundColor,border:0,borderRadius:".2em",color:e.inputTextColor,fontSize:".9em",lineHeight:"1.3",padding:".3em .4em"})),Du=pr("select",(t,e)=>({display:"inline-block",fontSize:".9em",fontFamily:"sans-serif",fontWeight:"normal",lineHeight:"1.3",padding:".3em 1.5em .3em .5em",height:"auto",border:0,borderRadius:".2em",appearance:"none",WebkitAppearance:"none",backgroundColor:e.inputBackgroundColor,backgroundImage:`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='%23444444'><polygon points='0,25 100,25 50,75'/></svg>")`,backgroundRepeat:"no-repeat",backgroundPosition:"right .55em center",backgroundSize:".65em auto, 100%",color:e.inputTextColor}),{"(max-width: 500px)":{display:"none"}});function zu({text:t}){return L.createElement("span",{style:{position:"absolute",width:"0.1px",height:"0.1px",overflow:"hidden"}},t)}const R1=pr("div",{fontFamily:"Menlo, monospace",fontSize:"1em",lineHeight:"1.7",outline:"none",wordBreak:"break-word"}),q7=pr("span",{color:"white"}),H7=pr("button",{cursor:"pointer",color:"white"}),Z7=pr("button",{cursor:"pointer",color:"inherit",font:"inherit",outline:"inherit",background:"transparent",border:"none",padding:0}),F7=({value:t})=>{const[e,r]=L.useState("NoCopy");return L.createElement("button",{onClick:e==="NoCopy"?()=>{navigator.clipboard.writeText(I1.stringify(t)).then(()=>{r("SuccessCopy"),setTimeout(()=>{r("NoCopy")},1500)},n=>{console.error("Failed to copy: ",n),r("ErrorCopy"),setTimeout(()=>{r("NoCopy")},1500)})}:void 0,style:{cursor:"pointer",color:"inherit",font:"inherit",outline:"inherit",background:"transparent",border:"none",padding:0}},e==="NoCopy"?L.createElement(G7,null):e==="SuccessCopy"?L.createElement(J7,null):L.createElement(Q7,null))},K7=pr("span",(t,e)=>({color:e.danger})),Uu=pr("div",{marginLeft:".1em",paddingLeft:"1em",borderLeft:"2px solid rgba(0,0,0,.15)"}),Y7=pr("span",{color:"grey",fontSize:".7em"}),N1=({expanded:t,style:e={}})=>L.createElement("span",{style:{display:"inline-block",transition:"all .1s ease",transform:"rotate("+(t?90:0)+"deg) "+(e.transform||""),...e}},"▶"),G7=()=>L.createElement("span",{"aria-label":"Copy object to clipboard",title:"Copy object to clipboard",style:{paddingLeft:"1em"}},L.createElement("svg",{height:"12",viewBox:"0 0 16 12",width:"10"},L.createElement("path",{fill:"currentColor",d:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"}),L.createElement("path",{fill:"currentColor",d:"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"}))),Q7=()=>L.createElement("span",{"aria-label":"Failed copying to clipboard",title:"Failed copying to clipboard",style:{paddingLeft:"1em",display:"flex",alignItems:"center"}},L.createElement("svg",{height:"12",viewBox:"0 0 16 12",width:"10",display:"block"},L.createElement("path",{fill:"red",d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"})),L.createElement("span",{style:{color:"red",fontSize:"12px",paddingLeft:"4px",position:"relative",top:"2px"}},"See console")),J7=()=>L.createElement("span",{"aria-label":"Object copied to clipboard",title:"Object copied to clipboard",style:{paddingLeft:"1em",display:"inline-block",verticalAlign:"middle"}},L.createElement("svg",{height:"16",viewBox:"0 0 16 16",width:"16",display:"block"},L.createElement("path",{fill:"green",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"})));function X7(t,e){if(e<1)return[];let r=0;const n=[];for(;r<t.length;)n.push(t.slice(r,r+e)),r=r+e;return n}const e9=({handleEntry:t,label:e,value:r,subEntries:n=[],subEntryPages:i=[],type:s,expanded:o=!1,copyable:a=!1,toggleExpanded:c,pageSize:l})=>{const[u,p]=L.useState([]);return L.createElement(R1,{key:e},i.length?L.createElement(L.Fragment,null,L.createElement(Z7,{onClick:()=>c()},L.createElement(N1,{expanded:o})," ",e," ",L.createElement(Y7,null,String(s).toLowerCase()==="iterable"?"(Iterable) ":"",n.length," ",n.length>1?"items":"item")),a?L.createElement(F7,{value:r}):null,o?i.length===1?L.createElement(Uu,null,n.map(t)):L.createElement(Uu,null,i.map((f,m)=>L.createElement("div",{key:m},L.createElement(R1,null,L.createElement(H7,{onClick:()=>p(g=>g.includes(m)?g.filter(w=>w!==m):[...g,m])},L.createElement(N1,{expanded:o})," [",m*l," ..."," ",m*l+l-1,"]"),u.includes(m)?L.createElement(Uu,null,f.map(t)):null)))):null):L.createElement(L.Fragment,null,L.createElement(q7,null,e,":")," ",L.createElement(K7,null,T1(r))))};function t9(t){return Symbol.iterator in t}function Wu({value:t,defaultExpanded:e,renderer:r=e9,pageSize:n=100,copyable:i=!1,...s}){const[o,a]=L.useState(!!e),c=L.useCallback(()=>a(m=>!m),[]);let l=typeof t,u=[];const p=m=>{const g=e===!0?{[m.label]:!0}:e==null?void 0:e[m.label];return{...m,defaultExpanded:g}};Array.isArray(t)?(l="array",u=t.map((m,g)=>p({label:g.toString(),value:m}))):t!==null&&typeof t=="object"&&t9(t)&&typeof t[Symbol.iterator]=="function"?(l="Iterable",u=Array.from(t,(m,g)=>p({label:g.toString(),value:m}))):typeof t=="object"&&t!==null&&(l="object",u=Object.entries(t).map(([m,g])=>p({label:m,value:g})));const f=X7(u,n);return r({handleEntry:m=>L.createElement(Wu,On({key:m.label,value:t,renderer:r,copyable:i},s,m)),type:l,subEntries:u,subEntryPages:f,value:t,expanded:o,copyable:i,toggleExpanded:c,pageSize:n,...s})}function $1(t){return L.createElement("svg",On({width:"40px",height:"40px",viewBox:"0 0 190 190",version:"1.1"},t),L.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},L.createElement("g",{transform:"translate(-33.000000, 0.000000)"},L.createElement("path",{d:"M72.7239712,61.3436237 C69.631224,46.362877 68.9675112,34.8727722 70.9666331,26.5293551 C72.1555965,21.5671678 74.3293088,17.5190846 77.6346064,14.5984631 C81.1241394,11.5150478 85.5360327,10.0020122 90.493257,10.0020122 C98.6712013,10.0020122 107.26826,13.7273214 116.455725,20.8044264 C120.20312,23.6910458 124.092437,27.170411 128.131651,31.2444746 C128.45314,30.8310265 128.816542,30.4410453 129.22143,30.0806152 C140.64098,19.9149716 150.255245,13.5989272 158.478408,11.1636507 C163.367899,9.715636 167.958526,9.57768202 172.138936,10.983031 C176.551631,12.4664684 180.06766,15.5329489 182.548314,19.8281091 C186.642288,26.9166735 187.721918,36.2310983 186.195595,47.7320243 C185.573451,52.4199112 184.50985,57.5263831 183.007094,63.0593153 C183.574045,63.1277086 184.142416,63.2532808 184.705041,63.4395297 C199.193932,68.2358678 209.453582,73.3937462 215.665021,79.2882839 C219.360669,82.7953831 221.773972,86.6998434 222.646365,91.0218204 C223.567176,95.5836746 222.669313,100.159332 220.191548,104.451297 C216.105211,111.529614 208.591643,117.11221 197.887587,121.534031 C193.589552,123.309539 188.726579,124.917559 183.293259,126.363748 C183.541176,126.92292 183.733521,127.516759 183.862138,128.139758 C186.954886,143.120505 187.618598,154.61061 185.619477,162.954027 C184.430513,167.916214 182.256801,171.964297 178.951503,174.884919 C175.46197,177.968334 171.050077,179.48137 166.092853,179.48137 C157.914908,179.48137 149.31785,175.756061 140.130385,168.678956 C136.343104,165.761613 132.410866,162.238839 128.325434,158.108619 C127.905075,158.765474 127.388968,159.376011 126.77857,159.919385 C115.35902,170.085028 105.744755,176.401073 97.5215915,178.836349 C92.6321009,180.284364 88.0414736,180.422318 83.8610636,179.016969 C79.4483686,177.533532 75.9323404,174.467051 73.4516862,170.171891 C69.3577116,163.083327 68.2780823,153.768902 69.8044053,142.267976 C70.449038,137.410634 71.56762,132.103898 73.1575891,126.339009 C72.5361041,126.276104 71.9120754,126.144816 71.2949591,125.940529 C56.8060684,121.144191 46.5464184,115.986312 40.3349789,110.091775 C36.6393312,106.584675 34.2260275,102.680215 33.3536352,98.3582381 C32.4328237,93.7963839 33.3306866,89.2207269 35.8084524,84.9287618 C39.8947886,77.8504443 47.4083565,72.2678481 58.1124133,67.8460273 C62.5385143,66.0176154 67.5637208,64.366822 73.1939394,62.8874674 C72.9933393,62.3969171 72.8349374,61.8811235 72.7239712,61.3436237 Z",fill:"#002C4B",fillRule:"nonzero",transform:"translate(128.000000, 95.000000) scale(-1, 1) translate(-128.000000, -95.000000) "}),L.createElement("path",{d:"M113.396882,64 L142.608177,64 C144.399254,64 146.053521,64.958025 146.944933,66.5115174 L161.577138,92.0115174 C162.461464,93.5526583 162.461464,95.4473417 161.577138,96.9884826 L146.944933,122.488483 C146.053521,124.041975 144.399254,125 142.608177,125 L113.396882,125 C111.605806,125 109.951539,124.041975 109.060126,122.488483 L94.4279211,96.9884826 C93.543596,95.4473417 93.543596,93.5526583 94.4279211,92.0115174 L109.060126,66.5115174 C109.951539,64.958025 111.605806,64 113.396882,64 Z M138.987827,70.2765273 C140.779849,70.2765273 142.434839,71.2355558 143.325899,72.7903404 L154.343038,92.0138131 C155.225607,93.5537825 155.225607,95.4462175 154.343038,96.9861869 L143.325899,116.20966 C142.434839,117.764444 140.779849,118.723473 138.987827,118.723473 L117.017233,118.723473 C115.225211,118.723473 113.570221,117.764444 112.67916,116.20966 L101.662022,96.9861869 C100.779452,95.4462175 100.779452,93.5537825 101.662022,92.0138131 L112.67916,72.7903404 C113.570221,71.2355558 115.225211,70.2765273 117.017233,70.2765273 L138.987827,70.2765273 Z M135.080648,77.1414791 L120.924411,77.1414791 C119.134228,77.1414791 117.480644,78.0985567 116.5889,79.6508285 L116.5889,79.6508285 L109.489217,92.0093494 C108.603232,93.5515958 108.603232,95.4484042 109.489217,96.9906506 L109.489217,96.9906506 L116.5889,109.349172 C117.480644,110.901443 119.134228,111.858521 120.924411,111.858521 L120.924411,111.858521 L135.080648,111.858521 C136.870831,111.858521 138.524416,110.901443 139.41616,109.349172 L139.41616,109.349172 L146.515843,96.9906506 C147.401828,95.4484042 147.401828,93.5515958 146.515843,92.0093494 L146.515843,92.0093494 L139.41616,79.6508285 C138.524416,78.0985567 136.870831,77.1414791 135.080648,77.1414791 L135.080648,77.1414791 Z M131.319186,83.7122186 C133.108028,83.7122186 134.760587,84.6678753 135.652827,86.2183156 L138.983552,92.0060969 C139.87203,93.5500005 139.87203,95.4499995 138.983552,96.9939031 L135.652827,102.781684 C134.760587,104.332125 133.108028,105.287781 131.319186,105.287781 L124.685874,105.287781 C122.897032,105.287781 121.244473,104.332125 120.352233,102.781684 L117.021508,96.9939031 C116.13303,95.4499995 116.13303,93.5500005 117.021508,92.0060969 L120.352233,86.2183156 C121.244473,84.6678753 122.897032,83.7122186 124.685874,83.7122186 L131.319186,83.7122186 Z M128.003794,90.1848875 C126.459294,90.1848875 125.034382,91.0072828 124.263005,92.3424437 C123.491732,93.6774232 123.491732,95.3225768 124.263005,96.6575563 C125.034382,97.9927172 126.459294,98.8151125 128.001266,98.8151125 L128.001266,98.8151125 C129.545766,98.8151125 130.970678,97.9927172 131.742055,96.6575563 C132.513327,95.3225768 132.513327,93.6774232 131.742055,92.3424437 C130.970678,91.0072828 129.545766,90.1848875 128.003794,90.1848875 L128.003794,90.1848875 Z M93,94.5009646 L100.767764,94.5009646",fill:"#FFD94C"}),L.createElement("path",{d:"M87.8601729,108.357758 C89.1715224,107.608286 90.8360246,108.074601 91.5779424,109.399303 L91.5779424,109.399303 L92.0525843,110.24352 C95.8563392,116.982993 99.8190116,123.380176 103.940602,129.435068 C108.807881,136.585427 114.28184,143.82411 120.362479,151.151115 C121.316878,152.30114 121.184944,154.011176 120.065686,154.997937 L120.065686,154.997937 L119.454208,155.534625 C99.3465389,173.103314 86.2778188,176.612552 80.2480482,166.062341 C74.3500652,155.742717 76.4844915,136.982888 86.6513274,109.782853 C86.876818,109.179582 87.3045861,108.675291 87.8601729,108.357758 Z M173.534177,129.041504 C174.986131,128.785177 176.375496,129.742138 176.65963,131.194242 L176.65963,131.194242 L176.812815,131.986376 C181.782365,157.995459 178.283348,171 166.315764,171 C154.609745,171 139.708724,159.909007 121.612702,137.727022 C121.211349,137.235047 120.994572,136.617371 121,135.981509 C121.013158,134.480686 122.235785,133.274651 123.730918,133.287756 L123.730918,133.287756 L124.684654,133.294531 C132.305698,133.335994 139.714387,133.071591 146.910723,132.501323 C155.409039,131.82788 164.283523,130.674607 173.534177,129.041504 Z M180.408726,73.8119663 C180.932139,72.4026903 182.508386,71.6634537 183.954581,72.149012 L183.954581,72.149012 L184.742552,72.4154854 C210.583763,81.217922 220.402356,90.8916805 214.198332,101.436761 C208.129904,111.751366 190.484347,119.260339 161.26166,123.963678 C160.613529,124.067994 159.948643,123.945969 159.382735,123.618843 C158.047025,122.846729 157.602046,121.158214 158.388848,119.847438 L158.388848,119.847438 L158.889328,119.0105 C162.877183,112.31633 166.481358,105.654262 169.701854,99.0242957 C173.50501,91.1948179 177.073967,82.7907081 180.408726,73.8119663 Z M94.7383398,66.0363218 C95.3864708,65.9320063 96.0513565,66.0540315 96.6172646,66.3811573 C97.9529754,67.153271 98.3979538,68.8417862 97.6111517,70.1525615 L97.6111517,70.1525615 L97.1106718,70.9895001 C93.1228168,77.6836699 89.5186416,84.3457379 86.2981462,90.9757043 C82.49499,98.8051821 78.9260328,107.209292 75.5912744,116.188034 C75.0678608,117.59731 73.4916142,118.336546 72.045419,117.850988 L72.045419,117.850988 L71.2574475,117.584515 C45.4162372,108.782078 35.597644,99.1083195 41.8016679,88.5632391 C47.8700957,78.2486335 65.515653,70.7396611 94.7383398,66.0363218 Z M136.545792,34.4653746 C156.653461,16.8966864 169.722181,13.3874478 175.751952,23.9376587 C181.649935,34.2572826 179.515508,53.0171122 169.348673,80.2171474 C169.123182,80.8204179 168.695414,81.324709 168.139827,81.6422422 C166.828478,82.3917144 165.163975,81.9253986 164.422058,80.6006966 L164.422058,80.6006966 L163.947416,79.7564798 C160.143661,73.0170065 156.180988,66.6198239 152.059398,60.564932 C147.192119,53.4145727 141.71816,46.1758903 135.637521,38.8488847 C134.683122,37.6988602 134.815056,35.9888243 135.934314,35.0020629 L135.934314,35.0020629 Z M90.6842361,18 C102.390255,18 117.291276,29.0909926 135.387298,51.2729777 C135.788651,51.7649527 136.005428,52.3826288 136,53.0184911 C135.986842,54.5193144 134.764215,55.7253489 133.269082,55.7122445 L133.269082,55.7122445 L132.315346,55.7054689 C124.694302,55.6640063 117.285613,55.9284091 110.089277,56.4986773 C101.590961,57.17212 92.7164767,58.325393 83.4658235,59.9584962 C82.0138691,60.2148231 80.6245044,59.2578618 80.3403697,57.805758 L80.3403697,57.805758 L80.1871846,57.0136235 C75.2176347,31.0045412 78.7166519,18 90.6842361,18 Z",fill:"#FF4154"}))))}var Vu={exports:{}},Bu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function r9(){if(L1)return Bu;L1=1;var t=ut;function e(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(p,f){var m=f(),g=n({inst:{value:m,getSnapshot:f}}),w=g[0].inst,C=g[1];return s(function(){w.value=m,w.getSnapshot=f,c(w)&&C({inst:w})},[p,m,f]),i(function(){return c(w)&&C({inst:w}),p(function(){c(w)&&C({inst:w})})},[p]),o(m),m}function c(p){var f=p.getSnapshot;p=p.value;try{var m=f();return!r(p,m)}catch{return!0}}function l(p,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Bu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Bu}var qu={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function n9(){return j1||(j1=1,process.env.NODE_ENV!=="production"&&function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=ut,e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(E){{for(var b=arguments.length,x=new Array(b>1?b-1:0),v=1;v<b;v++)x[v-1]=arguments[v];n("error",E,x)}}function n(E,b,x){{var v=e.ReactDebugCurrentFrame,d=v.getStackAddendum();d!==""&&(b+="%s",x=x.concat([d]));var y=x.map(function(T){return String(T)});y.unshift("Warning: "+b),Function.prototype.apply.call(console[E],console,y)}}function i(E,b){return E===b&&(E!==0||1/E===1/b)||E!==E&&b!==b}var s=typeof Object.is=="function"?Object.is:i,o=t.useState,a=t.useEffect,c=t.useLayoutEffect,l=t.useDebugValue,u=!1,p=!1;function f(E,b,x){u||t.startTransition!==void 0&&(u=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var v=b();if(!p){var d=b();s(v,d)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),p=!0)}var y=o({inst:{value:v,getSnapshot:b}}),T=y[0].inst,R=y[1];return c(function(){T.value=v,T.getSnapshot=b,m(T)&&R({inst:T})},[E,v,b]),a(function(){m(T)&&R({inst:T});var D=function(){m(T)&&R({inst:T})};return E(D)},[E]),l(v),v}function m(E){var b=E.getSnapshot,x=E.value;try{var v=b();return!s(x,v)}catch{return!0}}function g(E,b,x){return b()}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C=!w,I=C?g:f,_=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:I;qu.useSyncExternalStore=_,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()),qu}process.env.NODE_ENV==="production"?Vu.exports=r9():Vu.exports=n9();var i9=Vu.exports;function s9({initialIsOpen:t,panelProps:e={},closeButtonProps:r={},toggleButtonProps:n={},position:i="bottom-left",containerElement:s="aside",context:o,styleNonce:a,panelPosition:c="bottom",errorTypes:l=[]}){const u=L.useRef(null),p=L.useRef(null),[f,m]=Qn("reactQueryDevtoolsOpen",t),[g,w]=Qn("reactQueryDevtoolsHeight",Zo),[C,I]=Qn("reactQueryDevtoolsWidth",Zo),[_="bottom",E]=Qn("reactQueryDevtoolsPanelPosition",c),[b,x]=L.useState(!1),[v,d]=L.useState(!1),y=L7(),T=(Y,V)=>{if(!Y||V.button!==0)return;const z=Ec(_);d(!0);const{height:B,width:U}=Y.getBoundingClientRect(),K=V.clientX,fe=V.clientY;let F=0;const pe=ue=>{ue.preventDefault(),z?(F=U+(_==="right"?K-ue.clientX:ue.clientX-K),I(F)):(F=B+(_==="bottom"?fe-ue.clientY:ue.clientY-fe),w(F)),F<ju?m(!1):m(!0)},ne=()=>{v&&d(!1),document.removeEventListener("mousemove",pe,!1),document.removeEventListener("mouseUp",ne,!1)};document.addEventListener("mousemove",pe,!1),document.addEventListener("mouseup",ne,!1)};L.useEffect(()=>{x(f??!1)},[f,b,x]),L.useEffect(()=>{const Y=p.current;if(Y){const V=()=>{b&&(Y.style.visibility="visible")},z=()=>{b||(Y.style.visibility="hidden")};return Y.addEventListener("transitionstart",V),Y.addEventListener("transitionend",z),()=>{Y.removeEventListener("transitionstart",V),Y.removeEventListener("transitionend",z)}}},[b]),L.useEffect(()=>{var Y;if(b&&(Y=u.current)!=null&&Y.parentElement){const{parentElement:V}=u.current,z=Mu("padding",_),B=Ec(_),U=(({padding:fe,paddingTop:F,paddingBottom:pe,paddingLeft:ne,paddingRight:ue})=>({padding:fe,paddingTop:F,paddingBottom:pe,paddingLeft:ne,paddingRight:ue}))(V.style),K=()=>{V.style.padding="0px",V.style.paddingTop="0px",V.style.paddingBottom="0px",V.style.paddingLeft="0px",V.style.paddingRight="0px",V.style[z]=(B?C:g)+"px"};if(K(),typeof window<"u")return window.addEventListener("resize",K),()=>{window.removeEventListener("resize",K),Object.entries(U).forEach(([fe,F])=>{V.style[fe]=F})}}},[b,_,g,C]);const{style:R={},...D}=e,{style:G={},onClick:q,...A}=n,P=D7({position:_,devtoolsTheme:it,isOpen:b,height:g,width:C,isResizing:v,panelStyle:R});return y()?L.createElement(s,{ref:u,className:"ReactQueryDevtools","aria-label":"React Query Devtools"},L.createElement(O1,{theme:it},L.createElement(M1,On({ref:p,context:o,styleNonce:a,position:_,onPositionChange:E,showCloseButton:!0,closeButtonProps:r},D,{style:P,isOpen:b,setIsOpen:m,onDragStart:Y=>T(p.current,Y),errorTypes:l}))),b?null:L.createElement("button",On({type:"button"},A,{"aria-label":"Open React Query Devtools","aria-controls":"ReactQueryDevtoolsPanel","aria-haspopup":"true","aria-expanded":"false",onClick:Y=>{m(!0),q==null||q(Y)},style:{background:"none",border:0,padding:0,position:"fixed",zIndex:99999,display:"inline-flex",fontSize:"1.5em",margin:".5em",cursor:"pointer",width:"fit-content",...i==="top-right"?{top:"0",right:"0"}:i==="top-left"?{top:"0",left:"0"}:i==="bottom-right"?{bottom:"0",right:"0"}:{bottom:"0",left:"0"},...G}}),L.createElement($1,{"aria-hidden":!0}),L.createElement(zu,{text:"Open React Query Devtools"}))):null}const fr=(t,e,r=!1)=>i9.useSyncExternalStore(L.useCallback(n=>r?()=>{}:t.subscribe(Ln.notifyManager.batchCalls(n)),[t,r]),e,e),M1=L.forwardRef(function(e,r){const{isOpen:n=!0,styleNonce:i,setIsOpen:s,context:o,onDragStart:a,onPositionChange:c,showCloseButton:l,position:u,closeButtonProps:p={},errorTypes:f=[],...m}=e,{onClick:g,...w}=p,C=Ln.useQueryClient({context:o}),I=C.getQueryCache(),[_,E]=Qn("reactQueryDevtoolsSortFn",Object.keys(Lu)[0]),[b,x]=Qn("reactQueryDevtoolsFilter",""),[v,d]=Qn("reactQueryDevtoolsBaseSort",1),y=L.useMemo(()=>Lu[_],[_]),T=fr(I,()=>I.getAll().length,!n),[R,D]=Qn("reactQueryDevtoolsActiveQueryHash",""),G=L.useMemo(()=>{const P=I.getAll();if(T===0)return[];const Y=b?P.filter(z=>F8(z.queryHash,b).passed):[...P];return y?Y.sort((z,B)=>y(z,B)*v):Y},[v,y,b,T,I]),[q,A]=L.useState(!1);return L.createElement(O1,{theme:it},L.createElement(U7,On({ref:r,className:"ReactQueryDevtoolsPanel","aria-label":"React Query Devtools Panel",id:"ReactQueryDevtoolsPanel"},m,{style:{height:Zo,position:"relative",...m.style}}),L.createElement("style",{nonce:i,dangerouslySetInnerHTML:{__html:`
            .ReactQueryDevtoolsPanel * {
              scrollbar-color: `+it.backgroundAlt+" "+it.gray+`;
            }

            .ReactQueryDevtoolsPanel *::-webkit-scrollbar, .ReactQueryDevtoolsPanel scrollbar {
              width: 1em;
              height: 1em;
            }

            .ReactQueryDevtoolsPanel *::-webkit-scrollbar-track, .ReactQueryDevtoolsPanel scrollbar-track {
              background: `+it.backgroundAlt+`;
            }

            .ReactQueryDevtoolsPanel *::-webkit-scrollbar-thumb, .ReactQueryDevtoolsPanel scrollbar-thumb {
              background: `+it.gray+`;
              border-radius: .5em;
              border: 3px solid `+it.backgroundAlt+`;
            }
          `}}),L.createElement("div",{style:z7(u),onMouseDown:a}),n&&L.createElement("div",{style:{flex:"1 1 500px",minHeight:"40%",maxHeight:"100%",overflow:"auto",borderRight:"1px solid "+it.grayAlt,display:"flex",flexDirection:"column"}},L.createElement("div",{style:{padding:".5em",background:it.backgroundAlt,display:"flex",justifyContent:"space-between",alignItems:"center"}},L.createElement("button",{type:"button","aria-label":"Close React Query Devtools","aria-controls":"ReactQueryDevtoolsPanel","aria-haspopup":"true","aria-expanded":"true",onClick:()=>s(!1),style:{display:"inline-flex",background:"none",border:0,padding:0,marginRight:".5em",cursor:"pointer"}},L.createElement($1,{"aria-hidden":!0}),L.createElement(zu,{text:"Close React Query Devtools"})),L.createElement("div",{style:{display:"flex",flexDirection:"column"}},L.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:".5em"}},L.createElement(a9,{queryCache:I}),u&&c?L.createElement(Du,{"aria-label":"Panel position",value:u,style:{marginInlineStart:".5em"},onChange:P=>c(P.target.value)},L.createElement("option",{value:"left"},"Left"),L.createElement("option",{value:"right"},"Right"),L.createElement("option",{value:"top"},"Top"),L.createElement("option",{value:"bottom"},"Bottom")):null),L.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"0.5em"}},L.createElement(B7,{placeholder:"Filter","aria-label":"Filter by queryhash",value:b??"",onChange:P=>x(P.target.value),onKeyDown:P=>{P.key==="Escape"&&x("")},style:{flex:"1",width:"100%"}}),L.createElement(Du,{"aria-label":"Sort queries",value:_,onChange:P=>E(P.target.value),style:{flex:"1",minWidth:75,marginRight:".5em"}},Object.keys(Lu).map(P=>L.createElement("option",{key:P,value:P},"Sort by ",P))),L.createElement(dn,{type:"button",onClick:()=>d(P=>P*-1),style:{padding:".3em .4em",marginRight:".5em"}},v===1?"⬆ Asc":"⬇ Desc"),L.createElement(dn,{title:"Clear cache","aria-label":"Clear cache",type:"button",onClick:()=>I.clear(),style:{padding:".3em .4em",marginRight:".5em"}},"Clear"),L.createElement(dn,{type:"button",onClick:()=>{q?(Ln.onlineManager.setOnline(void 0),A(!1),window.dispatchEvent(new Event("online"))):(Ln.onlineManager.setOnline(!1),A(!0))},"aria-label":q?"Restore offline mock":"Mock offline behavior",title:q?"Restore offline mock":"Mock offline behavior",style:{padding:"0",height:"2em"}},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24",stroke:q?it.danger:"currentColor",fill:"none"},q?L.createElement(L.Fragment,null,L.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),L.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),L.createElement("path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0"}),L.createElement("path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2"}),L.createElement("path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374"}),L.createElement("line",{x1:"3",y1:"3",x2:"21",y2:"21"})):L.createElement(L.Fragment,null,L.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),L.createElement("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"}),L.createElement("path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0"}),L.createElement("path",{d:"M6.343 12.343a8 8 0 0 1 11.314 0"}),L.createElement("path",{d:"M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0"}))),L.createElement(zu,{text:q?"Restore offline mock":"Mock offline behavior"}))))),L.createElement("div",{style:{overflowY:"auto",flex:"1"}},G.map(P=>L.createElement(D1,{queryKey:P.queryKey,activeQueryHash:R,setActiveQueryHash:D,key:P.queryHash,queryCache:I})))),R&&n?L.createElement(o9,{activeQueryHash:R,queryCache:I,queryClient:C,errorTypes:f}):null,l?L.createElement(dn,On({type:"button","aria-controls":"ReactQueryDevtoolsPanel","aria-haspopup":"true","aria-expanded":"true"},w,{style:{position:"absolute",zIndex:99999,margin:".5em",bottom:0,left:0,...w.style},onClick:P=>{s(!1),g==null||g(P)}}),"Close"):null))}),o9=({queryCache:t,activeQueryHash:e,queryClient:r,errorTypes:n})=>{var i,s;const o=fr(t,()=>t.getAll().find(g=>g.queryHash===e)),a=fr(t,()=>{var g;return(g=t.getAll().find(w=>w.queryHash===e))==null?void 0:g.state}),c=(i=fr(t,()=>{var g;return(g=t.getAll().find(w=>w.queryHash===e))==null?void 0:g.isStale()}))!=null?i:!1,l=(s=fr(t,()=>{var g;return(g=t.getAll().find(w=>w.queryHash===e))==null?void 0:g.getObserversCount()}))!=null?s:0,u=()=>{const g=o==null?void 0:o.fetch();g==null||g.catch(c9)},p=ut.useMemo(()=>{if(o&&a!=null&&a.error){const g=n.find(w=>{var C;return w.initializer(o).toString()===((C=a.error)==null?void 0:C.toString())});return g==null?void 0:g.name}},[o,a==null?void 0:a.error,n]);if(!o||!a)return null;const f=g=>{var w;const C=(w=g==null?void 0:g.initializer(o))!=null?w:new Error("Unknown error from devtools"),I=o.options;o.setState({status:"error",error:C,fetchMeta:{...o.state.fetchMeta,__previousQueryOptions:I}})},m=()=>{o.fetch(o.state.fetchMeta.__previousQueryOptions,{cancelRefetch:!0})};return L.createElement(W7,null,L.createElement("div",{style:{padding:".5em",background:it.backgroundAlt,position:"sticky",top:0,zIndex:1}},"Query Details"),L.createElement("div",{style:{padding:".5em"}},L.createElement("div",{style:{marginBottom:".5em",display:"flex",alignItems:"flex-start",justifyContent:"space-between"}},L.createElement(Tn,{style:{lineHeight:"1.8em"}},L.createElement("pre",{style:{margin:0,padding:0,overflow:"auto"}},T1(o.queryKey,!0))),L.createElement("span",{style:{padding:"0.3em .6em",borderRadius:"0.4em",fontWeight:"bold",textShadow:"0 2px 10px black",background:k1({queryState:a,isStale:c,observerCount:l,theme:it}),flexShrink:0}},ws(o))),L.createElement("div",{style:{marginBottom:".5em",display:"flex",alignItems:"center",justifyContent:"space-between"}},"Observers: ",L.createElement(Tn,null,l)),L.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},"Last Updated:"," ",L.createElement(Tn,null,new Date(a.dataUpdatedAt).toLocaleTimeString()))),L.createElement("div",{style:{background:it.backgroundAlt,padding:".5em",position:"sticky",top:0,zIndex:1}},"Actions"),L.createElement("div",{style:{padding:"0.5em",display:"flex",flexWrap:"wrap",gap:"0.5em",alignItems:"flex-end"}},L.createElement(dn,{type:"button",onClick:u,disabled:a.fetchStatus==="fetching",style:{background:it.active}},"Refetch")," ",L.createElement(dn,{type:"button",onClick:()=>r.invalidateQueries(o),style:{background:it.warning,color:it.inputTextColor}},"Invalidate")," ",L.createElement(dn,{type:"button",onClick:()=>r.resetQueries(o),style:{background:it.gray}},"Reset")," ",L.createElement(dn,{type:"button",onClick:()=>r.removeQueries(o),style:{background:it.danger}},"Remove")," ",L.createElement(dn,{type:"button",onClick:()=>{var g;if(!(o.state.fetchStatus==="fetching"&&typeof((g=o.state.fetchMeta)==null?void 0:g.__previousQueryOptions)>"u"))if(o.state.data===void 0)m();else{const w=o.options;o.fetch({...w,queryFn:()=>new Promise(()=>{}),cacheTime:-1}),o.setState({data:void 0,status:"loading",fetchMeta:{...o.state.fetchMeta,__previousQueryOptions:w}})}},style:{background:it.paused}},o.state.status==="loading"?"Restore":"Trigger"," ","loading")," ",n.length===0||o.state.status==="error"?L.createElement(dn,{type:"button",onClick:()=>{o.state.error?r.resetQueries(o):f()},style:{background:it.danger}},o.state.status==="error"?"Restore":"Trigger"," error"):L.createElement("label",null,"Trigger error:",L.createElement(Du,{value:p??"",style:{marginInlineStart:".5em"},onChange:g=>{const w=n.find(C=>C.name===g.target.value);f(w)}},L.createElement("option",{key:"",value:""}),n.map(g=>L.createElement("option",{key:g.name,value:g.name},g.name))))),L.createElement("div",{style:{background:it.backgroundAlt,padding:".5em",position:"sticky",top:0,zIndex:1}},"Data Explorer"),L.createElement("div",{style:{padding:".5em"}},L.createElement(Wu,{label:"Data",value:a.data,defaultExpanded:{},copyable:!0})),L.createElement("div",{style:{background:it.backgroundAlt,padding:".5em",position:"sticky",top:0,zIndex:1}},"Query Explorer"),L.createElement("div",{style:{padding:".5em"}},L.createElement(Wu,{label:"Query",value:o,defaultExpanded:{queryKey:!0}})))},a9=({queryCache:t})=>{const e=fr(t,()=>t.getAll().filter(o=>ws(o)==="fresh").length),r=fr(t,()=>t.getAll().filter(o=>ws(o)==="fetching").length),n=fr(t,()=>t.getAll().filter(o=>ws(o)==="paused").length),i=fr(t,()=>t.getAll().filter(o=>ws(o)==="stale").length),s=fr(t,()=>t.getAll().filter(o=>ws(o)==="inactive").length);return L.createElement(V7,null,L.createElement(Fo,{style:{background:it.success,opacity:e?1:.3}},"fresh ",L.createElement(Tn,null,"(",e,")"))," ",L.createElement(Fo,{style:{background:it.active,opacity:r?1:.3}},"fetching ",L.createElement(Tn,null,"(",r,")"))," ",L.createElement(Fo,{style:{background:it.paused,opacity:n?1:.3}},"paused ",L.createElement(Tn,null,"(",n,")"))," ",L.createElement(Fo,{style:{background:it.warning,color:"black",textShadow:"0",opacity:i?1:.3}},"stale ",L.createElement(Tn,null,"(",i,")"))," ",L.createElement(Fo,{style:{background:it.gray,opacity:s?1:.3}},"inactive ",L.createElement(Tn,null,"(",s,")")))},D1=L.memo(({queryKey:t,setActiveQueryHash:e,activeQueryHash:r,queryCache:n})=>{var i,s,o,a;const c=(i=fr(n,()=>{var m;return(m=n.find(t))==null?void 0:m.queryHash}))!=null?i:"",l=fr(n,()=>{var m;return(m=n.find(t))==null?void 0:m.state}),u=(s=fr(n,()=>{var m;return(m=n.find(t))==null?void 0:m.isStale()}))!=null?s:!1,p=(o=fr(n,()=>{var m;return(m=n.find(t))==null?void 0:m.isDisabled()}))!=null?o:!1,f=(a=fr(n,()=>{var m;return(m=n.find(t))==null?void 0:m.getObserversCount()}))!=null?a:0;return l?L.createElement("div",{role:"button","aria-label":"Open query details for "+c,onClick:()=>e(r===c?"":c),style:{display:"flex",borderBottom:"solid 1px "+it.grayAlt,cursor:"pointer",background:c===r?"rgba(255,255,255,.1)":void 0}},L.createElement("div",{style:{flex:"0 0 auto",width:"2em",height:"2em",background:k1({queryState:l,isStale:u,observerCount:f,theme:it}),display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",textShadow:u?"0":"0 0 10px black",color:u?"black":"white"}},f),p?L.createElement("div",{style:{flex:"0 0 auto",height:"2em",background:it.gray,display:"flex",alignItems:"center",fontWeight:"bold",padding:"0 0.5em"}},"disabled"):null,L.createElement(Tn,{style:{padding:".5em"}},""+c)):null});D1.displayName="QueryRow";function c9(){}const l9=process.env.NODE_ENV!=="development"?function(){return null}:s9;process.env.NODE_ENV;const Hu=new Ln.QueryClient,u9=({dAppName:t,dAppDescription:e,dAppUrl:r,dAppIconURL:n,children:i,debugQuery:s=!1})=>(ut.useEffect(()=>{h4({dAppName:t,dAppDescription:e,dAppUrl:r,dAppIconURL:n,onDisconnect:an.getState().onDisconnect}),ah.defaultMaxListeners=100},[]),_r(),r1.jsxs(Ln.QueryClientProvider,{client:Hu,children:[s&&r1.jsx(l9,{initialIsOpen:!1}),i]})),Zu=["decrypt","disconnect","getSelectedAccount","getBalance","getRecords","requestCreateEvent","getEvent","getEvents","createSharedState","importSharedState","requestSignature"],Ko=["aleo:1"],Fu=["chainChanged","accountSelected","selectedAccountSynced","sharedAccountSynced"],Ku="f0aaeffe71b636da453fce042d79d723";function d9(){return navigator?/Android/i.test(navigator.userAgent):!1}const z1={chains:Ko,enableExplorer:!0,explorerRecommendedWalletIds:[Ku]},U1={chains:Ko,enableExplorer:!1,mobileWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"puzzleapp://",universal:""}}],desktopWallets:[{id:"puzzle",name:"Puzzle Wallet",links:{native:"",universal:"https://walletconnect.puzzle.online/"}},{id:"avail",name:"Avail Wallet",links:{native:"avail://",universal:"https://avail.global"}}],walletImages:{puzzle:"https://i.imgur.com/p9tHaFC.png",avail:"https://i.imgur.com/GxNn8BO.png"}},Yu=d9()?z1:U1,h9={requiredNamespaces:{aleo:{methods:Zu,chains:Ko,events:Fu}}},W1={name:"@puzzlehq/sdk-core",displayName:"Puzzle SDK",version:"0.2.32-beta.1",description:"Your portal to privacy",main:"./dist/puzzle.cjs.js",module:"./dist/puzzle.es.js",browser:"./dist/puzzle.umd.js",types:"./dist/types/src/index.d.ts",private:!1,exports:{".":{import:"./dist/puzzle.es.js",require:"./dist/puzzle.cjs.js",browser:"./dist/puzzle.umd.js",types:"./dist/types/src/index.d.ts"}},type:"module",scripts:{"fetch-fix":"find dist -type f \\( -name '*.js' -o -name '*.cjs' \\) -exec sed -i '' 's/self.fetch[[:space:]]*||/fetch ||/g' {} \\;","ws-fix":`find ./dist -type f -name 'index*' -exec sed -i '' -e 's/require(\\"ws\\")/(() => {try { return require(\\"ws\\") } catch (e) { } })()/g' {} +;`,build:"vite build && tsc --declaration --emitDeclarationOnly --outDir dist/types && pnpm fetch-fix && pnpm ws-fix","type-check":"tsc --noEmit"},repository:{type:"git",url:"git+https://github.com/puzzlehq/puzzle-sdk.git"},dependencies:{"@puzzlehq/types":"1.0.11","@walletconnect/modal-sign-html":"^2.6.2","@walletconnect/types":"^2.11.2","@walletconnect/utils":"^2.11.2",debug:"^4.3.4",events:"^3.3.0",ws:"^8.16.0"},peerDependencies:{buffer:"^6.0.3"},keywords:["puzzle","html","aleo","web3","crypto"],author:"Puzzle",license:"ISC",bugs:{url:"https://github.com/puzzlehq/puzzle-sdk/issues"},homepage:"https://github.com/puzzlehq/puzzle-sdk#readme"},Gu=new ah;let ei;async function p9(t){let e=!1;const r=W1.version,n=localStorage.getItem("puzzle_sdk_version");if(r!==n&&(console.log(`${W1.name}: Updated from `+n+" to "+r+"!"),localStorage.setItem("puzzle_sdk_version",r),e=!0),console.log("web3modal_puzzle_props",Yu),ei=new bg.WalletConnectModalSign({projectId:t.projectId??Ku,metadata:{name:t.dAppName,description:t.dAppDescription,url:window?window.location.hostname:t.dAppUrl??"NO URL",icons:[t.dAppIconURL]},modalOptions:{...Yu}}),e){localStorage.removeItem("puzzle-hasInjectedConnection");try{f9(ei,t.onDisconnect)}catch(i){console.error(i)}}ei.onSessionDelete(()=>{localStorage.removeItem("puzzle-hasInjectedConnection"),t.onDisconnect&&t.onDisconnect()}),ei.onSessionExpire(()=>{localStorage.removeItem("puzzle-hasInjectedConnection"),t.onDisconnect&&t.onDisconnect()}),window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE")}async function f9(t,e){const r=await(t==null?void 0:t.getSession());r&&(console.log("Disconnecting session",r),e&&e(),t.disconnect({topic:r.topic,reason:tl.getSdkError("USER_DISCONNECTED")}))}async function kr(){return new Promise(t=>{if(ei)t(ei);else{const e=setInterval(()=>{ei&&(clearInterval(e),t(ei))},200)}window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE")})}const V1=async t=>{var r;if(!!!((r=window==null?void 0:window.aleo)!=null&&r.puzzleWalletClient))return localStorage.setItem("puzzle-hasInjectedConnection","false"),!1;try{return await window.aleo.puzzleWalletClient.isConnected.query({sessionTopic:t})?(localStorage.setItem("puzzle-hasInjectedConnection","true"),!0):(localStorage.setItem("puzzle-hasInjectedConnection","false"),!1)}catch(n){return console.warn(n),localStorage.setItem("puzzle-hasInjectedConnection","false"),!1}},An=()=>{var r;return!((r=window==null?void 0:window.aleo)!=null&&r.puzzleWalletClient)?!1:localStorage.getItem("puzzle-hasInjectedConnection")==="true"},m9=async()=>{const t=await kr(),e=await t.getSession();if(!e||!t)return{error:"no session or connection"};const r={topic:e.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getSelectedAccount"}};if(An())try{return await window.aleo.puzzleWalletClient.getSelectedAccount.query(r)}catch(n){return console.error("getAccount error",n),{error:n.message}}try{return await t.request(r)}catch(n){return console.error("getAccount error",n),{error:n.message}}},g9=async({address:t})=>{const e=await kr(),r=await e.getSession();if(!r||!e)return{error:"no session or connection"};const n={topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getBalance",params:{assetId:void 0,address:t}}};if(An())try{return await window.aleo.puzzleWalletClient.getBalance.query(n)}catch(i){const s=i.message;return console.error("getBalance error",i),{error:s}}try{return await e.request(n)}catch(i){const s=i.message;return console.error("getBalance error",i),{error:s}}},y9=async()=>{const t=await kr();if(!t)throw new Error("call setConnection() first!");const e=await t.getSession();if(e)return console.log("Already connected!",e),e;try{const r=await t.connect({requiredNamespaces:{aleo:{methods:Zu,chains:Ko,events:Fu}}});return Gu.emit("session_change"),r&&await V1(r.topic),window.localStorage.removeItem("WALLETCONNECT_DEEPLINK_CHOICE"),r}catch(r){console.error("connect error",r)}},v9=async t=>{const e=await kr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{error:"no session or connection"};const n=t==null?void 0:t.inputs.map(i=>typeof i=="string"?i:i.plaintext);try{return await e.request({topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"requestCreateEvent",params:{...t,inputs:n}}})}catch(i){return console.error("createEvent error",i),{error:i.message}}},w9=async()=>{const t=await kr(),e=await(t==null?void 0:t.getSession());if(!e||!t)return{error:"no session or connection"};const r={topic:e.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"createSharedState",params:{}}};if(An())try{return await window.aleo.puzzleWalletClient.createSharedState.mutation(r)}catch(n){return console.error("createSharedState error",n),{error:n.message}}try{return await t.request(r)}catch(n){return console.error("createSharedState error",n),{error:n.message}}},b9=async t=>{const e=await kr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{error:"no session or connection"};const n={topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"decrypt",params:{ciphertexts:t}}};if(An())try{return await window.aleo.puzzleWalletClient.decrypt.query(n)}catch(i){const s=i.message;return console.error("decrypt error",i),{error:s}}try{return await e.request(n)}catch(i){return console.error("decrypt error",i),{error:i.message}}},_9=async()=>{const t=await kr(),e=await(t==null?void 0:t.getSession());if(!e||!t)return{error:"no session or connection"};try{try{await t.disconnect({reason:tl.getSdkError("USER_DISCONNECTED"),topic:e.topic}),localStorage.removeItem("puzzle-hasInjectedConnection"),Gu.emit("session_change")}catch(r){console.warn(r)}return{}}catch(r){return console.error("error disconnecting",r),{error:r.message}}},E9=async({id:t,address:e})=>{const r=await kr(),n=await(r==null?void 0:r.getSession());if(!n||!r)return{event:void 0,error:"no session or connection"};const i={topic:n.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getEvent",params:{id:t,address:e}}};if(An())try{return await window.aleo.puzzleWalletClient.getEvent.query(i)}catch(o){return console.error("getEvent error",o),{error:o.message}}const s=async()=>await r.request(i);try{return await s()}catch(o){return console.error("getEvents error",o),{error:o.message}}},x9=async t=>{const e=await kr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{events:void 0,error:"no session or connection"};(t==null?void 0:t.programId)===""&&(t.programId=void 0);const n={topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getEvents",params:{filter:t,page:0}}};if(An())try{return await window.aleo.puzzleWalletClient.getEvents.query(n)}catch(s){return console.error("getEvents error",s),{error:s.message}}const i=async(s=0)=>await e.request(n);try{return await i()}catch(s){return console.error("getEvents error",s),{error:s.message}}},S9=async t=>{const e=await kr(),r=await(e==null?void 0:e.getSession());if(!r||!e)return{error:"no session or connection"};const n={topic:r.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"importSharedState",params:{seed:t}}};if(An())try{return await window.aleo.puzzleWalletClient.importSharedState.mutation(n)}catch(i){return console.error("importSharedState error",i),{error:i.message}}try{return await e.request(n)}catch(i){return console.error("importSharedState error",i),{error:i.message}}},I9=async({address:t,filter:e,page:r=0})=>{const n=await kr(),i=await(n==null?void 0:n.getSession());if(!i||!n)return{error:"no session or connection"};const s={topic:i.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"getRecords",params:{address:t,filter:e,page:r}}};if(An())try{return await window.aleo.puzzleWalletClient.getRecords.query(s)}catch(a){return console.error("getRecords error",a),{error:a.message}}const o=async(a=0)=>await n.request(s);try{return await o()}catch(a){return console.error("getRecords error",a),{error:a.message}}},C9=async({message:t,address:e})=>{const r=await kr(),n=await(r==null?void 0:r.getSession());if(!n||!r)return{error:"no session or connection"};try{return await r.request({topic:n.topic,chainId:"aleo:1",request:{jsonrpc:"2.0",method:"requestSignature",params:{message:t,address:vc.test(e??"")?e:void 0}}})}catch(i){return console.error("signature error",i),{error:i.message}}},O9=20,B1=_g("wallet:sdk");B1.enabled=!0;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xc=window,Qu=xc.ShadowRoot&&(xc.ShadyCSS===void 0||xc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ju=Symbol(),q1=new WeakMap;let H1=class{constructor(t,e,r){if(this._$cssResult$=!0,r!==Ju)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(Qu&&t===void 0){const r=e!==void 0&&e.length===1;r&&(t=q1.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&q1.set(e,t))}return t}toString(){return this.cssText}};const k9=t=>new H1(typeof t=="string"?t:t+"",void 0,Ju),at=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new H1(r,t,Ju)},T9=(t,e)=>{Qu?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const n=document.createElement("style"),i=xc.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)})},Z1=Qu?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return k9(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Xu;const Sc=window,F1=Sc.trustedTypes,A9=F1?F1.emptyScript:"",K1=Sc.reactiveElementPolyfillSupport,ed={toAttribute(t,e){switch(e){case Boolean:t=t?A9:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},Y1=(t,e)=>e!==t&&(e==e||t==t),td={attribute:!0,type:String,converter:ed,reflect:!1,hasChanged:Y1},rd="finalized";let bs=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),((e=this.h)!==null&&e!==void 0?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((e,r)=>{const n=this._$Ep(r,e);n!==void 0&&(this._$Ev.set(n,r),t.push(n))}),t}static createProperty(t,e=td){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const r=typeof t=="symbol"?Symbol():"__"+t,n=this.getPropertyDescriptor(t,r,e);n!==void 0&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||td}static finalize(){if(this.hasOwnProperty(rd))return!1;this[rd]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const e=this.properties,r=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of r)this.createProperty(n,e[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const n of r)e.unshift(Z1(n))}else t!==void 0&&e.push(Z1(t));return e}static _$Ep(t,e){const r=e.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(e=>e(this))}addController(t){var e,r;((e=this._$ES)!==null&&e!==void 0?e:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)===null||r===void 0||r.call(t))}removeController(t){var e;(e=this._$ES)===null||e===void 0||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])})}createRenderRoot(){var t;const e=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return T9(e,this.constructor.elementStyles),e}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(e=>{var r;return(r=e.hostConnected)===null||r===void 0?void 0:r.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(e=>{var r;return(r=e.hostDisconnected)===null||r===void 0?void 0:r.call(e)})}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e,r=td){var n;const i=this.constructor._$Ep(t,r);if(i!==void 0&&r.reflect===!0){const s=(((n=r.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?r.converter:ed).toAttribute(e,r.type);this._$El=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$El=null}}_$AK(t,e){var r;const n=this.constructor,i=n._$Ev.get(t);if(i!==void 0&&this._$El!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:((r=s.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?s.converter:ed;this._$El=i,this[i]=o.fromAttribute(e,s.type),this._$El=null}}requestUpdate(t,e,r){let n=!0;t!==void 0&&(((r=r||this.constructor.getPropertyOptions(t)).hasChanged||Y1)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),r.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((n,i)=>this[i]=n),this._$Ei=void 0);let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostUpdate)===null||i===void 0?void 0:i.call(n)}),this.update(r)):this._$Ek()}catch(n){throw e=!1,this._$Ek(),n}e&&this._$AE(r)}willUpdate(t){}_$AE(t){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostUpdated)===null||n===void 0?void 0:n.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((e,r)=>this._$EO(r,this[r],e)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};bs[rd]=!0,bs.elementProperties=new Map,bs.elementStyles=[],bs.shadowRootOptions={mode:"open"},K1==null||K1({ReactiveElement:bs}),((Xu=Sc.reactiveElementVersions)!==null&&Xu!==void 0?Xu:Sc.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var nd;const Ic=window,_s=Ic.trustedTypes,G1=_s?_s.createPolicy("lit-html",{createHTML:t=>t}):void 0,id="$lit$",ti=`lit$${(Math.random()+"").slice(9)}$`,Q1="?"+ti,P9=`<${Q1}>`,Li=document,Yo=()=>Li.createComment(""),Go=t=>t===null||typeof t!="object"&&typeof t!="function",J1=Array.isArray,R9=t=>J1(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",sd=`[ 	
\f\r]`,Qo=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,X1=/-->/g,em=/>/g,ji=RegExp(`>|${sd}(?:([^\\s"'>=/]+)(${sd}*=${sd}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),tm=/'/g,rm=/"/g,nm=/^(?:script|style|textarea|title)$/i,im=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),te=im(1),Ct=im(2),Mi=Symbol.for("lit-noChange"),Wt=Symbol.for("lit-nothing"),sm=new WeakMap,Di=Li.createTreeWalker(Li,129,null,!1);function om(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return G1!==void 0?G1.createHTML(e):e}const N9=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=Qo;for(let a=0;a<r;a++){const c=t[a];let l,u,p=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===Qo?u[1]==="!--"?o=X1:u[1]!==void 0?o=em:u[2]!==void 0?(nm.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=ji):u[3]!==void 0&&(o=ji):o===ji?u[0]===">"?(o=i??Qo,p=-1):u[1]===void 0?p=-2:(p=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?ji:u[3]==='"'?rm:tm):o===rm||o===tm?o=ji:o===X1||o===em?o=Qo:(o=ji,i=void 0);const m=o===ji&&t[a+1].startsWith("/>")?" ":"";s+=o===Qo?c+P9:p>=0?(n.push(l),c.slice(0,p)+id+c.slice(p)+ti+m):c+ti+(p===-2?(n.push(void 0),a):m)}return[om(t,s+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class Jo{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=N9(e,r);if(this.el=Jo.createElement(l,n),Di.currentNode=this.el.content,r===2){const p=this.el.content,f=p.firstChild;f.remove(),p.append(...f.childNodes)}for(;(i=Di.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const p=[];for(const f of i.getAttributeNames())if(f.endsWith(id)||f.startsWith(ti)){const m=u[o++];if(p.push(f),m!==void 0){const g=i.getAttribute(m.toLowerCase()+id).split(ti),w=/([.?@])?(.*)/.exec(m);c.push({type:1,index:s,name:w[2],strings:g,ctor:w[1]==="."?L9:w[1]==="?"?M9:w[1]==="@"?D9:Cc})}else c.push({type:6,index:s})}for(const f of p)i.removeAttribute(f)}if(nm.test(i.tagName)){const p=i.textContent.split(ti),f=p.length-1;if(f>0){i.textContent=_s?_s.emptyScript:"";for(let m=0;m<f;m++)i.append(p[m],Yo()),Di.nextNode(),c.push({type:2,index:++s});i.append(p[f],Yo())}}}else if(i.nodeType===8)if(i.data===Q1)c.push({type:2,index:s});else{let p=-1;for(;(p=i.data.indexOf(ti,p+1))!==-1;)c.push({type:7,index:s}),p+=ti.length-1}s++}}static createElement(e,r){const n=Li.createElement("template");return n.innerHTML=e,n}}function Es(t,e,r=t,n){var i,s,o,a;if(e===Mi)return e;let c=n!==void 0?(i=r._$Co)===null||i===void 0?void 0:i[n]:r._$Cl;const l=Go(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((s=c==null?void 0:c._$AO)===null||s===void 0||s.call(c,!1),l===void 0?c=void 0:(c=new l(t),c._$AT(t,r,n)),n!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:r._$Cl=c),c!==void 0&&(e=Es(t,c._$AS(t,e.values),c,n)),e}class $9{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:Li).importNode(n,!0);Di.currentNode=s;let o=Di.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new Xo(o,o.nextSibling,this,e):l.type===1?u=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(u=new z9(o,this,e)),this._$AV.push(u),l=i[++c]}a!==(l==null?void 0:l.index)&&(o=Di.nextNode(),a++)}return Di.currentNode=Li,s}v(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Xo{constructor(e,r,n,i){var s;this.type=2,this._$AH=Wt,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cp=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Es(this,e,r),Go(e)?e===Wt||e==null||e===""?(this._$AH!==Wt&&this._$AR(),this._$AH=Wt):e!==this._$AH&&e!==Mi&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):R9(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Wt&&Go(this._$AH)?this._$AA.nextSibling.data=e:this.$(Li.createTextNode(e)),this._$AH=e}g(e){var r;const{values:n,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Jo.createElement(om(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.v(n);else{const o=new $9(s,this),a=o.u(this.options);o.v(n),this.$(a),this._$AH=o}}_$AC(e){let r=sm.get(e.strings);return r===void 0&&sm.set(e.strings,r=new Jo(e)),r}T(e){J1(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Xo(this.k(Yo()),this.k(Yo()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cp=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class Cc{constructor(e,r,n,i,s){this.type=1,this._$AH=Wt,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Wt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=Es(this,e,r,0),o=!Go(e)||e!==this._$AH&&e!==Mi,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Es(this,a[n+c],r,c),l===Mi&&(l=this._$AH[c]),o||(o=!Go(l)||l!==this._$AH[c]),l===Wt?e=Wt:e!==Wt&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Wt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class L9 extends Cc{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Wt?void 0:e}}const j9=_s?_s.emptyScript:"";let M9=class extends Cc{constructor(){super(...arguments),this.type=4}j(t){t&&t!==Wt?this.element.setAttribute(this.name,j9):this.element.removeAttribute(this.name)}};class D9 extends Cc{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){var n;if((e=(n=Es(this,e,r,0))!==null&&n!==void 0?n:Wt)===Mi)return;const i=this._$AH,s=e===Wt&&i!==Wt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Wt&&(i===Wt||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}let z9=class{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Es(this,t)}};const am=Ic.litHtmlPolyfillSupport;am==null||am(Jo,Xo),((nd=Ic.litHtmlVersions)!==null&&nd!==void 0?nd:Ic.litHtmlVersions=[]).push("2.8.0");const U9=(t,e,r)=>{var n,i;const s=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:e;let o=s._$litPart$;if(o===void 0){const a=(i=r==null?void 0:r.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new Xo(e.insertBefore(Yo(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var od,ad;class ze extends bs{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const n=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=n.firstChild),n}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=U9(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Mi}}ze.finalized=!0,ze._$litElement$=!0,(od=globalThis.litElementHydrateSupport)===null||od===void 0||od.call(globalThis,{LitElement:ze});const cm=globalThis.litElementPolyfillSupport;cm==null||cm({LitElement:ze}),((ad=globalThis.litElementVersions)!==null&&ad!==void 0?ad:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qe=t=>e=>typeof e=="function"?((r,n)=>(customElements.define(r,n),n))(t,e):((r,n)=>{const{kind:i,elements:s}=n;return{kind:i,elements:s,finisher(o){customElements.define(r,o)}}})(t,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const W9=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}},V9=(t,e,r)=>{e.constructor.createProperty(r,t)};function Ae(t){return(e,r)=>r!==void 0?V9(t,e,r):W9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function xr(t){return Ae({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var cd;((cd=window.HTMLSlotElement)===null||cd===void 0?void 0:cd.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const B9={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},q9=t=>(...e)=>({_$litDirective$:t,values:e});class H9{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pn=q9(class extends H9{constructor(t){var e;if(super(t),t.type!==B9.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((r=this.nt)===null||r===void 0)&&r.has(s))&&this.it.add(s);return this.render(e)}const i=t.element.classList;this.it.forEach(s=>{s in e||(i.remove(s),this.it.delete(s))});for(const s in e){const o=!!e[s];o===this.it.has(s)||!((n=this.nt)===null||n===void 0)&&n.has(s)||(o?(i.add(s),this.it.add(s)):(i.remove(s),this.it.delete(s)))}return Mi}});function Z9(t,e){t.indexOf(e)===-1&&t.push(e)}const lm=(t,e,r)=>Math.min(Math.max(r,t),e),Lr={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Oc=t=>typeof t=="number",xs=t=>Array.isArray(t)&&!Oc(t[0]),F9=(t,e,r)=>{const n=e-t;return((r-t)%n+n)%n+t};function K9(t,e){return xs(t)?t[F9(0,t.length,e)]:t}const um=(t,e,r)=>-r*t+r*e+t,dm=()=>{},ri=t=>t,ld=(t,e,r)=>e-t===0?1:(r-t)/(e-t);function hm(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=ld(0,e,n);t.push(um(r,1,i))}}function Y9(t){const e=[0];return hm(e,t-1),e}function G9(t,e=Y9(t.length),r=ri){const n=t.length,i=n-e.length;return i>0&&hm(e,i),s=>{let o=0;for(;o<n-2&&!(s<e[o+1]);o++);let a=lm(0,1,ld(e[o],e[o+1],s));return a=K9(r,o)(a),um(t[o],t[o+1],a)}}const pm=t=>Array.isArray(t)&&Oc(t[0]),ud=t=>typeof t=="object"&&!!t.createAnimation,Ss=t=>typeof t=="function",Q9=t=>typeof t=="string",ea={ms:t=>t*1e3,s:t=>t/1e3},fm=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,J9=1e-7,X9=12;function ex(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=fm(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>J9&&++a<X9);return o}function ta(t,e,r,n){if(t===e&&r===n)return ri;const i=s=>ex(s,0,1,t,r);return s=>s===0||s===1?s:fm(i(s),e,n)}const tx=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return lm(0,1,i/t)},mm={ease:ta(.25,.1,.25,1),"ease-in":ta(.42,0,1,1),"ease-in-out":ta(.42,0,.58,1),"ease-out":ta(0,0,.58,1)},rx=/\((.*?)\)/;function gm(t){if(Ss(t))return t;if(pm(t))return ta(...t);if(mm[t])return mm[t];if(t.startsWith("steps")){const e=rx.exec(t);if(e){const r=e[1].split(",");return tx(parseFloat(r[0]),r[1].trim())}}return ri}class ym{constructor(e,r=[0,1],{easing:n,duration:i=Lr.duration,delay:s=Lr.delay,endDelay:o=Lr.endDelay,repeat:a=Lr.repeat,offset:c,direction:l="normal",autoplay:u=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=ri,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((f,m)=>{this.resolve=f,this.reject=m}),n=n||Lr.easing,ud(n)){const f=n.createAnimation(r);n=f.easing,r=f.keyframes||r,i=f.duration||i}this.repeat=a,this.easing=xs(n)?ri:gm(n),this.updateDuration(i);const p=G9(r,c,xs(n)?n.map(gm):ri);this.tick=f=>{var m;s=s;let g=0;this.pauseTime!==void 0?g=this.pauseTime:g=(f-this.startTime)*this.rate,this.t=g,g/=1e3,g=Math.max(g-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(g=this.totalDuration);const w=g/this.duration;let C=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&C--;const _=C%2;(l==="reverse"||l==="alternate"&&_||l==="alternate-reverse"&&!_)&&(I=1-I);const E=g>=this.totalDuration?1:Math.min(I,1),b=p(this.easing(E));e(b),this.pauseTime===void 0&&(this.playState==="finished"||g>=this.totalDuration+o)?(this.playState="finished",(m=this.resolve)===null||m===void 0||m.call(this,b)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},u&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}var dd=function(){};process.env.NODE_ENV!=="production"&&(dd=function(t,e){if(!t)throw new Error(e)});class nx{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const hd=new WeakMap;function vm(t){return hd.has(t)||hd.set(t,{transforms:[],values:new Map}),hd.get(t)}function ix(t,e){return t.has(e)||t.set(e,new nx),t.get(e)}const sx=["","X","Y","Z"],ox=["translate","scale","rotate","skew"],kc={x:"translateX",y:"translateY",z:"translateZ"},wm={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},ax={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:wm,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:ri},skew:wm},ra=new Map,pd=t=>`--motion-${t}`,Tc=["x","y","z"];ox.forEach(t=>{sx.forEach(e=>{Tc.push(t+e),ra.set(pd(t+e),ax[t])})});const cx=(t,e)=>Tc.indexOf(t)-Tc.indexOf(e),lx=new Set(Tc),bm=t=>lx.has(t),ux=(t,e)=>{kc[e]&&(e=kc[e]);const{transforms:r}=vm(t);Z9(r,e),t.style.transform=dx(r)},dx=t=>t.sort(cx).reduce(hx,"").trim(),hx=(t,e)=>`${t} ${e}(var(${pd(e)}))`,fd=t=>t.startsWith("--"),_m=new Set;function px(t){if(!_m.has(t)){_m.add(t);try{const{syntax:e,initialValue:r}=ra.has(t)?ra.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch{}}}const md=(t,e)=>document.createElement("div").animate(t,e),Em={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{md({opacity:[1]})}catch{return!1}return!0},finished:()=>!!md({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{md({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},gd={},Is={};for(const t in Em)Is[t]=()=>(gd[t]===void 0&&(gd[t]=Em[t]()),gd[t]);const fx=.015,mx=(t,e)=>{let r="";const n=Math.round(e/fx);for(let i=0;i<n;i++)r+=t(ld(0,n-1,i))+", ";return r.substring(0,r.length-2)},xm=(t,e)=>Ss(t)?Is.linearEasing()?`linear(${mx(t,e)})`:Lr.easing:pm(t)?gx(t):t,gx=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function yx(t,e){for(let r=0;r<t.length;r++)t[r]===null&&(t[r]=r?t[r-1]:e());return t}const vx=t=>Array.isArray(t)?t:[t];function yd(t){return kc[t]&&(t=kc[t]),bm(t)?pd(t):t}const Ac={get:(t,e)=>{e=yd(e);let r=fd(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&r!==0){const n=ra.get(e);n&&(r=n.initialValue)}return r},set:(t,e,r)=>{e=yd(e),fd(e)?t.style.setProperty(e,r):t.style[e]=r}};function Sm(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function wx(t,e){var r;let n=(e==null?void 0:e.toDefaultUnit)||ri;const i=t[t.length-1];if(Q9(i)){const s=((r=i.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(n=o=>o+s)}return n}function bx(){return window.__MOTION_DEV_TOOLS_RECORD}function _x(t,e,r,n={},i){const s=bx(),o=n.record!==!1&&s;let a,{duration:c=Lr.duration,delay:l=Lr.delay,endDelay:u=Lr.endDelay,repeat:p=Lr.repeat,easing:f=Lr.easing,persist:m=!1,direction:g,offset:w,allowWebkitAcceleration:C=!1,autoplay:I=!0}=n;const _=vm(t),E=bm(e);let b=Is.waapi();E&&ux(t,e);const x=yd(e),v=ix(_.values,x),d=ra.get(x);return Sm(v.animation,!(ud(f)&&v.generator)&&n.record!==!1),()=>{const y=()=>{var D,G;return(G=(D=Ac.get(t,x))!==null&&D!==void 0?D:d==null?void 0:d.initialValue)!==null&&G!==void 0?G:0};let T=yx(vx(r),y);const R=wx(T,d);if(ud(f)){const D=f.createAnimation(T,e!=="opacity",y,x,v);f=D.easing,T=D.keyframes||T,c=D.duration||c}if(fd(x)&&(Is.cssRegisterProperty()?px(x):b=!1),E&&!Is.linearEasing()&&(Ss(f)||xs(f)&&f.some(Ss))&&(b=!1),b){d&&(T=T.map(q=>Oc(q)?d.toDefaultUnit(q):q)),T.length===1&&(!Is.partialKeyframes()||o)&&T.unshift(y());const D={delay:ea.ms(l),duration:ea.ms(c),endDelay:ea.ms(u),easing:xs(f)?void 0:xm(f,c),direction:g,iterations:p+1,fill:"both"};a=t.animate({[x]:T,offset:w,easing:xs(f)?f.map(q=>xm(q,c)):void 0},D),a.finished||(a.finished=new Promise((q,A)=>{a.onfinish=q,a.oncancel=A}));const G=T[T.length-1];a.finished.then(()=>{m||(Ac.set(t,x,G),a.cancel())}).catch(dm),C||(a.playbackRate=1.000001)}else if(i&&E)T=T.map(D=>typeof D=="string"?parseFloat(D):D),T.length===1&&T.unshift(parseFloat(y())),a=new i(D=>{Ac.set(t,x,R?R(D):D)},T,Object.assign(Object.assign({},n),{duration:c,easing:f}));else{const D=T[T.length-1];Ac.set(t,x,d&&Oc(D)?d.toDefaultUnit(D):D)}return o&&s(t,e,T,{duration:c,delay:l,easing:f,repeat:p,offset:w},"motion-one"),v.setAnimation(a),a&&!I&&a.pause(),a}}const Ex=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function xx(t,e){var r;return typeof t=="string"?e?((r=e[t])!==null&&r!==void 0||(e[t]=document.querySelectorAll(t)),t=e[t]):t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const Sx=t=>t(),Im=(t,e,r=Lr.duration)=>new Proxy({animations:t.map(Sx).filter(Boolean),duration:r,options:e},Cx),Ix=t=>t.animations[0],Cx={get:(t,e)=>{const r=Ix(t);switch(e){case"duration":return t.duration;case"currentTime":return ea.s((r==null?void 0:r[e])||0);case"playbackRate":case"playState":return r==null?void 0:r[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(Ox)).catch(dm)),t.finished;case"stop":return()=>{t.animations.forEach(n=>Sm(n))};case"forEachNative":return n=>{t.animations.forEach(i=>n(i,t))};default:return typeof(r==null?void 0:r[e])>"u"?void 0:()=>t.animations.forEach(n=>n[e]())}},set:(t,e,r)=>{switch(e){case"currentTime":r=ea.ms(r);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},Ox=t=>t.finished;function kx(t,e,r){return Ss(t)?t(e,r):t}function Tx(t){return function(e,r,n={}){e=xx(e);const i=e.length;dd(!!i,"No valid element provided."),dd(!!r,"No keyframes defined.");const s=[];for(let o=0;o<i;o++){const a=e[o];for(const c in r){const l=Ex(n,c);l.delay=kx(l.delay,o,i);const u=_x(a,c,r[c],l,t);s.push(u)}}return Im(s,n,n.duration)}}const Ax=Tx(ym);function Px(t,e={}){return Im([()=>{const r=new ym(t,[0,1],e);return r.finished.catch(()=>{}),r}],e,e.duration)}function zi(t,e,r){return(Ss(t)?Px:Ax)(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mr=t=>t??Wt;var na={},Rx=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Cm={},Tr={};let vd;const Nx=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Tr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Tr.getSymbolTotalCodewords=function(t){return Nx[t]},Tr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},Tr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');vd=t},Tr.isKanjiModeEnabled=function(){return typeof vd<"u"},Tr.toSJIS=function(t){return vd(t)};var Pc={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return e(r)}catch{return n}}})(Pc);function Om(){this.buffer=[],this.length=0}Om.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var $x=Om;function ia(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}ia.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},ia.prototype.get=function(t,e){return this.data[t*this.size+e]},ia.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},ia.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Lx=ia,km={};(function(t){const e=Tr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,i=e(r),s=i===145?26:Math.ceil((i-13)/(2*n-2))*2,o=[i-7];for(let a=1;a<n-1;a++)o[a]=o[a-1]-s;return o.push(6),o.reverse()},t.getPositions=function(r){const n=[],i=t.getRowColCoords(r),s=i.length;for(let o=0;o<s;o++)for(let a=0;a<s;a++)o===0&&a===0||o===0&&a===s-1||o===s-1&&a===0||n.push([i[o],i[a]]);return n}})(km);var Tm={};const jx=Tr.getSymbolSize,Am=7;Tm.getPositions=function(t){const e=jx(t);return[[0,0],[e-Am,0],[0,e-Am]]};var Pm={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},t.from=function(n){return t.isValid(n)?parseInt(n,10):void 0},t.getPenaltyN1=function(n){const i=n.size;let s=0,o=0,a=0,c=null,l=null;for(let u=0;u<i;u++){o=a=0,c=l=null;for(let p=0;p<i;p++){let f=n.get(u,p);f===c?o++:(o>=5&&(s+=e.N1+(o-5)),c=f,o=1),f=n.get(p,u),f===l?a++:(a>=5&&(s+=e.N1+(a-5)),l=f,a=1)}o>=5&&(s+=e.N1+(o-5)),a>=5&&(s+=e.N1+(a-5))}return s},t.getPenaltyN2=function(n){const i=n.size;let s=0;for(let o=0;o<i-1;o++)for(let a=0;a<i-1;a++){const c=n.get(o,a)+n.get(o,a+1)+n.get(o+1,a)+n.get(o+1,a+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(n){const i=n.size;let s=0,o=0,a=0;for(let c=0;c<i;c++){o=a=0;for(let l=0;l<i;l++)o=o<<1&2047|n.get(c,l),l>=10&&(o===1488||o===93)&&s++,a=a<<1&2047|n.get(l,c),l>=10&&(a===1488||a===93)&&s++}return s*e.N3},t.getPenaltyN4=function(n){let i=0;const s=n.data.length;for(let o=0;o<s;o++)i+=n.data[o];return Math.abs(Math.ceil(i*100/s/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(n,i){const s=i.size;for(let o=0;o<s;o++)for(let a=0;a<s;a++)i.isReserved(a,o)||i.xor(a,o,r(n,a,o))},t.getBestMask=function(n,i){const s=Object.keys(t.Patterns).length;let o=0,a=1/0;for(let c=0;c<s;c++){i(c),t.applyMask(c,n);const l=t.getPenaltyN1(n)+t.getPenaltyN2(n)+t.getPenaltyN3(n)+t.getPenaltyN4(n);t.applyMask(c,n),l<a&&(a=l,o=c)}return o}})(Pm);var Rc={};const ni=Pc,Nc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$c=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Rc.getBlocksCount=function(t,e){switch(e){case ni.L:return Nc[(t-1)*4+0];case ni.M:return Nc[(t-1)*4+1];case ni.Q:return Nc[(t-1)*4+2];case ni.H:return Nc[(t-1)*4+3];default:return}},Rc.getTotalCodewordsCount=function(t,e){switch(e){case ni.L:return $c[(t-1)*4+0];case ni.M:return $c[(t-1)*4+1];case ni.Q:return $c[(t-1)*4+2];case ni.H:return $c[(t-1)*4+3];default:return}};var Rm={},Lc={};const sa=new Uint8Array(512),jc=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)sa[e]=t,jc[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)sa[e]=sa[e-255]})(),Lc.log=function(t){if(t<1)throw new Error("log("+t+")");return jc[t]},Lc.exp=function(t){return sa[t]},Lc.mul=function(t,e){return t===0||e===0?0:sa[jc[t]+jc[e]]},function(t){const e=Lc;t.mul=function(r,n){const i=new Uint8Array(r.length+n.length-1);for(let s=0;s<r.length;s++)for(let o=0;o<n.length;o++)i[s+o]^=e.mul(r[s],n[o]);return i},t.mod=function(r,n){let i=new Uint8Array(r);for(;i.length-n.length>=0;){const s=i[0];for(let a=0;a<n.length;a++)i[a]^=e.mul(n[a],s);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=t.mul(n,new Uint8Array([1,e.exp(i)]));return n}}(Rm);const Nm=Rm;function wd(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}wd.prototype.initialize=function(t){this.degree=t,this.genPoly=Nm.generateECPolynomial(this.degree)},wd.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=Nm.mod(e,this.genPoly),n=this.degree-r.length;if(n>0){const i=new Uint8Array(this.degree);return i.set(r,n),i}return r};var Mx=wd,$m={},ii={},bd={};bd.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var hn={};const Lm="[0-9]+",Dx="[A-Z $%*+\\-./:]+";let oa="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";oa=oa.replace(/u/g,"\\u");const zx="(?:(?![A-Z0-9 $%*+\\-./:]|"+oa+`)(?:.|[\r
]))+`;hn.KANJI=new RegExp(oa,"g"),hn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),hn.BYTE=new RegExp(zx,"g"),hn.NUMERIC=new RegExp(Lm,"g"),hn.ALPHANUMERIC=new RegExp(Dx,"g");const Ux=new RegExp("^"+oa+"$"),Wx=new RegExp("^"+Lm+"$"),Vx=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");hn.testKanji=function(t){return Ux.test(t)},hn.testNumeric=function(t){return Wx.test(t)},hn.testAlphanumeric=function(t){return Vx.test(t)},function(t){const e=bd,r=hn;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(i,s){if(t.isValid(i))return i;try{return n(i)}catch{return s}}}(ii),function(t){const e=Tr,r=Rc,n=Pc,i=ii,s=bd,o=7973,a=e.getBCHDigit(o);function c(f,m,g){for(let w=1;w<=40;w++)if(m<=t.getCapacity(w,g,f))return w}function l(f,m){return i.getCharCountIndicator(f,m)+4}function u(f,m){let g=0;return f.forEach(function(w){const C=l(w.mode,m);g+=C+w.getBitsLength()}),g}function p(f,m){for(let g=1;g<=40;g++)if(u(f,g)<=t.getCapacity(g,m,i.MIXED))return g}t.from=function(f,m){return s.isValid(f)?parseInt(f,10):m},t.getCapacity=function(f,m,g){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const w=e.getSymbolTotalCodewords(f),C=r.getTotalCodewordsCount(f,m),I=(w-C)*8;if(g===i.MIXED)return I;const _=I-l(g,f);switch(g){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(f,m){let g;const w=n.from(m,n.M);if(Array.isArray(f)){if(f.length>1)return p(f,w);if(f.length===0)return 1;g=f[0]}else g=f;return c(g.mode,g.getLength(),w)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let m=f<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return f<<12|m}}($m);var jm={};const _d=Tr,Mm=1335,Bx=21522,Dm=_d.getBCHDigit(Mm);jm.getEncodedBits=function(t,e){const r=t.bit<<3|e;let n=r<<10;for(;_d.getBCHDigit(n)-Dm>=0;)n^=Mm<<_d.getBCHDigit(n)-Dm;return(r<<10|n)^Bx};var zm={};const qx=ii;function Cs(t){this.mode=qx.NUMERIC,this.data=t.toString()}Cs.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Cs.prototype.getLength=function(){return this.data.length},Cs.prototype.getBitsLength=function(){return Cs.getBitsLength(this.data.length)},Cs.prototype.write=function(t){let e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,i*3+1))};var Hx=Cs;const Zx=ii,Ed=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Os(t){this.mode=Zx.ALPHANUMERIC,this.data=t}Os.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},Os.prototype.getLength=function(){return this.data.length},Os.prototype.getBitsLength=function(){return Os.getBitsLength(this.data.length)},Os.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=Ed.indexOf(this.data[e])*45;r+=Ed.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(Ed.indexOf(this.data[e]),6)};var Fx=Os,Kx=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(i=(i-55296)*1024+s-56320+65536,n+=1)}if(i<128){e.push(i);continue}if(i<2048){e.push(i>>6|192),e.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128);continue}if(i>=65536&&i<=1114111){e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(i&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer};const Yx=Kx,Gx=ii;function ks(t){this.mode=Gx.BYTE,typeof t=="string"&&(t=Yx(t)),this.data=new Uint8Array(t)}ks.getBitsLength=function(t){return t*8},ks.prototype.getLength=function(){return this.data.length},ks.prototype.getBitsLength=function(){return ks.getBitsLength(this.data.length)},ks.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Qx=ks;const Jx=ii,Xx=Tr;function Ts(t){this.mode=Jx.KANJI,this.data=t}Ts.getBitsLength=function(t){return t*13},Ts.prototype.getLength=function(){return this.data.length},Ts.prototype.getBitsLength=function(){return Ts.getBitsLength(this.data.length)},Ts.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Xx.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var eS=Ts,Um={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,p,f,m,g,w,C;!a.empty();){c=a.pop(),l=c.value,p=c.cost,f=r[l]||{};for(u in f)f.hasOwnProperty(u)&&(m=f[u],g=p+m,w=o[u],C=typeof o[u]>"u",(C||w>g)&&(o[u]=g,a.push(u,g),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var I=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(I)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Um);var tS=Um.exports;(function(t){const e=ii,r=Hx,n=Fx,i=Qx,s=eS,o=hn,a=Tr,c=tS;function l(I){return unescape(encodeURIComponent(I)).length}function u(I,_,E){const b=[];let x;for(;(x=I.exec(E))!==null;)b.push({data:x[0],index:x.index,mode:_,length:x[0].length});return b}function p(I){const _=u(o.NUMERIC,e.NUMERIC,I),E=u(o.ALPHANUMERIC,e.ALPHANUMERIC,I);let b,x;return a.isKanjiModeEnabled()?(b=u(o.BYTE,e.BYTE,I),x=u(o.KANJI,e.KANJI,I)):(b=u(o.BYTE_KANJI,e.BYTE,I),x=[]),_.concat(E,b,x).sort(function(v,d){return v.index-d.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function f(I,_){switch(_){case e.NUMERIC:return r.getBitsLength(I);case e.ALPHANUMERIC:return n.getBitsLength(I);case e.KANJI:return s.getBitsLength(I);case e.BYTE:return i.getBitsLength(I)}}function m(I){return I.reduce(function(_,E){const b=_.length-1>=0?_[_.length-1]:null;return b&&b.mode===E.mode?(_[_.length-1].data+=E.data,_):(_.push(E),_)},[])}function g(I){const _=[];for(let E=0;E<I.length;E++){const b=I[E];switch(b.mode){case e.NUMERIC:_.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:_.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:_.push([b,{data:b.data,mode:e.BYTE,length:l(b.data)}]);break;case e.BYTE:_.push([{data:b.data,mode:e.BYTE,length:l(b.data)}])}}return _}function w(I,_){const E={},b={start:{}};let x=["start"];for(let v=0;v<I.length;v++){const d=I[v],y=[];for(let T=0;T<d.length;T++){const R=d[T],D=""+v+T;y.push(D),E[D]={node:R,lastCount:0},b[D]={};for(let G=0;G<x.length;G++){const q=x[G];E[q]&&E[q].node.mode===R.mode?(b[q][D]=f(E[q].lastCount+R.length,R.mode)-f(E[q].lastCount,R.mode),E[q].lastCount+=R.length):(E[q]&&(E[q].lastCount=R.length),b[q][D]=f(R.length,R.mode)+4+e.getCharCountIndicator(R.mode,_))}}x=y}for(let v=0;v<x.length;v++)b[x[v]].end=0;return{map:b,table:E}}function C(I,_){let E;const b=e.getBestModeForData(I);if(E=e.from(_,b),E!==e.BYTE&&E.bit<b.bit)throw new Error('"'+I+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(b));switch(E===e.KANJI&&!a.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new r(I);case e.ALPHANUMERIC:return new n(I);case e.KANJI:return new s(I);case e.BYTE:return new i(I)}}t.fromArray=function(I){return I.reduce(function(_,E){return typeof E=="string"?_.push(C(E,null)):E.data&&_.push(C(E.data,E.mode)),_},[])},t.fromString=function(I,_){const E=p(I,a.isKanjiModeEnabled()),b=g(E),x=w(b,_),v=c.find_path(x.map,"start","end"),d=[];for(let y=1;y<v.length-1;y++)d.push(x.table[v[y]].node);return t.fromArray(m(d))},t.rawSplit=function(I){return t.fromArray(p(I,a.isKanjiModeEnabled()))}})(zm);const Mc=Tr,xd=Pc,rS=$x,nS=Lx,iS=km,sS=Tm,Sd=Pm,Id=Rc,oS=Mx,Dc=$m,aS=jm,cS=ii,Cd=zm;function lS(t,e){const r=t.size,n=sS.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function uS(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function dS(t,e){const r=iS.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function hS(t,e){const r=t.size,n=Dc.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function Od(t,e,r){const n=t.size,i=aS.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function pS(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function fS(t,e,r){const n=new rS;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),cS.getCharCountIndicator(c.mode,t)),c.write(n)});const i=Mc.getSymbolTotalCodewords(t),s=Id.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return mS(n,t,e)}function mS(t,e,r){const n=Mc.getSymbolTotalCodewords(e),i=Id.getTotalCodewordsCount(e,r),s=n-i,o=Id.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(s/o),p=u+1,f=l-u,m=new oS(f);let g=0;const w=new Array(o),C=new Array(o);let I=0;const _=new Uint8Array(t.buffer);for(let d=0;d<o;d++){const y=d<c?u:p;w[d]=_.slice(g,g+y),C[d]=m.encode(w[d]),g+=y,I=Math.max(I,y)}const E=new Uint8Array(n);let b=0,x,v;for(x=0;x<I;x++)for(v=0;v<o;v++)x<w[v].length&&(E[b++]=w[v][x]);for(x=0;x<f;x++)for(v=0;v<o;v++)E[b++]=C[v][x];return E}function gS(t,e,r,n){let i;if(Array.isArray(t))i=Cd.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=Cd.rawSplit(t);l=Dc.getBestVersionForData(u,r)}i=Cd.fromString(t,l||40)}else throw new Error("Invalid data");const s=Dc.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=fS(e,r,i),a=Mc.getSymbolSize(e),c=new nS(a);return lS(c,e),uS(c),dS(c,e),Od(c,r,0),e>=7&&hS(c,e),pS(c,o),isNaN(n)&&(n=Sd.getBestMask(c,Od.bind(null,c,r))),Sd.applyMask(n,c),Od(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}Cm.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let r=xd.M,n,i;return typeof e<"u"&&(r=xd.from(e.errorCorrectionLevel,xd.M),n=Dc.from(e.version),i=Sd.from(e.maskPattern),e.toSJISFunc&&Mc.setToSJISFunction(e.toSJISFunc)),gS(t,n,r,i)};var Wm={},kd={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:i,scale:i?4:s,margin:n,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},t.getImageWidth=function(r,n){const i=t.getScale(r,n);return Math.floor((r+n.margin*2)*i)},t.qrToImageData=function(r,n,i){const s=n.modules.size,o=n.modules.data,a=t.getScale(s,i),c=Math.floor((s+i.margin*2)*a),l=i.margin*a,u=[i.color.light,i.color.dark];for(let p=0;p<c;p++)for(let f=0;f<c;f++){let m=(p*c+f)*4,g=i.color.light;if(p>=l&&f>=l&&p<c-l&&f<c-l){const w=Math.floor((p-l)/a),C=Math.floor((f-l)/a);g=u[o[w*s+C]?1:0]}r[m++]=g.r,r[m++]=g.g,r[m++]=g.b,r[m]=g.a}}})(kd),function(t){const e=kd;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,s,o){let a=o,c=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(c=n()),a=e.getOptions(a);const l=e.getImageWidth(i.modules.size,a),u=c.getContext("2d"),p=u.createImageData(l,l);return e.qrToImageData(p.data,i,a),r(u,c,l),u.putImageData(p,0,0),c},t.renderToDataURL=function(i,s,o){let a=o;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const c=t.render(i,s,a),l=a.type||"image/png",u=a.rendererOpts||{};return c.toDataURL(l,u.quality)}}(Wm);var Vm={};const yS=kd;function Bm(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Td(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function vS(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?Td("M",c+r,.5+l+r):Td("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=Td("h",o),o=0)):i++}return n}Vm.render=function(t,e,r){const n=yS.getOptions(e),i=t.modules.size,s=t.modules.data,o=i+n.margin*2,a=n.color.light.a?"<path "+Bm(n.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+Bm(n.color.dark,"stroke")+' d="'+vS(s,i,n.margin)+'"/>',l='viewBox="0 0 '+o+" "+o+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof r=="function"&&r(null,u),u};const wS=Rx,Ad=Cm,qm=Wm,bS=Vm;function Pd(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!wS())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const u=Ad.create(r,n);c(t(u,e,n))}catch(u){l(u)}})}try{const c=Ad.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}na.create=Ad.create,na.toCanvas=Pd.bind(null,qm.render),na.toDataURL=Pd.bind(null,qm.renderToDataURL),na.toString=Pd.bind(null,function(t,e,r){return bS.render(t,r)});var _S=Object.defineProperty,Hm=Object.getOwnPropertySymbols,ES=Object.prototype.hasOwnProperty,xS=Object.prototype.propertyIsEnumerable,Zm=(t,e,r)=>e in t?_S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rd=(t,e)=>{for(var r in e||(e={}))ES.call(e,r)&&Zm(t,r,e[r]);if(Hm)for(var r of Hm(e))xS.call(e,r)&&Zm(t,r,e[r]);return t};function SS(){var t;const e=(t=Dn.state.themeMode)!=null?t:"dark",r={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":r.foreground[1],"--wcm-color-fg-2":r.foreground[2],"--wcm-color-fg-3":r.foreground[3],"--wcm-color-bg-1":r.background[1],"--wcm-color-bg-2":r.background[2],"--wcm-color-bg-3":r.background[3],"--wcm-color-overlay":r.overlay}}function Fm(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const Ye={getPreset(t){return Fm()[t]},setTheme(){const t=document.querySelector(":root"),{themeVariables:e}=Dn.state;if(t){const r=Rd(Rd(Rd({},SS()),Fm()),e);Object.entries(r).forEach(([n,i])=>t.style.setProperty(n,i))}},globalCss:at`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},IS=at`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var CS=Object.defineProperty,OS=Object.getOwnPropertyDescriptor,As=(t,e,r,n)=>{for(var i=n>1?void 0:n?OS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&CS(e,r,i),i};let si=class extends ze{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const t={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),te`<button class="${Pn(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};si.styles=[Ye.globalCss,IS],As([Ae({type:Boolean})],si.prototype,"disabled",2),As([Ae()],si.prototype,"iconLeft",2),As([Ae()],si.prototype,"iconRight",2),As([Ae()],si.prototype,"onClick",2),As([Ae()],si.prototype,"variant",2),si=As([Qe("wcm-button")],si);const kS=at`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var TS=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,Nd=(t,e,r,n)=>{for(var i=n>1?void 0:n?AS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&TS(e,r,i),i};let aa=class extends ze{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"wcm-secondary":this.variant==="secondary"};return te`<button ?disabled="${this.disabled}" class="${Pn(t)}"><slot></slot></button>`}};aa.styles=[Ye.globalCss,kS],Nd([Ae({type:Boolean})],aa.prototype,"disabled",2),Nd([Ae()],aa.prototype,"variant",2),aa=Nd([Qe("wcm-button-big")],aa);const PS=at`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var RS=Object.defineProperty,NS=Object.getOwnPropertyDescriptor,$S=(t,e,r,n)=>{for(var i=n>1?void 0:n?NS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&RS(e,r,i),i};let $d=class extends ze{render(){return te`<div><slot></slot></div>`}};$d.styles=[Ye.globalCss,PS],$d=$S([Qe("wcm-info-footer")],$d);const ct={CROSS_ICON:Ct`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:Ct`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:Ct`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:Ct`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:Ct`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:Ct`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:Ct`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:Ct`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:Ct`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:Ct`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:Ct`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:Ct`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:Ct`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:Ct`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:Ct`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:Ct`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:Ct`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:Ct`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},LS=at`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var jS=Object.defineProperty,MS=Object.getOwnPropertyDescriptor,DS=(t,e,r,n)=>{for(var i=n>1?void 0:n?MS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&jS(e,r,i),i};let Ld=class extends ze{render(){return te`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${ct.WALLET_CONNECT_LOGO} <button @click="${gi.close}">${ct.CROSS_ICON}</button></div>`}};Ld.styles=[Ye.globalCss,LS],Ld=DS([Qe("wcm-modal-backcard")],Ld);const zS=at`main{padding:20px;padding-top:0;width:100%}`;var US=Object.defineProperty,WS=Object.getOwnPropertyDescriptor,VS=(t,e,r,n)=>{for(var i=n>1?void 0:n?WS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&US(e,r,i),i};let jd=class extends ze{render(){return te`<main><slot></slot></main>`}};jd.styles=[Ye.globalCss,zS],jd=VS([Qe("wcm-modal-content")],jd);const BS=at`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var qS=Object.defineProperty,HS=Object.getOwnPropertyDescriptor,ZS=(t,e,r,n)=>{for(var i=n>1?void 0:n?HS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&qS(e,r,i),i};let Md=class extends ze{render(){return te`<footer><slot></slot></footer>`}};Md.styles=[Ye.globalCss,BS],Md=ZS([Qe("wcm-modal-footer")],Md);const FS=at`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var KS=Object.defineProperty,YS=Object.getOwnPropertyDescriptor,ca=(t,e,r,n)=>{for(var i=n>1?void 0:n?YS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&KS(e,r,i),i};let Ui=class extends ze{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return te`<button class="wcm-back-btn" @click="${bt.goBack}">${ct.BACK_ICON}</button>`}actionBtnTemplate(){return te`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"wcm-border":this.border},e=bt.state.history.length>1,r=this.title?te`<wcm-text variant="big-bold">${this.title}</wcm-text>`:te`<slot></slot>`;return te`<header class="${Pn(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Ui.styles=[Ye.globalCss,FS],ca([Ae()],Ui.prototype,"title",2),ca([Ae()],Ui.prototype,"onAction",2),ca([Ae()],Ui.prototype,"actionIcon",2),ca([Ae({type:Boolean})],Ui.prototype,"border",2),Ui=ca([Qe("wcm-modal-header")],Ui);const xe={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletIcon({id:t,image_id:e}){const{walletImages:r}=Sr.state;return r!=null&&r[t]?r[t]:e?gr.getWalletImageUrl(e):""},getWalletName(t,e=!1){return e&&t.length>8?`${t.substring(0,8)}..`:t},isMobileAnimation(){return window.innerWidth<=xe.MOBILE_BREAKPOINT},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,he.wait(3e3)])},getErrorMessage(t){return t instanceof Error?t.message:"Unknown Error"},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},handleMobileLinking(t){const{walletConnectUri:e}=Rt.state,{mobile:r,name:n}=t,i=r==null?void 0:r.native,s=r==null?void 0:r.universal;xe.setRecentWallet(t);function o(a){let c="";i?c=he.formatUniversalUrl(i,a,n):s&&(c=he.formatNativeUrl(s,a,n)),he.openHref(c,"_self")}e&&o(e)},handleAndroidLinking(){const{walletConnectUri:t}=Rt.state;t&&(he.setWalletConnectAndroidDeepLink(t),he.openHref(t,"_self"))},async handleUriCopy(){const{walletConnectUri:t}=Rt.state;if(t)try{await navigator.clipboard.writeText(t),zn.openToast("Link copied","success")}catch{zn.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:t}=Sr.state,e=Object.values(t??{});return Object.values(e)},truncate(t,e=8){return t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`},setRecentWallet(t){try{localStorage.setItem(xe.WCM_RECENT_WALLET_DATA,JSON.stringify(t))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const t=localStorage.getItem(xe.WCM_RECENT_WALLET_DATA);return t?JSON.parse(t):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(t,e){return t.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){he.openHref(xe.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:t,mobile:e}=he.getWalletRouterData(),r=!!(t!=null&&t.native),n=!!(t!=null&&t.universal),i=!!(e!=null&&e.native)||!!(e!=null&&e.universal);return{isDesktop:r,isMobile:i,isWeb:n}},goToConnectingView(t){bt.setData({Wallet:t});const e=he.isMobile(),{isDesktop:r,isWeb:n,isMobile:i}=xe.getCachedRouterWalletPlatforms();e?i?bt.push("MobileConnecting"):n?bt.push("WebConnecting"):bt.push("InstallWallet"):r?bt.push("DesktopConnecting"):n?bt.push("WebConnecting"):i?bt.push("MobileQrcodeConnecting"):bt.push("InstallWallet")}},GS=at`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var QS=Object.defineProperty,JS=Object.getOwnPropertyDescriptor,Dd=(t,e,r,n)=>{for(var i=n>1?void 0:n?JS(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&QS(e,r,i),i};let la=class extends ze{constructor(){super(),this.view=bt.state.view,this.prevView=bt.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=bt.subscribe(t=>{this.view!==t.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([t])=>{const e=`${t.contentRect.height}px`;this.oldHeight!=="0px"&&zi(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;(t=this.unsubscribe)==null||t.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return xe.getShadowRootElement(this,".wcm-router")}get contentEl(){return xe.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return te`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return te`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return te`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return te`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return te`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return te`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return te`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return te`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return te`<div>Not Found</div>`}}async onChangeRoute(){await zi(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=bt.state.view,zi(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return te`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};la.styles=[Ye.globalCss,GS],Dd([xr()],la.prototype,"view",2),Dd([xr()],la.prototype,"prevView",2),la=Dd([Qe("wcm-modal-router")],la);const XS=at`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var eI=Object.defineProperty,tI=Object.getOwnPropertyDescriptor,Km=(t,e,r,n)=>{for(var i=n>1?void 0:n?tI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&eI(e,r,i),i};let zc=class extends ze{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=zn.subscribe(t=>{t.open?(this.open=!0,this.timeout=setTimeout(()=>zn.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var t;(t=this.unsubscribe)==null||t.call(this),clearTimeout(this.timeout),zn.closeToast()}render(){const{message:t,variant:e}=zn.state,r={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?te`<div class="${Pn(r)}">${e==="success"?ct.CHECKMARK_ICON:null} ${e==="error"?ct.CROSS_ICON:null}<wcm-text variant="small-regular">${t}</wcm-text></div>`:null}};zc.styles=[Ye.globalCss,XS],Km([xr()],zc.prototype,"open",2),zc=Km([Qe("wcm-modal-toast")],zc);const rI=.1,Ym=2.5,Rn=7;function zd(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+rI}function nI(t,e){const r=Array.prototype.slice.call(na.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const iI={generate(t,e,r){const n="#141414",i="#ffffff",s=[],o=nI(t,"Q"),a=e/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach(({x:g,y:w})=>{const C=(o.length-Rn)*a*g,I=(o.length-Rn)*a*w,_=.45;for(let E=0;E<c.length;E+=1){const b=a*(Rn-E*2);s.push(Ct`<rect fill="${E%2===0?n:i}" height="${b}" rx="${b*_}" ry="${b*_}" width="${b}" x="${C+a*E}" y="${I+a*E}">`)}});const l=Math.floor((r+25)/a),u=o.length/2-l/2,p=o.length/2+l/2-1,f=[];o.forEach((g,w)=>{g.forEach((C,I)=>{if(o[w][I]&&!(w<Rn&&I<Rn||w>o.length-(Rn+1)&&I<Rn||w<Rn&&I>o.length-(Rn+1))&&!(w>u&&w<p&&I>u&&I<p)){const _=w*a+a/2,E=I*a+a/2;f.push([_,E])}})});const m={};return f.forEach(([g,w])=>{m[g]?m[g].push(w):m[g]=[w]}),Object.entries(m).map(([g,w])=>{const C=w.filter(I=>w.every(_=>!zd(I,_,a)));return[Number(g),C]}).forEach(([g,w])=>{w.forEach(C=>{s.push(Ct`<circle cx="${g}" cy="${C}" fill="${n}" r="${a/Ym}">`)})}),Object.entries(m).filter(([g,w])=>w.length>1).map(([g,w])=>{const C=w.filter(I=>w.some(_=>zd(I,_,a)));return[Number(g),C]}).map(([g,w])=>{w.sort((I,_)=>I<_?-1:1);const C=[];for(const I of w){const _=C.find(E=>E.some(b=>zd(I,b,a)));_?_.push(I):C.push([I])}return[g,C.map(I=>[I[0],I[I.length-1]])]}).forEach(([g,w])=>{w.forEach(([C,I])=>{s.push(Ct`<line x1="${g}" x2="${g}" y1="${C}" y2="${I}" stroke="${n}" stroke-width="${a/(Ym/2)}" stroke-linecap="round">`)})}),s}},sI=at`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var oI=Object.defineProperty,aI=Object.getOwnPropertyDescriptor,Ps=(t,e,r,n)=>{for(var i=n>1?void 0:n?aI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&oI(e,r,i),i};let Nn=class extends ze{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const t=Dn.state.themeMode==="light"?this.size:this.size-36;return Ct`<svg height="${t}" width="${t}">${iI.generate(this.uri,t,t/4)}</svg>`}render(){const t={"wcm-dark":Dn.state.themeMode==="dark"};return te`<div style="${`width: ${this.size}px`}" class="${Pn(t)}">${this.walletId||this.imageUrl?te`<wcm-wallet-image walletId="${mr(this.walletId)}" imageId="${mr(this.imageId)}" imageUrl="${mr(this.imageUrl)}"></wcm-wallet-image>`:ct.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Nn.styles=[Ye.globalCss,sI],Ps([Ae()],Nn.prototype,"uri",2),Ps([Ae({type:Number})],Nn.prototype,"size",2),Ps([Ae()],Nn.prototype,"imageId",2),Ps([Ae()],Nn.prototype,"walletId",2),Ps([Ae()],Nn.prototype,"imageUrl",2),Nn=Ps([Qe("wcm-qrcode")],Nn);const cI=at`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var lI=Object.defineProperty,uI=Object.getOwnPropertyDescriptor,Gm=(t,e,r,n)=>{for(var i=n>1?void 0:n?uI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&lI(e,r,i),i};let Uc=class extends ze{constructor(){super(...arguments),this.onChange=()=>null}render(){return te`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${ct.SEARCH_ICON}`}};Uc.styles=[Ye.globalCss,cI],Gm([Ae()],Uc.prototype,"onChange",2),Uc=Gm([Qe("wcm-search-input")],Uc);const dI=at`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var hI=Object.defineProperty,pI=Object.getOwnPropertyDescriptor,fI=(t,e,r,n)=>{for(var i=n>1?void 0:n?pI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&hI(e,r,i),i};let Ud=class extends ze{render(){return te`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Ud.styles=[Ye.globalCss,dI],Ud=fI([Qe("wcm-spinner")],Ud);const mI=at`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var gI=Object.defineProperty,yI=Object.getOwnPropertyDescriptor,Wd=(t,e,r,n)=>{for(var i=n>1?void 0:n?yI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&gI(e,r,i),i};let ua=class extends ze{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const t={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return te`<span><slot class="${Pn(t)}"></slot></span>`}};ua.styles=[Ye.globalCss,mI],Wd([Ae()],ua.prototype,"variant",2),Wd([Ae()],ua.prototype,"color",2),ua=Wd([Qe("wcm-text")],ua);const vI=at`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var wI=Object.defineProperty,bI=Object.getOwnPropertyDescriptor,oi=(t,e,r,n)=>{for(var i=n>1?void 0:n?bI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&wI(e,r,i),i};let pn=class extends ze{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?te`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?te`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){uh.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var t;return te`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${mr(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(t=this.label)!=null?t:xe.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};pn.styles=[Ye.globalCss,vI],oi([Ae()],pn.prototype,"onClick",2),oi([Ae()],pn.prototype,"name",2),oi([Ae()],pn.prototype,"walletId",2),oi([Ae()],pn.prototype,"label",2),oi([Ae()],pn.prototype,"imageId",2),oi([Ae({type:Boolean})],pn.prototype,"installed",2),oi([Ae({type:Boolean})],pn.prototype,"recent",2),pn=oi([Qe("wcm-wallet-button")],pn);const _I=at`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var EI=Object.defineProperty,xI=Object.getOwnPropertyDescriptor,Wc=(t,e,r,n)=>{for(var i=n>1?void 0:n?xI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&EI(e,r,i),i};let Rs=class extends ze{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var t;const e=(t=this.imageUrl)!=null&&t.length?this.imageUrl:xe.getWalletIcon({id:this.walletId,image_id:this.imageId});return te`${e.length?te`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:ct.WALLET_PLACEHOLDER}`}};Rs.styles=[Ye.globalCss,_I],Wc([Ae()],Rs.prototype,"walletId",2),Wc([Ae()],Rs.prototype,"imageId",2),Wc([Ae()],Rs.prototype,"imageUrl",2),Rs=Wc([Qe("wcm-wallet-image")],Rs);var SI=Object.defineProperty,II=Object.getOwnPropertyDescriptor,Qm=(t,e,r,n)=>{for(var i=n>1?void 0:n?II(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&SI(e,r,i),i};let Vd=class extends ze{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(t){try{t!=null&&t.length&&await Promise.all(t.map(async e=>xe.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",t)}}async preloadListings(){if(Sr.state.enableExplorer){await gr.getRecomendedWallets(),Rt.setIsDataLoaded(!0);const{recomendedWallets:t}=gr.state,e=t.map(r=>xe.getWalletIcon(r));await this.loadImages(e)}else Rt.setIsDataLoaded(!0)}async preloadCustomImages(){const t=xe.getCustomImageUrls();await this.loadImages(t)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(t){console.error(t),zn.openToast("Failed preloading","error")}}};Qm([xr()],Vd.prototype,"preload",2),Vd=Qm([Qe("wcm-explorer-context")],Vd);var CI=Object.defineProperty,OI=Object.getOwnPropertyDescriptor,kI=(t,e,r,n)=>{for(var i=n>1?void 0:n?OI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&CI(e,r,i),i};let Jm=class extends ze{constructor(){super(),this.unsubscribeTheme=void 0,Ye.setTheme(),this.unsubscribeTheme=Dn.subscribe(Ye.setTheme)}disconnectedCallback(){var t;(t=this.unsubscribeTheme)==null||t.call(this)}};Jm=kI([Qe("wcm-theme-context")],Jm);const TI=at`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var AI=Object.defineProperty,PI=Object.getOwnPropertyDescriptor,RI=(t,e,r,n)=>{for(var i=n>1?void 0:n?PI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&AI(e,r,i),i};let Bd=class extends ze{onGoToQrcode(){bt.push("Qrcode")}render(){const{recomendedWallets:t}=gr.state,e=[...t,...t],r=he.RECOMMENDED_WALLET_AMOUNT*2;return te`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${ct.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${ct.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map((n,i)=>{const s=e[i%e.length];return s?te`<wcm-wallet-image walletId="${s.id}" imageId="${s.image_id}"></wcm-wallet-image>`:ct.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${xe.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Bd.styles=[Ye.globalCss,TI],Bd=RI([Qe("wcm-android-wallet-selection")],Bd);const NI=at`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var $I=Object.defineProperty,LI=Object.getOwnPropertyDescriptor,Ns=(t,e,r,n)=>{for(var i=n>1?void 0:n?LI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&$I(e,r,i),i};let ai=class extends ze{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var t,e;const r=(e=(t=Dn.state.themeVariables)==null?void 0:t["--wcm-wallet-icon-large-border-radius"])!=null?e:Ye.getPreset("--wcm-wallet-icon-large-border-radius");let n=0;r.includes("%")?n=88/100*parseInt(r,10):n=parseInt(r,10),n*=1.17;const i=317-n*1.57,s=425-n*1.8;return te`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${n}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${i}" stroke-dashoffset="${s}"></use></svg>`}render(){const t={"wcm-error":this.isError,"wcm-stale":this.isStale};return te`<div class="${Pn(t)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${mr(this.walletId)}" imageId="${mr(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};ai.styles=[Ye.globalCss,NI],Ns([Ae()],ai.prototype,"walletId",2),Ns([Ae()],ai.prototype,"imageId",2),Ns([Ae({type:Boolean})],ai.prototype,"isError",2),Ns([Ae({type:Boolean})],ai.prototype,"isStale",2),Ns([Ae()],ai.prototype,"label",2),ai=Ns([Qe("wcm-connector-waiting")],ai);const $s={manualWallets(){var t,e;const{mobileWallets:r,desktopWallets:n}=Sr.state,i=(t=$s.recentWallet())==null?void 0:t.id,s=he.isMobile()?r:n,o=s==null?void 0:s.filter(a=>i!==a.id);return(e=he.isMobile()?o==null?void 0:o.map(({id:a,name:c,links:l})=>({id:a,name:c,mobile:l,links:l})):o==null?void 0:o.map(({id:a,name:c,links:l})=>({id:a,name:c,desktop:l,links:l})))!=null?e:[]},recentWallet(){return xe.getRecentWallet()},recomendedWallets(t=!1){var e;const r=t||(e=$s.recentWallet())==null?void 0:e.id,{recomendedWallets:n}=gr.state;return n.filter(i=>r!==i.id)}},ci={onConnecting(t){xe.goToConnectingView(t)},manualWalletsTemplate(){return $s.manualWallets().map(t=>te`<wcm-wallet-button walletId="${t.id}" name="${t.name}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(t=!1){return $s.recomendedWallets(t).map(e=>te`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${e.image_id}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recentWalletTemplate(){const t=$s.recentWallet();if(t)return te`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${mr(t.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`}},jI=at`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var MI=Object.defineProperty,DI=Object.getOwnPropertyDescriptor,zI=(t,e,r,n)=>{for(var i=n>1?void 0:n?DI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&MI(e,r,i),i};let qd=class extends ze{render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=Sr.state,r=t!=="ALL"&&e,n=ci.manualWalletsTemplate(),i=ci.recomendedWalletsTemplate();let s=[ci.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>4||r;let a=[];o?a=s.slice(0,3):a=s;const c=!!a.length;return te`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${xe.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${ct.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${ct.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${c?te`<wcm-modal-footer><div class="wcm-desktop-title">${ct.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${a} ${o?te`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};qd.styles=[Ye.globalCss,jI],qd=zI([Qe("wcm-desktop-wallet-selection")],qd);const UI=at`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var WI=Object.defineProperty,VI=Object.getOwnPropertyDescriptor,BI=(t,e,r,n)=>{for(var i=n>1?void 0:n?VI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&WI(e,r,i),i};let Hd=class extends ze{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=Sr.state;return t??e?te`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${t?te`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?te`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};Hd.styles=[Ye.globalCss,UI],Hd=BI([Qe("wcm-legal-notice")],Hd);const qI=at`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var HI=Object.defineProperty,ZI=Object.getOwnPropertyDescriptor,FI=(t,e,r,n)=>{for(var i=n>1?void 0:n?ZI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&HI(e,r,i),i};let Zd=class extends ze{onQrcode(){bt.push("Qrcode")}render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=Sr.state,r=t!=="ALL"&&e,n=ci.manualWalletsTemplate(),i=ci.recomendedWalletsTemplate();let s=[ci.recentWalletTemplate(),...n,...i];s=s.filter(Boolean);const o=s.length>8||r;let a=[];o?a=s.slice(0,7):a=s;const c=!!a.length;return te`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${ct.QRCODE_ICON}"></wcm-modal-header>${c?te`<wcm-modal-content><div>${a} ${o?te`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};Zd.styles=[Ye.globalCss,qI],Zd=FI([Qe("wcm-mobile-wallet-selection")],Zd);const KI=at`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var YI=Object.defineProperty,GI=Object.getOwnPropertyDescriptor,Fd=(t,e,r,n)=>{for(var i=n>1?void 0:n?GI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&YI(e,r,i),i};let Ls=class extends ze{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=gi.subscribe(t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var t;(t=this.unsubscribeModal)==null||t.call(this)}get overlayEl(){return xe.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return xe.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(t){if(document.querySelector("body"))if(t){const e=document.getElementById("wcm-styles");e==null||e.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(t){t.target===t.currentTarget&&gi.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const t=xe.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,r=.2;await Promise.all([zi(this.overlayEl,{opacity:[0,1]},{delay:e,duration:r}).finished,zi(this.containerEl,t,{delay:e,duration:r}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const t=xe.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([zi(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,zi(this.containerEl,t,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",t=>{var e;t.key==="Escape"?gi.close():t.key==="Tab"&&((e=t.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;(t=this.abortController)==null||t.abort(),this.abortController=void 0}render(){const t={"wcm-overlay":!0,"wcm-active":this.active};return te`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${Pn(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?te`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};Ls.styles=[Ye.globalCss,KI],Fd([xr()],Ls.prototype,"open",2),Fd([xr()],Ls.prototype,"active",2),Ls=Fd([Qe("wcm-modal")],Ls);const QI=at`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var JI=Object.defineProperty,XI=Object.getOwnPropertyDescriptor,da=(t,e,r,n)=>{for(var i=n>1?void 0:n?XI(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&JI(e,r,i),i};let Wi=class extends ze{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){he.isMobile()?bt.replace("MobileConnecting"):bt.replace("MobileQrcodeConnecting")}onDesktop(){bt.replace("DesktopConnecting")}onWeb(){bt.replace("WebConnecting")}render(){return te`<div>${this.isRetry?te`<slot></slot>`:null} ${this.isMobile?te`<wcm-button .onClick="${this.onMobile}" .iconLeft="${ct.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?te`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${ct.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?te`<wcm-button .onClick="${this.onWeb}" .iconLeft="${ct.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};Wi.styles=[Ye.globalCss,QI],da([Ae({type:Boolean})],Wi.prototype,"isMobile",2),da([Ae({type:Boolean})],Wi.prototype,"isDesktop",2),da([Ae({type:Boolean})],Wi.prototype,"isWeb",2),da([Ae({type:Boolean})],Wi.prototype,"isRetry",2),Wi=da([Qe("wcm-platform-selection")],Wi);const eC=at`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var tC=Object.defineProperty,rC=Object.getOwnPropertyDescriptor,nC=(t,e,r,n)=>{for(var i=n>1?void 0:n?rC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&tC(e,r,i),i};let Kd=class extends ze{onClick(){bt.push("WalletExplorer")}render(){const{recomendedWallets:t}=gr.state,e=$s.manualWallets(),r=[...t,...e].reverse().slice(0,4);return te`<button @click="${this.onClick}"><div class="wcm-icons">${r.map(n=>{const i=xe.getWalletIcon(n);if(i)return te`<img crossorigin="anonymous" src="${i}">`;const s=xe.getWalletIcon({id:n.id});return s?te`<img crossorigin="anonymous" src="${s}">`:ct.WALLET_PLACEHOLDER})} ${[...Array(4-r.length)].map(()=>ct.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};Kd.styles=[Ye.globalCss,eC],Kd=nC([Qe("wcm-view-all-wallets-button")],Kd);const iC=at`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var sC=Object.defineProperty,oC=Object.getOwnPropertyDescriptor,Vc=(t,e,r,n)=>{for(var i=n>1?void 0:n?oC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&sC(e,r,i),i};let js=class extends ze{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:t}=Rt.state;this.uri=t},0)}get overlayEl(){return xe.getShadowRootElement(this,".wcm-qr-container")}render(){return te`<div class="wcm-qr-container">${this.uri?te`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${mr(this.walletId)}" imageId="${mr(this.imageId)}"></wcm-qrcode>`:te`<wcm-spinner></wcm-spinner>`}</div>`}};js.styles=[Ye.globalCss,iC],Vc([Ae()],js.prototype,"walletId",2),Vc([Ae()],js.prototype,"imageId",2),Vc([xr()],js.prototype,"uri",2),js=Vc([Qe("wcm-walletconnect-qr")],js);var aC=Object.defineProperty,cC=Object.getOwnPropertyDescriptor,lC=(t,e,r,n)=>{for(var i=n>1?void 0:n?cC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&aC(e,r,i),i};let Yd=class extends ze{viewTemplate(){return he.isAndroid()?te`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:he.isMobile()?te`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:te`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return te`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};Yd.styles=[Ye.globalCss],Yd=lC([Qe("wcm-connect-wallet-view")],Yd);const uC=at`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var dC=Object.defineProperty,hC=Object.getOwnPropertyDescriptor,Xm=(t,e,r,n)=>{for(var i=n>1?void 0:n?hC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&dC(e,r,i),i};let Bc=class extends ze{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(t){const{desktop:e,name:r}=he.getWalletRouterData(),n=e==null?void 0:e.native;if(n){const i=he.formatNativeUrl(n,t,r);he.openHref(i,"_self")}}openDesktopApp(){const{walletConnectUri:t}=Rt.state,e=he.getWalletRouterData();xe.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=he.getWalletRouterData(),{isMobile:n,isWeb:i}=xe.getCachedRouterWalletPlatforms();return te`<wcm-modal-header title="${t}" .onAction="${xe.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${t} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${ct.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Bc.styles=[Ye.globalCss,uC],Xm([xr()],Bc.prototype,"isError",2),Bc=Xm([Qe("wcm-desktop-connecting-view")],Bc);const pC=at`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var fC=Object.defineProperty,mC=Object.getOwnPropertyDescriptor,gC=(t,e,r,n)=>{for(var i=n>1?void 0:n?mC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&fC(e,r,i),i};let Gd=class extends ze{onInstall(t){t&&he.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,homepage:n}=he.getWalletRouterData();return te`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${t} to continue. If multiple browser extensions are installed, disable non ${t} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${ct.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};Gd.styles=[Ye.globalCss,pC],Gd=gC([Qe("wcm-install-wallet-view")],Gd);const yC=at`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var vC=Object.defineProperty,wC=Object.getOwnPropertyDescriptor,eg=(t,e,r,n)=>{for(var i=n>1?void 0:n?wC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&vC(e,r,i),i};let qc=class extends ze{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(t,e=!1){const{mobile:r,name:n}=he.getWalletRouterData(),i=r==null?void 0:r.native,s=r==null?void 0:r.universal;if(i&&!e){const o=he.formatNativeUrl(i,t,n);he.openHref(o,"_self")}else if(s){const o=he.formatUniversalUrl(s,t,n);he.openHref(o,"_self")}}openMobileApp(t=!1){const{walletConnectUri:e}=Rt.state,r=he.getWalletRouterData();xe.setRecentWallet(r),e&&this.onFormatAndRedirect(e,t)}onGoToAppStore(t){t&&he.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,app:n,mobile:i}=he.getWalletRouterData(),{isWeb:s}=xe.getCachedRouterWalletPlatforms(),o=n==null?void 0:n.ios,a=i==null?void 0:i.universal;return te`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${ct.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?te`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${mr(r)}"></wcm-wallet-image><wcm-text>${`Get ${t}`}</wcm-text></div><wcm-button .iconRight="${ct.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};qc.styles=[Ye.globalCss,yC],eg([xr()],qc.prototype,"isError",2),qc=eg([Qe("wcm-mobile-connecting-view")],qc);const bC=at`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var _C=Object.defineProperty,EC=Object.getOwnPropertyDescriptor,xC=(t,e,r,n)=>{for(var i=n>1?void 0:n?EC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&_C(e,r,i),i};let Qd=class extends ze{render(){const{name:t,id:e,image_id:r}=he.getWalletRouterData(),{isDesktop:n,isWeb:i}=xe.getCachedRouterWalletPlatforms();return te`<wcm-modal-header title="${t}" .onAction="${xe.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${mr(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${t} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};Qd.styles=[Ye.globalCss,bC],Qd=xC([Qe("wcm-mobile-qr-connecting-view")],Qd);var SC=Object.defineProperty,IC=Object.getOwnPropertyDescriptor,CC=(t,e,r,n)=>{for(var i=n>1?void 0:n?IC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&SC(e,r,i),i};let Jd=class extends ze{render(){return te`<wcm-modal-header title="Scan the code" .onAction="${xe.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};Jd.styles=[Ye.globalCss],Jd=CC([Qe("wcm-qrcode-view")],Jd);const OC=at`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var kC=Object.defineProperty,TC=Object.getOwnPropertyDescriptor,ha=(t,e,r,n)=>{for(var i=n>1?void 0:n?TC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&kC(e,r,i),i};const Xd=40;let Vi=class extends ze{constructor(){super(...arguments),this.loading=!gr.state.wallets.listings.length,this.firstFetch=!gr.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=xe.debounce(t=>{t.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=t,gr.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),gr.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;(t=this.intersectionObserver)==null||t.disconnect()}get placeholderEl(){return xe.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([t])=>{t.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=gr.state,{listings:r,total:n}=this.search?e:t;return n<=Xd||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=gr.state,{listings:n,total:i,page:s}=this.search?r:e;if(!this.endReached&&(this.firstFetch||i>Xd&&n.length<i))try{this.loading=!0;const o=(t=Rt.state.chains)==null?void 0:t.join(","),{listings:a}=await gr.getWallets({page:this.firstFetch?1:s+1,entries:Xd,search:this.search,version:2,chains:o}),c=a.map(l=>xe.getWalletIcon(l));await Promise.all([...c.map(async l=>xe.preloadImage(l)),he.wait(300)]),this.endReached=this.isLastPage()}catch(o){console.error(o),zn.openToast(xe.getErrorMessage(o),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(t){he.isAndroid()?xe.handleMobileLinking(t):xe.goToConnectingView(t)}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}render(){const{wallets:t,search:e}=gr.state,{listings:r}=this.search?e:t,n=this.loading&&!r.length,i=this.search.length>=3;let s=ci.manualWalletsTemplate(),o=ci.recomendedWalletsTemplate(!0);i&&(s=s.filter(({values:l})=>xe.caseSafeIncludes(l[0],this.search)),o=o.filter(({values:l})=>xe.caseSafeIncludes(l[0],this.search)));const a=!this.loading&&!r.length&&!o.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return te`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${Pn(c)}"><div class="wcm-grid">${n?null:s} ${n?null:o} ${n?null:r.map(l=>te`${l?te`<wcm-wallet-button imageId="${l.image_id}" name="${l.name}" walletId="${l.id}" .onClick="${()=>this.onConnect(l)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${a?te`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?te`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Vi.styles=[Ye.globalCss,OC],ha([xr()],Vi.prototype,"loading",2),ha([xr()],Vi.prototype,"firstFetch",2),ha([xr()],Vi.prototype,"search",2),ha([xr()],Vi.prototype,"endReached",2),Vi=ha([Qe("wcm-wallet-explorer-view")],Vi);const AC=at`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var PC=Object.defineProperty,RC=Object.getOwnPropertyDescriptor,tg=(t,e,r,n)=>{for(var i=n>1?void 0:n?RC(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&PC(e,r,i),i};let Hc=class extends ze{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(t){const{desktop:e,name:r}=he.getWalletRouterData(),n=e==null?void 0:e.universal;if(n){const i=he.formatUniversalUrl(n,t,r);he.openHref(i,"_blank")}}openWebWallet(){const{walletConnectUri:t}=Rt.state,e=he.getWalletRouterData();xe.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=he.getWalletRouterData(),{isMobile:n,isDesktop:i}=xe.getCachedRouterWalletPlatforms(),s=he.isMobile();return te`<wcm-modal-header title="${t}" .onAction="${xe.handleUriCopy}" .actionIcon="${ct.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${mr(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${t} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${s?!1:i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${ct.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Hc.styles=[Ye.globalCss,AC],tg([xr()],Hc.prototype,"isError",2),Hc=tg([Qe("wcm-web-connecting-view")],Hc);const NC=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return Ls},get WcmQrCode(){return Nn}},Symbol.toStringTag,{value:"Module"}));Z.PAGE_SIZE=O9,Z.PuzzleWalletProvider=u9,Z.aleoAddressRegex=vc,Z.aleoFieldRegex=G0,Z.aleoPrivateKeyRegex=K0,Z.aleoTransactionIdRegex=Y0,Z.aleoU32=Q0,Z.aleoU64=J0,Z.aleoViewKeyRegex=F0,Z.checkForDesktopConnection=V1,Z.configureConnection=p9,Z.connect=y9,Z.createSharedState=w9,Z.decrypt=b9,Z.disconnect=_9,Z.emitter=Gu,Z.getAccount=m9,Z.getBalance=g9,Z.getEvent=E9,Z.getEvents=x9,Z.getFormattedRecordPlaintext=$E,Z.getRecords=I9,Z.getWalletConnectModalSignClient=kr,Z.hasInjectedConnection=An,Z.importSharedState=S9,Z.log_sdk=B1,Z.projectId=Ku,Z.queryClient=Hu,Z.requestCreateEvent=v9,Z.requestSignature=C9,Z.shortenAddress=Oo,Z.signClient_puzzleProps=h9,Z.useAccount=IE,Z.useBalance=CE,Z.useConnect=OE,Z.useCreateSharedState=kE,Z.useDecrypt=TE,Z.useDisconnect=AE,Z.useEvent=PE,Z.useEvents=RE,Z.useImportSharedState=NE,Z.useOnSessionDelete=wu,Z.useOnSessionEvent=hs,Z.useOnSessionExpire=L0,Z.useOnSessionUpdate=bu,Z.useRecords=LE,Z.useRequestCreateEvent=jE,Z.useRequestSignature=W8,Z.useSession=_r,Z.useWalletStore=an,Z.wc_aleo_chains=Ko,Z.wc_aleo_methods=Zu,Z.wc_events=Fu,Z.web3modal_puzzle_props=Yu,Z.web3modal_puzzle_props_android=z1,Z.web3modal_puzzle_props_default=U1,Z.zodAddress=A8,Z.zodEventStatus=D8,Z.zodEventType=M8,Z.zodField=$8,Z.zodNetwork=z8,Z.zodPrivateKey=R8,Z.zodTransactionId=N8,Z.zodU32=L8,Z.zodU64=j8,Z.zodViewKey=P8,Z.zodVisibility=U8,Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"})});
